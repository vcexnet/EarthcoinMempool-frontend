"use strict";(self.webpackChunkmempool=self.webpackChunkmempool||[]).push([[371],{2589:(nt,X,n)=>{n.d(X,{E:()=>N});var t=n(4438),w=n(3103),j=n(5558),F=n(4437),W=n(7673),K=n(8141),k=n(6631),v=n(9836),b=n(9862),y=n(6078),H=n(2251),e=n(3366),T=n(2083),Y=n(8859),U=n(8185),L=n(5131),B=n(177),D=n(7435),V=n(4972);function Z(f,E){if(1&f){const r=t.RV6();t.j41(0,"div",10),t.bIt("chartInit",function(p){t.eBV(r);const M=t.XpG(4);return t.Njj(M.onChartInit(p))})("chartFinished",function(p){t.eBV(r);const M=t.XpG(4);return t.Njj(M.onChartFinished(p))}),t.k0s()}if(2&f){const r=t.XpG(4);t.HbH(r.style),t.Y8G("initOpts",r.chartInitOptions)("options",r.chartOptions)}}function J(f,E){1&f&&t.nrm(0,"div",11)}function Q(f,E){if(1&f&&(t.j41(0,"div"),t.DNE(1,Z,1,4,"div",8)(2,J,1,0,"div",9),t.k0s()),2&f){const r=t.XpG(3);t.HbH("full-container "+r.style+(r.fitContainer?" fit-container":"")),t.R7$(2),t.Y8G("ngIf",!r.chartOptions&&"nodepage"===r.style)}}function q(f,E){if(1&f&&(t.j41(0,"div",12),t.nrm(1,"div",13),t.k0s()),2&f){const r=t.XpG(3);t.HbH(r.style)}}function u(f,E){if(1&f&&(t.qex(0),t.DNE(1,Q,3,3,"div",6)(2,q,2,2,"div",7),t.bVm()),2&f){const r=t.XpG(2);t.R7$(),t.Y8G("ngIf",r.chartOptions),t.R7$(),t.Y8G("ngIf",(!r.stateService.isBrowser||r.isLoading)&&!r.disableSpinner)}}function G(f,E){if(1&f&&(t.j41(0,"div",4),t.DNE(1,u,3,2,"ng-container",5),t.nI1(2,"async"),t.k0s()),2&f){const r=t.XpG();t.HbH(r.style),t.R7$(),t.Y8G("ngIf",t.bMT(2,3,r.channelsObservable))}}function P(f,E){if(1&f){const r=t.RV6();t.j41(0,"div",19),t.bIt("chartInit",function(p){t.eBV(r);const M=t.XpG(3);return t.Njj(M.onChartInit(p))})("chartFinished",function(p){t.eBV(r);const M=t.XpG(3);return t.Njj(M.onChartFinished(p))}),t.k0s()}if(2&f){const r=t.XpG(3);t.Y8G("initOpts",r.chartInitOptions)("options",r.chartOptions)}}function O(f,E){1&f&&(t.qex(0),t.DNE(1,P,1,2,"div",18),t.bVm())}function x(f,E){if(1&f&&(t.j41(0,"div",14)(1,"div",15)(2,"div",16)(3,"span"),t.pXf(4,0),t.k0s()(),t.j41(5,"small",17),t.pXf(6,1),t.k0s()(),t.DNE(7,O,2,0,"ng-container",5),t.nI1(8,"async"),t.k0s()),2&f){const r=t.XpG();t.R7$(7),t.Y8G("ngIf",t.bMT(8,1,r.channelsObservable))}}let N=(()=>{class f{constructor(r,g,p,M,c,S,i,m){this.seoService=r,this.apiService=g,this.stateService=p,this.assetsService=M,this.router=c,this.zone=S,this.activatedRoute=i,this.amountShortenerPipe=m,this.style="graph",this.channel=[],this.fitContainer=!1,this.hasLocation=!0,this.placeholder=!1,this.disableSpinner=!1,this.readyEvent=new t.bkB,this.channelWidth=.6,this.channelOpacity=.1,this.channelColor="#466d9d",this.channelCurve=0,this.nodeSize=4,this.isLoading=!1,this.chartInstance=void 0,this.chartOptions={},this.chartInitOptions={renderer:"canvas"}}ngOnInit(){this.center="widget"===this.style?[0,40]:[0,5],this.zoom=1.3,"widget"===this.style&&!(0,b.Fr)()&&(this.zoom=3.5),"widget"===this.style&&(0,b.Fr)()&&(this.zoom=1.4,this.center=[0,10]),"graph"===this.style&&(this.center=[0,5],this.seoService.setTitle("\u0642\u0646\u0648\u0627\u062A \u0623\u0646\u0648\u0627\u062F \u0627\u0644\u0628\u0631\u0642 \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0627\u0644\u0645"),this.seoService.setDescription("\u0634\u0627\u0647\u062F \u0642\u0646\u0648\u0627\u062A \u0627\u0644\u0639\u0642\u062F \u0627\u0644\u062A\u0627\u0628\u0639\u0629 \u0644\u0634\u0628\u0643\u0629 Lightning \u063A\u064A\u0631 Tor \u0627\u0644\u062A\u064A \u062A\u0638\u0647\u0631 \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0627\u0644\u0645. \u0645\u0631\u0631/\u0627\u0636\u063A\u0637 \u0639\u0644\u0649 \u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u0633\u0645\u0627\u0621 \u0627\u0644\u0639\u0642\u062F \u0648\u062A\u0641\u0627\u0635\u064A\u0644\u0647\u0627.")),["nodepage","channelpage"].includes(this.style)&&(this.nodeSize=8),this.channelsObservable=this.activatedRoute.paramMap.pipe((0,w.c)(100),(0,j.n)(r=>(this.isLoading=!0,("channelpage"===this.style&&0===this.channel.length||!this.hasLocation)&&(this.isLoading=!1),(0,F.y)(this.assetsService.getWorldMapJson$,"channelpage"!==this.style?this.apiService.getChannelsGeo$(r.get("public_key")??void 0,this.style):[""],[r.get("public_key")??void 0],"widget"===this.style?(0,W.of)(void 0):this.apiService.getWorldNodes$()).pipe((0,K.M)(g=>{v.echarts.registerMap("world",g[0]);let p=g[3]?.maxLiquidity;const M=[],c=[],S={};let i,m=g[1];"channelpage"===this.style&&(m=0===this.channel.length?[]:[this.channel]);for(const o of m){"nodepage"===this.style&&!i&&(g[2]===o[0]?i=[o[2],o[3]]:g[2]===o[4]&&(i=[o[6],o[7]]));const a=0,l=1;let s=2,d=3;const _=4,C=5;let h=6,A=7,$=o[a],I=o[_];"widget"===this.style&&(s=0,d=1,h=2,A=3,$=o[s].toString()+o[d].toString(),I=o[h].toString()+o[A].toString());let z=2*Math.random()*Math.PI,tt=.01*Math.random();S[$]||(c.push([o[s]+tt*Math.cos(z),o[d]+tt*Math.sin(z),1,o[a],o[l]]),S[$]=c[c.length-1]),z=2*Math.random()*Math.PI,tt=.01*Math.random(),S[I]||(c.push([o[h]+tt*Math.cos(z),o[A]+tt*Math.sin(z),1,o[_],o[C]]),S[I]=c[c.length-1]);const et=[];et.push(S[$].slice(0,2)),et.push(S[I].slice(0,2)),M.push(et)}if("nodepage"===this.style&&i&&(this.center=[i[0],i[1]],this.zoom=5,this.channelWidth=1,this.channelOpacity=1),"channelpage"===this.style&&this.channel.length>0){this.channelWidth=2,this.channelOpacity=1,this.channelColor="#bafcff",this.channelCurve=.1,this.center=[(this.channel[2]+this.channel[6])/2,(this.channel[3]+this.channel[7])/2];const o=Math.sqrt(Math.pow(this.channel[7]-this.channel[3],2)+Math.pow(this.channel[6]-this.channel[2],2));this.zoom=-.05*o+8}if(g[3])for(const o of c){const a=g[3].nodes.find(l=>l[2]===o[3]);a&&(o.push(a[4],a[5],a[6]?.en,a[7]),p=Math.max(p??0,a[4]))}p=Math.max(1,p),this.prepareChartOptions(c,M,p)})))))}prepareChartOptions(r,g,p){let M;0===g.length&&(this.placeholder?(M={textStyle:{color:"white",fontSize:18},text:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0639\u0646 \u0627\u0644\u0645\u0648\u0642\u0639 \u0627\u0644\u062C\u063A\u0631\u0627\u0641\u064A",left:"center",top:"center"},this.zoom=1.5,this.center=[0,20]):(this.isLoading=!1,M={textStyle:{color:"white",fontSize:18},text:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0644\u0644\u0639\u0631\u0636\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u0627.",left:"center",top:"center"},this.zoom=1.5,this.center=[0,20])),this.chartOptions={silent:"widget"===this.style,title:M??void 0,tooltip:{},geo:{animation:!1,silent:!0,center:this.center,zoom:this.zoom,tooltip:{show:!1},map:"world",roam:"widget"!==this.style,itemStyle:{borderColor:"black",color:"#272b3f"},scaleLimit:{min:1.3,max:1e5},emphasis:{disabled:!0}},series:[{large:!0,type:"scatter",data:r,coordinateSystem:"geo",geoIndex:0,symbolSize:c=>p?10*Math.pow(c[5]/p,.2)+3:this.nodeSize,tooltip:{show:!0,backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)",align:"left"},borderColor:"#000",formatter:c=>{const S=c.data;return`\n              <b style="color: white">${S[4].length>0?S[4]:S[3].slice(0,20)}</b><br>\n              ${S[5]>=1e8?`${this.amountShortenerPipe.transform(S[5]/1e8)} EAC`:`${this.amountShortenerPipe.transform(S[5],2)} sats`}<br>`+"" + S[6] + "\u0642\u0646\u0648\u0627\u062A"+`<br>\n              ${(0,b.tO)(S[8])} ${S[7]}\n            `}},itemStyle:{color:c=>p?`${(0,y.tV)("#1E88E5","#D81B60",Math.pow(c.data[5]/p,.2))}`:"white",opacity:1,borderColor:"black",borderWidth:0},blendMode:"lighter",zlevel:2},{large:!1,progressive:"widget"===this.style?500:200,silent:!0,type:"lines",coordinateSystem:"geo",data:g,lineStyle:{opacity:this.channelOpacity,width:this.channelWidth,curveness:this.channelCurve,color:this.channelColor},blendMode:"lighter",tooltip:{show:!1},zlevel:1}]}}onChartInit(r){void 0===this.chartInstance&&(this.chartInstance=r,this.chartInstance.on("finished",()=>{this.isLoading=!1}),"widget"===this.style&&this.chartInstance.getZr().on("click",g=>{this.zone.run(()=>{const p=new k.U(this.stateService).transform("/graphs/lightning/nodes-channels-map");this.router.navigate([p])})}),this.chartInstance.on("click",g=>{g.data&&this.zone.run(()=>{const p=new k.U(this.stateService).transform(`/lightning/node/${g.data[3]}`);this.router.navigate([p])})}),this.chartInstance.on("georoam",g=>{if(!g.zoom||"nodepage"===this.style)return;const p=.005,M={series:this.chartOptions.series};let c=0;this.chartInstance.getOption().geo[0].zoom>5e3&&(c=2),M.series[0].itemStyle.borderWidth=c,M.series[1].lineStyle.opacity+=g.zoom>1?p:-p,M.series[1].lineStyle.width+=g.zoom>1?p:-p,M.series[1].lineStyle.opacity=Math.max(.05,Math.min(.5,M.series[1].lineStyle.opacity)),M.series[1].lineStyle.width=Math.max(.5,Math.min(1,M.series[1].lineStyle.width)),this.chartInstance.setOption(M)}))}onChartFinished(r){this.readyEvent.emit()}static#t=this.\u0275fac=function(g){return new(g||f)(t.rXU(H.B),t.rXU(e.G),t.rXU(T.d),t.rXU(Y.T),t.rXU(U.Ix),t.rXU(t.SKi),t.rXU(U.nX),t.rXU(L.x))};static#e=this.\u0275cmp=t.VBU({type:f,selectors:[["app-nodes-channels-map"]],inputs:{style:"style",publicKey:"publicKey",channel:"channel",fitContainer:"fitContainer",hasLocation:"hasLocation",placeholder:"placeholder",disableSpinner:"disableSpinner"},outputs:{readyEvent:"readyEvent"},decls:2,vars:2,consts:()=>{let r,g;return r="\u0642\u0646\u0648\u0627\u062A \u0623\u0646\u0648\u0627\u062F \u0627\u0644\u0628\u0631\u0642 \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0627\u0644\u0645",g="( \u0623\u0646\u0648\u0627\u062F \u062A\u0648\u0631 \u0645\u0633\u062A\u062B\u0646\u0627\u0629)",[r,g,["class","map-wrapper",3,"class",4,"ngIf"],["class","full-container-graph",4,"ngIf"],[1,"map-wrapper"],[4,"ngIf"],[3,"class",4,"ngIf"],["class","text-center loading-spinner",3,"class",4,"ngIf"],["class","chart","echarts","",3,"class","initOpts","options","chartInit","chartFinished",4,"browserOnly"],["style","padding-top: 30px",4,"ngIf"],["echarts","",1,"chart",3,"chartInit","chartFinished","initOpts","options"],[2,"padding-top","30px"],[1,"text-center","loading-spinner"],[1,"spinner-border","text-light"],[1,"full-container-graph"],[1,"card-header"],[1,"d-flex","d-md-block","align-items-baseline",2,"margin-bottom","-5px"],[2,"color","var(--transparent-fg)"],["class","chart-graph","echarts","",3,"initOpts","options","chartInit","chartFinished",4,"browserOnly"],["echarts","",1,"chart-graph",3,"chartInit","chartFinished","initOpts","options"]]},template:function(g,p){1&g&&t.DNE(0,G,3,5,"div",2)(1,x,9,3,"div",3),2&g&&(t.Y8G("ngIf","graph"!==p.style),t.R7$(),t.Y8G("ngIf","graph"===p.style))},dependencies:[B.bT,D.e,V.$P,B.Jj],styles:[".map-wrapper[_ngcontent-%COMP%]{height:100%}.map-wrapper.widget[_ngcontent-%COMP%]{height:250px}.map-wrapper.graph[_ngcontent-%COMP%]{margin-bottom:20px}.card-header[_ngcontent-%COMP%]{border-bottom:0;font-size:18px}@media (min-width: 465px){.card-header[_ngcontent-%COMP%]{font-size:20px}}.full-container[_ngcontent-%COMP%]{padding:0 15px;width:100%;min-height:600px;height:calc(100% - 150px)}.full-container.nodepage[_ngcontent-%COMP%], .full-container.channelpage[_ngcontent-%COMP%]{min-height:400px;margin-top:25px;margin-bottom:25px}.full-container.widget[_ngcontent-%COMP%]{height:250px;min-height:250px}.full-container.fit-container[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;min-height:100px}.full-container.fit-container[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{padding:0;min-height:100px}.chart[_ngcontent-%COMP%]{min-height:500px;width:100%;height:100%}@media (max-width: 992px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 829px){.chart[_ngcontent-%COMP%]{padding-bottom:50px}}@media (max-width: 767px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 629px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}@media (max-width: 567px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}.chart.graph[_ngcontent-%COMP%]{min-height:600px}.chart.nodepage[_ngcontent-%COMP%]{min-height:100%;width:100%;height:100%;padding-bottom:0}.chart.channelpage[_ngcontent-%COMP%]{min-height:400px}.widget[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;height:250px;-webkit-mask:linear-gradient(0deg,rgba(17,19,31,0) 5%,#11131f 25%)}.widget[_ngcontent-%COMP%] > .chart[_ngcontent-%COMP%]{min-height:250px;-webkit-mask:linear-gradient(180deg,rgba(17,19,31,0) 0%,#11131f 20%)}@media (max-width: 767.98px){.widget[_ngcontent-%COMP%] > .chart[_ngcontent-%COMP%]{padding-bottom:0}}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}@media (max-width: 767.98px){.loading-spinner[_ngcontent-%COMP%]{top:550px}}.loading-spinner.widget[_ngcontent-%COMP%]{position:absolute;top:200px;z-index:99;width:100%;left:0}@media (max-width: 767.98px){.loading-spinner.widget[_ngcontent-%COMP%]{top:250px}}.loading-spinner.nodepage[_ngcontent-%COMP%]{position:absolute;top:200px;z-index:99;width:100%;left:0}.loading-spinner.channelpage[_ngcontent-%COMP%]{position:absolute;top:400px;z-index:99;width:100%;left:0}@media (max-width: 767.98px){.loading-spinner.channelpage[_ngcontent-%COMP%]{top:450px}}.indexing-message[_ngcontent-%COMP%]{position:absolute;width:100%;text-align:center;margin-top:100px}.full-container-graph[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 15px;width:100%;height:calc(100vh - 225px);min-height:400px}@media (min-width: 992px){.full-container-graph[_ngcontent-%COMP%]{height:calc(100vh - 150px)}}.full-container-graph.widget[_ngcontent-%COMP%]{min-height:240px;height:240px;padding:0}.full-container-graph.fit-container[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;min-height:100px}.full-container-graph.fit-container[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{padding:0;min-height:100px}.chart-graph[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;padding-top:30px;padding-bottom:20px;padding-right:10px}@media (max-width: 992px){.chart-graph[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 829px){.chart-graph[_ngcontent-%COMP%]{padding-bottom:50px}}@media (max-width: 767px){.chart-graph[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 629px){.chart-graph[_ngcontent-%COMP%]{padding-bottom:55px}}@media (max-width: 567px){.chart-graph[_ngcontent-%COMP%]{padding-bottom:55px}}"],changeDetection:0})}return f})()},9589:(nt,X,n)=>{n.d(X,{E:()=>q});var t=n(4438),w=n(4412),j=n(5558),F=n(4572),W=n(8141),K=n(9836),k=n(6078),v=n(6631),b=n(9862),y=n(2251),H=n(3366),e=n(2083),T=n(8859),Y=n(8185),U=n(5131),L=n(177),B=n(7435),D=n(4972);function V(u,G){1&u&&(t.j41(0,"div",6)(1,"div",7)(2,"span"),t.pXf(3,0),t.k0s()(),t.j41(4,"small",8),t.pXf(5,1),t.k0s()())}function Z(u,G){if(1&u){const P=t.RV6();t.j41(0,"div",10),t.bIt("chartInit",function(x){t.eBV(P);const N=t.XpG(2);return t.Njj(N.onChartInit(x))})("chartFinished",function(x){t.eBV(P);const N=t.XpG(2);return t.Njj(N.onChartFinished(x))}),t.k0s()}if(2&u){const P=t.XpG(2);t.HbH(P.widget?"widget":""),t.Y8G("initOpts",P.chartInitOptions)("options",P.chartOptions)}}function J(u,G){1&u&&(t.qex(0),t.DNE(1,Z,1,4,"div",9),t.bVm())}function Q(u,G){1&u&&(t.j41(0,"div",11),t.nrm(1,"div",12),t.k0s())}let q=(()=>{class u{constructor(P,O,x,N,f,E,r,g){this.locale=P,this.seoService=O,this.apiService=x,this.stateService=N,this.assetsService=f,this.router=E,this.zone=r,this.amountShortenerPipe=g,this.widget=!1,this.nodes=void 0,this.type="none",this.fitContainer=!1,this.readyEvent=new t.bkB,this.isLoading=!0,this.chartInstance=void 0,this.chartOptions={},this.chartInitOptions={renderer:"svg"}}ngOnInit(){this.widget||(this.seoService.setTitle("\u0623\u0646\u0648\u0627\u062F \u0627\u0644\u0628\u0631\u0642 \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0627\u0644\u0645"),this.seoService.setDescription("\u0634\u0627\u0647\u062F \u0645\u0648\u0627\u0642\u0639 \u0627\u0644\u0639\u0642\u062F \u063A\u064A\u0631 \u0627\u0644\u062A\u0627\u0628\u0639\u0629 \u0644\u0634\u0628\u0643\u0629 Lightning \u063A\u064A\u0631 Tor \u0627\u0644\u062A\u064A \u062A\u0638\u0647\u0631 \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0627\u0644\u0645. \u0645\u0631\u0631/\u0627\u0636\u063A\u0637 \u0639\u0644\u0649 \u0627\u0644\u0646\u0642\u0627\u0637 \u0627\u0644\u0645\u0648\u062C\u0648\u062F\u0629 \u0639\u0644\u0649 \u0627\u0644\u062E\u0631\u064A\u0637\u0629 \u0644\u0644\u062D\u0635\u0648\u0644 \u0639\u0644\u0649 \u0623\u0633\u0645\u0627\u0621 \u0627\u0644\u0639\u0642\u062F \u0648\u062A\u0641\u0627\u0635\u064A\u0644\u0647\u0627.")),this.inputNodes$||(this.inputNodes$=new w.t(this.nodes)),this.nodes$=this.inputNodes$.pipe((0,j.n)(P=>P?[P]:this.apiService.getWorldNodes$())),this.observable$=(0,F.z)(this.assetsService.getWorldMapJson$,this.nodes$).pipe((0,W.M)(P=>{K.echarts.registerMap("world",P[0]);let O=P[1].maxLiquidity,x=P[1].nodes,N=[0,5];"country"===this.type?N=[0,0]:"isp"===this.type&&(N=[0,10]);let f=1.3;if(!x){x=[];for(const r of P[1])"country"===this.type&&(N[0]+=r.longitude,N[1]+=r.latitude),x.push([r.longitude,r.latitude,r.public_key,r.alias,r.capacity,r.channels,r.country,r.iso_code]),O=Math.max(O??0,r.capacity);"country"===this.type&&(N[0]/=P[1].length,N[1]/=P[1].length,f=6)}const E=[];for(const r of x){const g=2*Math.random()*Math.PI,p=.01*Math.random();E.push([r[0]+p*Math.cos(g),r[1]+p*Math.sin(g),r[4],r[3],r[2],r[5],r[6]?.en,r[7]])}O=Math.max(1,O),this.prepareChartOptions(E,O,N,f)}))}ngOnChanges(P){P.nodes&&(this.inputNodes$?this.inputNodes$.next(P.nodes.currentValue):this.inputNodes$=new w.t(P.nodes.currentValue))}prepareChartOptions(P,O,x,N){let f;0===P.length&&(f={textStyle:{color:"grey",fontSize:15},text:"\u0644\u0627 \u064A\u0648\u062C\u062F \u0628\u064A\u0627\u0646\u0627\u062A \u0644\u0644\u0639\u0631\u0636\u060C \u064A\u0631\u062C\u0649 \u0627\u0644\u0645\u062D\u0627\u0648\u0644\u0629 \u0644\u0627\u062D\u0642\u0627.",left:"center",top:"center"}),this.chartOptions={silent:!1,title:f??void 0,tooltip:{},geo:{animation:!1,silent:!0,center:x,zoom:N,tooltip:{show:!1},map:"world",roam:!0,itemStyle:{borderColor:"black",color:"#272b3f"},scaleLimit:{min:1.3,max:1e5},emphasis:{disabled:!0}},series:[{large:!1,type:"scatter",data:P,coordinateSystem:"geo",geoIndex:0,progressive:500,symbolSize:function(E){return 10*Math.pow(E[2]/O,.2)+3},tooltip:{position:function(E,r,g,p,M){return E},trigger:"item",show:!0,backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:0,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)",align:"left"},borderColor:"#000",formatter:E=>{const r=E.data;return`\n                <b style="color: white">${r[3].length>0?r[3]:r[4].slice(0,20)}</b><br>\n                ${r[2]>=1e8?`${this.amountShortenerPipe.transform(r[2]/1e8)} EAC`:`${this.amountShortenerPipe.transform(r[2],2)} sats`}<br>`+"" + r[5] + "\u0642\u0646\u0648\u0627\u062A"+`<br>\n                ${(0,b.tO)(r[7])} ${r[6]}\n              `}},itemStyle:{color:function(E){return`${(0,k.tV)("#1E88E5","#D81B60",Math.pow(E.data[2]/O,.2))}`},opacity:1,borderColor:"black",borderWidth:0},zlevel:2}]},this.isLoading=!1}onChartInit(P){void 0===this.chartInstance&&(this.chartInstance=P,this.chartInstance.on("finished",()=>{this.isLoading=!1}),this.chartInstance.on("click",O=>{O.data&&this.zone.run(()=>{const x=new v.U(this.stateService).transform(`/lightning/node/${O.data[4]}`);this.router.navigate([x])})}),this.chartInstance.on("georoam",O=>{this.chartInstance.resize()}))}onChartFinished(P){this.readyEvent.emit()}static#t=this.\u0275fac=function(O){return new(O||u)(t.rXU(t.xe9),t.rXU(y.B),t.rXU(H.G),t.rXU(e.d),t.rXU(T.T),t.rXU(Y.Ix),t.rXU(t.SKi),t.rXU(U.x))};static#e=this.\u0275cmp=t.VBU({type:u,selectors:[["app-nodes-map"]],inputs:{widget:"widget",nodes:"nodes",type:"type",fitContainer:"fitContainer"},outputs:{readyEvent:"readyEvent"},features:[t.OA$],decls:5,vars:9,consts:()=>{let P,O;return P="\u0623\u0646\u0648\u0627\u062F \u0627\u0644\u0628\u0631\u0642 \u0639\u0644\u0649 \u062E\u0631\u064A\u0637\u0629 \u0627\u0644\u0639\u0627\u0644\u0645",O="( \u0623\u0646\u0648\u0627\u062F \u062A\u0648\u0631 \u0645\u0633\u062A\u062B\u0646\u0627\u0629)",[P,O,[1,"full-container"],["class","card-header",4,"ngIf"],[4,"ngIf"],["class","text-center loading-spinner",4,"ngIf"],[1,"card-header"],[1,"d-flex","d-md-block","align-items-baseline",2,"margin-bottom","-5px"],[2,"color","var(--transparent-fg)"],["class","chart","echarts","",3,"class","initOpts","options","chartInit","chartFinished",4,"browserOnly"],["echarts","",1,"chart",3,"chartInit","chartFinished","initOpts","options"],[1,"text-center","loading-spinner"],[1,"spinner-border","text-light"]]},template:function(O,x){1&O&&(t.j41(0,"div",2),t.DNE(1,V,6,0,"div",3)(2,J,2,0,"ng-container",4),t.nI1(3,"async"),t.DNE(4,Q,2,0,"div",5),t.k0s()),2&O&&(t.HbH(x.widget?"widget":""),t.AVh("fit-container",x.fitContainer),t.R7$(),t.Y8G("ngIf",!x.widget),t.R7$(),t.Y8G("ngIf",t.bMT(3,7,x.observable$)),t.R7$(2),t.Y8G("ngIf",!x.stateService.isBrowser||x.isLoading))},dependencies:[L.bT,B.e,D.$P,L.Jj],styles:[".card-header[_ngcontent-%COMP%]{border-bottom:0;font-size:18px}@media (min-width: 465px){.card-header[_ngcontent-%COMP%]{font-size:20px}}@media (min-width: 992px){.card-header[_ngcontent-%COMP%]{height:40px}}.full-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 15px;width:100%;height:calc(100vh - 225px);min-height:400px}@media (min-width: 992px){.full-container[_ngcontent-%COMP%]{height:calc(100vh - 150px)}}.full-container.widget[_ngcontent-%COMP%]{min-height:240px;height:240px;padding:0}.full-container.fit-container[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;min-height:100px}.full-container.fit-container[_ngcontent-%COMP%]   .chart[_ngcontent-%COMP%]{padding:0;min-height:100px}.chart[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;padding-top:30px;padding-bottom:20px;padding-right:10px}@media (max-width: 992px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 829px){.chart[_ngcontent-%COMP%]{padding-bottom:50px}}@media (max-width: 767px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 629px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}@media (max-width: 567px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}.chart.widget[_ngcontent-%COMP%]{padding:0}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}@media (max-width: 767.98px){.loading-spinner[_ngcontent-%COMP%]{top:550px}}"],changeDetection:0})}return u})()},9303:(nt,X,n)=>{n.d(X,{c:()=>M});var t=n(4438),w=n(9836),j=n(9172),F=n(5558),W=n(8141),K=n(6354),k=n(7647),v=n(177),b=n(6078),y=n(9862),H=n(2251),e=n(8357),T=n(9417),Y=n(7291),U=n(5666),L=n(2083),B=n(5131),D=n(8185),V=n(60),Z=n(7435),J=n(4972),Q=n(6631);const q=()=>["fas","download"],u=c=>[c],G=c=>({height:c});function P(c,S){if(1&c&&(t.j41(0,"label",11),t.nrm(1,"input",13),t.nI1(2,"relativeUrl"),t.EFF(3," 1M "),t.k0s()),2&c){const i=t.XpG(2);t.AVh("active","1m"===i.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","1m")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/nodes-networks")))}}function O(c,S){if(1&c&&(t.j41(0,"label",11),t.nrm(1,"input",14),t.nI1(2,"relativeUrl"),t.EFF(3," 3M "),t.k0s()),2&c){const i=t.XpG(2);t.AVh("active","3d"===i.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","3m")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/nodes-networks")))}}function x(c,S){if(1&c&&(t.j41(0,"label",11),t.nrm(1,"input",15),t.nI1(2,"relativeUrl"),t.EFF(3," 6M "),t.k0s()),2&c){const i=t.XpG(2);t.AVh("active","6m"===i.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","6m")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/nodes-networks")))}}function N(c,S){if(1&c&&(t.j41(0,"label",11),t.nrm(1,"input",16),t.nI1(2,"relativeUrl"),t.EFF(3," 1Y "),t.k0s()),2&c){const i=t.XpG(2);t.AVh("active","1y"===i.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","1y")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/nodes-networks")))}}function f(c,S){if(1&c&&(t.j41(0,"label",11),t.nrm(1,"input",17),t.nI1(2,"relativeUrl"),t.EFF(3," 2Y "),t.k0s()),2&c){const i=t.XpG(2);t.AVh("active","2y"===i.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","2y")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/nodes-networks")))}}function E(c,S){if(1&c&&(t.j41(0,"label",11),t.nrm(1,"input",18),t.nI1(2,"relativeUrl"),t.EFF(3," 3Y "),t.k0s()),2&c){const i=t.XpG(2);t.AVh("active","3y"===i.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","3y")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/nodes-networks")))}}function r(c,S){if(1&c&&(t.j41(0,"form",8)(1,"div",9),t.DNE(2,P,4,8,"label",10)(3,O,4,8,"label",10)(4,x,4,8,"label",10)(5,N,4,8,"label",10)(6,f,4,8,"label",10)(7,E,4,8,"label",10),t.j41(8,"label",11),t.nrm(9,"input",12),t.nI1(10,"relativeUrl"),t.EFF(11," ALL "),t.k0s()()()),2&c){const i=S.ngIf,m=t.XpG();t.Y8G("formGroup",m.radioGroupForm),t.R7$(2),t.Y8G("ngIf",i.days>=30),t.R7$(),t.Y8G("ngIf",i.days>=90),t.R7$(),t.Y8G("ngIf",i.days>=180),t.R7$(),t.Y8G("ngIf",i.days>=365),t.R7$(),t.Y8G("ngIf",i.days>=730),t.R7$(),t.Y8G("ngIf",i.days>=1095),t.R7$(),t.AVh("active","all"===m.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","all")("routerLink",t.eq3(13,u,t.bMT(10,11,"/graphs/lightning/nodes-networks")))}}function g(c,S){if(1&c){const i=t.RV6();t.j41(0,"div",19),t.bIt("chartInit",function(o){t.eBV(i);const a=t.XpG();return t.Njj(a.onChartInit(o))}),t.k0s()}if(2&c){const i=t.XpG();t.Aen(t.eq3(6,G,i.widget?i.height+"px":null)),t.HbH(i.widget?"chart-widget":"chart"),t.Y8G("initOpts",i.chartInitOptions)("options",i.chartOptions)}}function p(c,S){1&c&&(t.j41(0,"div",20),t.nrm(1,"div",21),t.k0s())}let M=(()=>{class c{constructor(i,m,o,a,l,s,d,_){this.locale=i,this.seoService=m,this.lightningApiService=o,this.formBuilder=a,this.storageService=l,this.miningService=s,this.stateService=d,this.amountShortenerPipe=_,this.height=150,this.right=45,this.left=45,this.widget=!1,this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.dir="ltr",this.isLoading=!0,this.formatNumber=v.ZV,this.timespan="",this.chartInstance=void 0}ngOnInit(){let i=!0;this.widget?this.miningWindowPreference="3y":(this.seoService.setTitle("\u0623\u0646\u0648\u0627\u062F \u0628\u0631\u0642 \u0644\u0643\u0644 \u0634\u0628\u0643\u0629"),this.seoService.setDescription("\u0627\u0637\u0644\u0639 \u0639\u0644\u0649 \u0639\u062F\u062F \u0639\u0642\u062F \u0634\u0628\u0643\u0629 Lightning \u0627\u0644\u062A\u064A \u062A\u0645 \u062A\u0635\u0648\u0631\u0647\u0627 \u0628\u0645\u0631\u0648\u0631 \u0627\u0644\u0648\u0642\u062A \u0628\u0648\u0627\u0633\u0637\u0629 \u0627\u0644\u0634\u0628\u0643\u0629: Clearnet \u0641\u0642\u0637 (IPv4\u060C IPv6)\u060C \u0648darknet (Tor\u060C \u0648I2p\u060C \u0648cjdns)\u060C \u0648\u0643\u0644\u0627\u0647\u0645\u0627."),this.miningWindowPreference=this.miningService.getDefaultTimespan("all")),this.radioGroupForm=this.formBuilder.group({dateSpan:this.miningWindowPreference}),this.radioGroupForm.controls.dateSpan.setValue(this.miningWindowPreference),this.nodesNetworkObservable$=this.radioGroupForm.get("dateSpan").valueChanges.pipe((0,j.Z)(this.miningWindowPreference),(0,F.n)(m=>(this.timespan=m,!this.widget&&!i&&this.storageService.setValue("lightningWindowPreference",m),i=!1,this.miningWindowPreference=m,this.isLoading=!0,this.lightningApiService.cachedRequest(this.lightningApiService.listStatistics$,250,m).pipe((0,W.M)(o=>{const a=o.body;this.chartData={tor_nodes:a.map(l=>[1e3*l.added,l.tor_nodes]),clearnet_nodes:a.map(l=>[1e3*l.added,l.clearnet_nodes]),unannounced_nodes:a.map(l=>[1e3*l.added,l.unannounced_nodes]),clearnet_tor_nodes:a.map(l=>[1e3*l.added,l.clearnet_tor_nodes])},this.maxYAxis=0;for(const l of a)this.maxYAxis=Math.max(this.maxYAxis,l.tor_nodes+l.clearnet_nodes+l.unannounced_nodes+l.clearnet_tor_nodes);this.maxYAxis=3e3*Math.ceil(this.maxYAxis/3e3),this.prepareChartOptions(this.chartData,this.maxYAxis),this.isLoading=!1}),(0,K.T)(o=>({days:parseInt(o.headers.get("x-total-count"),10)}))))),(0,k.u)())}ngOnChanges(i){i.height&&this.chartData&&null!=this.maxYAxis&&this.prepareChartOptions(this.chartData,this.maxYAxis)}prepareChartOptions(i,m){let o;this.widget||0!==i.tor_nodes.length?this.widget&&i.tor_nodes.length>0&&(o={textStyle:{color:"grey",fontSize:11},text:"\u0623\u0646\u0648\u0627\u062F \u0628\u0631\u0642 \u0644\u0643\u0644 \u0634\u0628\u0643\u0629",left:"center",top:0,zlevel:10}):o={textStyle:{color:"grey",fontSize:15},text:"\u062A\u062C\u0631\u064A \u0627\u0644\u0641\u0647\u0631\u0633\u0629",left:"center",top:"center"};const a=[{zlevel:1,yAxisIndex:0,name:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",showSymbol:!1,symbol:"none",data:i.unannounced_nodes,type:"line",lineStyle:{width:2},areaStyle:{opacity:.5},stack:"Total",color:new w.echarts.graphic.LinearGradient(0,.75,0,1,[{offset:0,color:"#D81B60"},{offset:1,color:"#D81B60AA"}]),smooth:!1},{zlevel:1,yAxisIndex:0,name:"\u0643\u0644\u064A\u0631\u0646\u062A \u0648\u062F\u0627\u0631\u0643 \u0646\u062A",showSymbol:!1,symbol:"none",data:i.clearnet_tor_nodes,type:"line",lineStyle:{width:2},areaStyle:{opacity:.5},stack:"Total",color:new w.echarts.graphic.LinearGradient(0,.75,0,1,[{offset:0,color:"#be7d4c"},{offset:1,color:"#be7d4cAA"}]),smooth:!1},{zlevel:1,yAxisIndex:0,name:"\u0643\u0644\u064A\u0631\u0646\u062A \u0641\u0642\u0637 (IPv4 \u060C IPv6)",showSymbol:!1,symbol:"none",data:i.clearnet_nodes,type:"line",lineStyle:{width:2},areaStyle:{opacity:.5},stack:"Total",color:new w.echarts.graphic.LinearGradient(0,.75,0,1,[{offset:0,color:"#FFB300"},{offset:1,color:"#FFB300AA"}]),smooth:!1},{zlevel:1,yAxisIndex:0,name:"\u0627\u0644\u062F\u0627\u0631\u0643\u0646\u062A \u0641\u0642\u0637 (Tor\u060C I2P\u060C cjdns)",showSymbol:!1,symbol:"none",data:i.tor_nodes,type:"line",lineStyle:{width:2},areaStyle:{opacity:.5},stack:"Total",color:new w.echarts.graphic.LinearGradient(0,.75,0,1,[{offset:0,color:"#7D4698"},{offset:1,color:"#7D4698AA"}]),smooth:!1}];this.chartOptions={title:o,animation:!1,grid:{height:this.widget?(this.height||120)-60:void 0,top:this.widget?20:40,bottom:this.widget?0:70,right:(0,y.Fr)()&&this.widget?35:this.right,left:(0,y.Fr)()&&this.widget?40:this.left},tooltip:{show:!(0,y.Fr)()||!this.widget,trigger:"axis",axisPointer:{type:"line"},backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)",align:"left"},borderColor:"#000",formatter:l=>{let s=0,_=`<b style="color: white; margin-left: 2px">${new Date(l[0].data[0]).toLocaleDateString(this.locale,{year:"numeric",month:"short",day:"numeric"})}</b><br>`;for(const C of l.reverse())-1===C.seriesName.indexOf("ignored")&&((0===C.seriesIndex||1===C.seriesIndex||2===C.seriesIndex||3===C.seriesIndex)&&(_+=`${C.marker} ${C.seriesName}: ${(0,v.ZV)(C.data[1],this.locale,"1.0-0")}`),_+="<br>",s+=C.data[1]);return _+=`<b>Total:</b> ${(0,v.ZV)(s,this.locale,"1.0-0")} nodes`,_}},xAxis:0===i.tor_nodes.length?void 0:{type:"time",splitNumber:(0,y.Fr)()||this.widget?5:10,axisLabel:{hideOverlap:!0}},legend:this.widget||0===i.tor_nodes.length?void 0:{padding:10,data:[{name:"\u0627\u0644\u062F\u0627\u0631\u0643\u0646\u062A \u0641\u0642\u0637 (Tor\u060C I2P\u060C cjdns)",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"},{name:"\u0643\u0644\u064A\u0631\u0646\u062A \u0641\u0642\u0637 (IPv4 \u060C IPv6)",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"},{name:"\u0643\u0644\u064A\u0631\u0646\u062A \u0648\u062F\u0627\u0631\u0643 \u0646\u062A",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"},{name:"\u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"}],selected:this.widget?void 0:JSON.parse(this.storageService.getValue("nodes_networks_legend"))??{"$localize`Darknet Only (Tor, I2P, cjdns)`":!0,"$localize`Clearnet Only (IPv4, IPv6)`":!0,"$localize`Clearnet and Darknet`":!0,"$localize`:@@e5d8bb389c702588877f039d72178f219453a72d:Unknown`":!0}},yAxis:0===i.tor_nodes.length?void 0:[{type:"value",position:"left",axisLabel:{color:"rgb(110, 112, 121)",formatter:l=>this.widget?`${this.amountShortenerPipe.transform(l,0)}`:`${(0,v.ZV)(Math.round(l),this.locale,"1.0-0")}`},splitLine:{lineStyle:{type:"dotted",color:"var(--transparent-fg)",opacity:.25}},min:0,interval:3e3},{type:"value",position:"right",axisLabel:{color:"rgb(110, 112, 121)",formatter:l=>this.widget?`${this.amountShortenerPipe.transform(l,0)}`:`${(0,v.ZV)(Math.round(l),this.locale,"1.0-0")}`},splitLine:{lineStyle:{type:"dotted",color:"var(--transparent-fg)",opacity:.25}},min:0,interval:3e3}],series:0===i.tor_nodes.length?[]:a.concat(a.map(l=>{const s={...l};return s.name="ignored"+Math.random().toString(),s.stack="ignored",s.yAxisIndex=1,s.lineStyle={opacity:0},s.areaStyle={opacity:0},s})),dataZoom:this.widget?null:[{type:"inside",realtime:!0,zoomLock:!0,maxSpan:100,minSpan:5,moveOnMouseMove:!1},{showDetail:!1,show:!0,type:"slider",brushSelect:!1,realtime:!0,left:20,right:15,selectedDataBackground:{lineStyle:{color:"#fff",opacity:.45},areaStyle:{opacity:0}}}]},(0,y.Fr)()&&this.chartOptions.legend&&(this.chartOptions.legend.left=50)}onChartInit(i){void 0===this.chartInstance&&(this.chartInstance=i,this.chartInstance.on("legendselectchanged",m=>{this.storageService.setValue("nodes_networks_legend",JSON.stringify(m.selected))}))}onSaveChart(){const i=this.chartOptions.grid.bottom,m=new Date;this.chartOptions.grid.bottom=40,this.chartOptions.backgroundColor="var(--active-bg)",this.chartInstance.setOption(this.chartOptions),(0,b.RG)(this.chartInstance.getDataURL({pixelRatio:2,excludeComponents:["dataZoom"]}),`lightning-nodes-per-network-${Math.round(m.getTime()/1e3)}.svg`),this.chartOptions.grid.bottom=i,this.chartOptions.backgroundColor="none",this.chartInstance.setOption(this.chartOptions)}static#t=this.\u0275fac=function(m){return new(m||c)(t.rXU(t.xe9),t.rXU(H.B),t.rXU(e.C),t.rXU(T.ze),t.rXU(Y.n),t.rXU(U.o),t.rXU(L.d),t.rXU(B.x))};static#e=this.\u0275cmp=t.VBU({type:c,selectors:[["app-nodes-networks-chart"]],hostVars:1,hostBindings:function(m,o){2&m&&t.BMQ("dir",o.dir)},inputs:{height:"height",right:"right",left:"left",widget:"widget"},features:[t.OA$],decls:11,vars:11,consts:()=>{let i;return i="\u0623\u0646\u0648\u0627\u062F \u0628\u0631\u0642 \u0644\u0643\u0644 \u0634\u0628\u0643\u0629",[i,[1,"card-header","mb-0","mb-md-4"],[1,"d-flex","d-md-block","align-items-baseline"],[1,"btn","p-0","pl-2",2,"margin","0 0 4px 0px",3,"click"],[3,"icon","fixedWidth"],["class","formRadioGroup",3,"formGroup",4,"ngIf"],["echarts","",3,"class","style","initOpts","options","chartInit",4,"browserOnly"],["class","text-center loadingGraphs",4,"ngIf"],[1,"formRadioGroup",3,"formGroup"],["name","radioBasic",1,"btn-group","btn-group-toggle"],["class","btn btn-primary btn-sm",3,"active",4,"ngIf"],[1,"btn","btn-primary","btn-sm"],["type","radio","fragment","all","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","1m","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","3m","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","6m","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","1y","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","2y","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","3y","formControlName","dateSpan",3,"value","routerLink"],["echarts","",3,"chartInit","initOpts","options"],[1,"text-center","loadingGraphs"],[1,"spinner-border","text-light"]]},template:function(m,o){1&m&&(t.j41(0,"div")(1,"div",1)(2,"div",2)(3,"span"),t.pXf(4,0),t.k0s(),t.j41(5,"button",3),t.bIt("click",function(){return o.onSaveChart()}),t.nrm(6,"fa-icon",4),t.k0s()(),t.DNE(7,r,12,15,"form",5),t.nI1(8,"async"),t.k0s(),t.DNE(9,g,1,8,"div",6)(10,p,2,0,"div",7),t.k0s()),2&m&&(t.HbH(!1===o.widget?"full-container":""),t.R7$(),t.Aen(o.widget?"display:none":""),t.R7$(5),t.Y8G("icon",t.lJ4(10,q))("fixedWidth",!0),t.R7$(),t.Y8G("ngIf",t.bMT(8,8,o.nodesNetworkObservable$)),t.R7$(3),t.Y8G("ngIf",!o.stateService.isBrowser||o.isLoading))},dependencies:[v.bT,D.Wk,T.qT,T.me,T.Fm,T.BC,T.cb,T.j4,T.JD,V.aY,Z.e,J.$P,v.Jj,Q.U],styles:[".card-header[_ngcontent-%COMP%]{border-bottom:0;font-size:18px}@media (min-width: 465px){.card-header[_ngcontent-%COMP%]{font-size:20px}}@media (min-width: 992px){.card-header[_ngcontent-%COMP%]{height:40px}}.main-title[_ngcontent-%COMP%]{position:relative;color:var(--fg);opacity:var(--opacity);margin-top:-13px;font-size:10px;text-transform:uppercase;font-weight:500;text-align:center;padding-bottom:3px}.full-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 15px;width:100%;height:calc(100vh - 225px);min-height:400px}@media (min-width: 992px){.full-container[_ngcontent-%COMP%]{height:calc(100vh - 150px)}}.chart[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;padding-bottom:20px;padding-right:10px}@media (max-width: 992px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 829px){.chart[_ngcontent-%COMP%]{padding-bottom:50px}}@media (max-width: 767px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 629px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}@media (max-width: 567px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}.chart-widget[_ngcontent-%COMP%]{width:100%}.pool-distribution[_ngcontent-%COMP%]{min-height:56px;display:block}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.pool-distribution[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:50%;display:inline-block;margin:0 auto 20px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2){order:2}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2){order:3}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){order:3}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){order:2;display:block}}@media (min-width: 768px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){display:none}}@media (min-width: 992px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){display:block}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem;color:var(--title-fg)}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:18px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px}.skeleton-loader[_ngcontent-%COMP%]{width:100%;display:block;max-width:80px;margin:15px auto 3px}",".loadingGraphs[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}"],changeDetection:0})}return c})()},8184:(nt,X,n)=>{n.d(X,{G:()=>o});var t=n(1413),w=n(4572),j=n(9172),F=n(5558),W=n(8141),K=n(6354),k=n(7647),v=n(9838),b=n(9862),y=n(6078),H=n(6631),e=n(4438),T=n(3366),Y=n(2251),U=n(5131),L=n(8185),B=n(2083),D=n(177),V=n(1760),Z=n(60),J=n(7435),Q=n(4799);let q=(()=>{class a{constructor(s){this.cd=s,this.toggleStatusChanged=new e.bkB,this.checked=!1,this.animate=!1}ngAfterViewInit(){this.animate=!0,setTimeout(()=>{this.cd.markForCheck()})}onToggleStatusChanged(s){this.toggleStatusChanged.emit(s.target.checked)}static#t=this.\u0275fac=function(d){return new(d||a)(e.rXU(e.gRc))};static#e=this.\u0275cmp=e.VBU({type:a,selectors:[["app-toggle"]],inputs:{textLeft:"textLeft",textRight:"textRight",checked:"checked"},outputs:{toggleStatusChanged:"toggleStatusChanged"},decls:10,vars:5,consts:[[1,"d-flex","align-items-center"],[1,"switch",2,"margin-bottom","0"],["type","checkbox",3,"change","checked"],[1,"slider","round"]],template:function(d,_){1&d&&(e.j41(0,"div",0)(1,"span"),e.EFF(2),e.k0s(),e.EFF(3,"\xa0 "),e.j41(4,"label",1)(5,"input",2),e.bIt("change",function(h){return _.onToggleStatusChanged(h)}),e.k0s(),e.nrm(6,"span",3),e.k0s(),e.EFF(7," \xa0"),e.j41(8,"span"),e.EFF(9),e.k0s()()),2&d&&(e.R7$(2),e.JRh(_.textLeft),e.R7$(3),e.Y8G("checked",_.checked),e.R7$(),e.AVh("animate",_.animate),e.R7$(3),e.JRh(_.textRight))},styles:['.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:30px;height:17px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#ccc}.slider[_ngcontent-%COMP%]:before{position:absolute;content:"";height:13px;width:13px;left:2px;bottom:2px;background-color:#fff}.slider.animate[_ngcontent-%COMP%], .slider.animate[_ngcontent-%COMP%]:before{transition:.4s}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#2196f3}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #2196f3}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(13px)}.slider.round[_ngcontent-%COMP%]{border-radius:17px}.slider.round[_ngcontent-%COMP%]:before{border-radius:50%}'],changeDetection:0})}return a})();var u=n(4972);const G=()=>["fas","download"],P=a=>({height:a}),O=a=>[a];function x(a,l){if(1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h5",23),e.pXf(3,2),e.k0s(),e.j41(4,"p",24),e.nrm(5,"app-amount",25),e.k0s()(),e.j41(6,"div",22)(7,"h5",23),e.pXf(8,3),e.k0s(),e.j41(9,"p",26),e.nrm(10,"app-amount",25),e.k0s()(),e.j41(11,"div",22)(12,"h5",23),e.pXf(13,4),e.k0s(),e.j41(14,"p",27),e.nrm(15,"app-amount",25),e.k0s()()()),2&a){const s=l.ngIf;e.R7$(5),e.Y8G("satoshis",s.clearnetCapacity)("digitsInfo","1.2-2")("noFiat",!0),e.R7$(5),e.Y8G("satoshis",s.unknownCapacity)("digitsInfo","1.2-2")("noFiat",!0),e.R7$(5),e.Y8G("satoshis",s.torCapacity)("digitsInfo","1.2-2")("noFiat",!0)}}function N(a,l){if(1&a&&(e.j41(0,"div"),e.DNE(1,x,16,9,"div",20),e.nI1(2,"async"),e.k0s()),2&a){const s=e.XpG(),d=e.sdS(6);e.R7$(),e.Y8G("ngIf",e.bMT(2,2,s.nodesPerAsObservable$))("ngIfElse",d)}}function f(a,l){if(1&a){const s=e.RV6();e.j41(0,"div",28)(1,"div",29)(2,"span"),e.pXf(3,5),e.k0s(),e.j41(4,"button",30),e.bIt("click",function(){e.eBV(s);const _=e.XpG();return e.Njj(_.onSaveChart())}),e.nrm(5,"fa-icon",31),e.k0s()(),e.j41(6,"small",32)(7,"span"),e.pXf(8,6),e.k0s()()()}2&a&&(e.R7$(5),e.Y8G("icon",e.lJ4(2,G))("fixedWidth",!0))}function E(a,l){if(1&a){const s=e.RV6();e.j41(0,"div",37),e.bIt("chartInit",function(_){e.eBV(s);const C=e.XpG(2);return e.Njj(C.onChartInit(_))}),e.k0s()}if(2&a){const s=e.XpG(2);e.Aen(e.eq3(6,P,s.widget?s.height+"px":null)),e.HbH(s.widget?"chart-widget":"chart"),e.Y8G("initOpts",s.chartInitOptions)("options",s.chartOptions)}}function r(a,l){if(1&a){const s=e.RV6();e.j41(0,"div",38)(1,"app-toggle",39),e.bIt("toggleStatusChanged",function(_){e.eBV(s);const C=e.XpG(2);return e.Njj(C.onGroupToggleStatusChanged(_))}),e.k0s()()}2&a&&(e.R7$(),e.Y8G("textLeft","Sort by nodes")("textRight","capacity")("checked",!0))}function g(a,l){if(1&a&&(e.j41(0,"tr")(1,"td",41),e.EFF(2),e.k0s(),e.j41(3,"td",47)(4,"a",48),e.nI1(5,"relativeUrl"),e.EFF(6),e.k0s()(),e.j41(7,"td",43),e.EFF(8),e.k0s(),e.j41(9,"td",44),e.EFF(10),e.k0s(),e.j41(11,"td",45),e.nrm(12,"app-amount",25),e.k0s()()),2&a){const s=l.$implicit,d=e.XpG(4);e.R7$(2),e.JRh(s[5]),e.R7$(2),e.Y8G("routerLink",e.eq3(10,O,e.bMT(5,8,"/lightning/nodes/isp/"+s[0]))),e.R7$(2),e.JRh(s[1]),e.R7$(2),e.SpI("","capacity"===d.sortBy?s[7]:s[6],"%"),e.R7$(2),e.JRh(s[4]),e.R7$(2),e.Y8G("satoshis",s[2])("digitsInfo","1.2-2")("noFiat",!0)}}function p(a,l){if(1&a&&(e.j41(0,"tbody"),e.DNE(1,g,13,12,"tr",46),e.k0s()),2&a){const s=l.ngIf;e.BMQ("data-cy","pools-table"),e.R7$(),e.Y8G("ngForOf",s.ispRanking)}}function M(a,l){if(1&a&&(e.j41(0,"table",40)(1,"thead")(2,"tr")(3,"th",41),e.pXf(4,7),e.k0s(),e.j41(5,"th",42),e.pXf(6,8),e.k0s(),e.j41(7,"th",43),e.pXf(8,9),e.k0s(),e.j41(9,"th",44),e.pXf(10,10),e.k0s(),e.j41(11,"th",45),e.pXf(12,11),e.k0s()()(),e.DNE(13,p,2,2,"tbody",16),e.nI1(14,"async"),e.k0s()),2&a){const s=e.XpG(2);e.R7$(13),e.Y8G("ngIf",e.bMT(14,1,s.nodesPerAsObservable$))}}function c(a,l){if(1&a&&(e.j41(0,"div",33),e.DNE(1,E,1,8,"div",34)(2,r,2,3,"div",35)(3,M,15,3,"table",36),e.k0s()),2&a){const s=e.XpG();e.HbH(s.widget?"pb-0":""),e.R7$(2),e.Y8G("ngIf",!s.widget),e.R7$(),e.Y8G("ngIf",!s.widget)}}function S(a,l){1&a&&(e.j41(0,"div",49),e.nrm(1,"div",50),e.k0s())}function i(a,l){1&a&&(e.j41(0,"div",21)(1,"div",22)(2,"h5",23),e.pXf(3,12),e.k0s(),e.j41(4,"p",51),e.nrm(5,"span",52),e.k0s()(),e.j41(6,"div",22)(7,"h5",23),e.pXf(8,13),e.k0s(),e.j41(9,"p",51),e.nrm(10,"span",52),e.k0s()(),e.j41(11,"div",22)(12,"h5",23),e.pXf(13,14),e.k0s(),e.j41(14,"p",51),e.nrm(15,"span",52),e.k0s()()())}function m(a,l){1&a&&(e.j41(0,"div",53),e.pXf(1,15),e.k0s())}let o=(()=>{class a{constructor(s,d,_,C,h,A){this.apiService=s,this.seoService=d,this.amountShortenerPipe=_,this.router=C,this.zone=h,this.stateService=A,this.height=300,this.widget=!1,this.isLoading=!0,this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.timespan="",this.sortBy="capacity",this.showUnknown=!1,this.chartInstance=void 0,this.indexingInProgress=!1,this.dir="ltr",this.sortBySubject=new t.B,this.showUnknownSubject=new t.B}ngOnInit(){this.widget||(this.seoService.setTitle("\u0634\u0628\u0643\u0627\u062A \u0627\u0644\u0628\u0631\u0642 \u062D\u0633\u0628 \u0645\u0632\u0648\u062F \u062E\u062F\u0645\u0629 \u0627\u0646\u062A\u0631\u0646\u062A"),this.seoService.setDescription("\u062A\u0635\u0641\u062D \u0623\u0641\u0636\u0644 100 \u0645\u0632\u0648\u062F \u062E\u062F\u0645\u0629 \u0625\u0646\u062A\u0631\u0646\u062A \u064A\u0633\u062A\u0636\u064A\u0641\u0648\u0646 \u0639\u0642\u062F Lightning \u0628\u0627\u0644\u0625\u0636\u0627\u0641\u0629 \u0625\u0644\u0649 \u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0645\u062B\u0644 \u0625\u062C\u0645\u0627\u0644\u064A \u0639\u062F\u062F \u0627\u0644\u0639\u0642\u062F \u0644\u0643\u0644 \u0645\u0632\u0648\u062F \u062E\u062F\u0645\u0629 \u0625\u0646\u062A\u0631\u0646\u062A\u060C \u0648\u0625\u062C\u0645\u0627\u0644\u064A \u0633\u0639\u0629 BTC \u0644\u0643\u0644 \u0645\u0632\u0648\u062F \u062E\u062F\u0645\u0629 \u0625\u0646\u062A\u0631\u0646\u062A\u060C \u0648\u0627\u0644\u0645\u0632\u064A\u062F")),this.nodesPerAsObservable$=(0,w.z)([this.sortBySubject.pipe((0,j.Z)(!0))]).pipe((0,F.n)(s=>(this.sortBy=s[0]?"capacity":"node-count",this.apiService.getNodesPerIsp().pipe((0,W.M)(()=>{this.isLoading=!1}),(0,K.T)(d=>{let _=0,C=0;for(let h=0;h<d.ispRanking.length;++h)_+=d.ispRanking[h][4],C+=d.ispRanking[h][2],d.ispRanking[h][5]=h;for(let h=0;h<d.ispRanking.length;++h)d.ispRanking[h][6]=Math.round(d.ispRanking[h][4]/_*1e4)/100,d.ispRanking[h][7]=Math.round(d.ispRanking[h][2]/C*1e4)/100;d.ispRanking.sort(!0===s[0]?(h,A)=>A[7]-h[7]:(h,A)=>A[6]-h[6]);for(let h=0;h<d.ispRanking.length;++h)d.ispRanking[h][5]=h+1;return this.prepareChartOptions(d.ispRanking),this.indexingInProgress=!d.ispRanking.length,{taggedISP:d.ispRanking.length,clearnetCapacity:d.clearnetCapacity,unknownCapacity:d.unknownCapacity,torCapacity:d.torCapacity,ispRanking:d.ispRanking.slice(0,100)}})))),(0,k.u)()),this.widget&&this.sortBySubject.next(!1)}generateChartSerieData(s){let d=.4;this.widget&&(0,b.Fr)()||(0,b.Fr)()?d=1:this.widget&&(d=.75);const _=[];let C=0,h=0,A=0,$="10%";return(0,b.Fr)()&&this.widget?$=0:((0,b.Fr)()&&!this.widget||this.widget)&&($=10),s.forEach(I=>{if(("capacity"===this.sortBy?I[7]:I[6])<d)return C+="capacity"===this.sortBy?I[7]:I[6],h+=I[4],void(A+=I[2]);_.push({value:"capacity"===this.sortBy?I[7]:I[6],name:I[1].replace("&","")+((0,b.Fr)()||this.widget?"":` (${"capacity"===this.sortBy?I[7]:I[6]}%)`),label:{overflow:"truncate",width:(0,b.Fr)()?75:this.widget?125:250,color:"var(--tooltip-grey)",alignTo:"edge",edgeDistance:$},tooltip:{show:!(0,b.Fr)(),backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)"},borderColor:"#000",formatter:()=>{const z=I[4].toString();return`<b style="color: white">${I[1]} (${"capacity"===this.sortBy?I[7]:I[6]}%)</b><br>`+"" + z + "\u0627\u0644\u0639\u0642\u062F"+"<br>"+"" + this.amountShortenerPipe.transform(I[2] / 1e8, 2) + " EAC"}},data:I[0]})}),_.push({itemStyle:{color:"grey"},value:C,name:"\u0623\u062E\u0631\u0649 (" + (C.toFixed(2) + "%") + ")",label:{overflow:"truncate",color:"var(--tooltip-grey)",alignTo:"edge",edgeDistance:$},tooltip:{backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)"},borderColor:"#000",formatter:()=>{const I=h.toString();return'<b style="color: white">'+"\u0623\u062E\u0631\u0649 (" + (C.toFixed(2) + "%") + ")"+"</b><br>"+"" + I + "\u0627\u0644\u0639\u0642\u062F"+"<br>"+"" + this.amountShortenerPipe.transform(A / 1e8, 2) + " EAC"}},data:9999}),_}prepareChartOptions(s){let d=["20%","80%"];(0,b.Fr)()&&!this.widget&&(d=["15%","60%"]),this.chartOptions={color:v.b4.filter(_=>"#5E35B1"!=_),tooltip:{trigger:"item",textStyle:{align:"left"}},series:[{zlevel:0,minShowLabelAngle:.9,name:"Lightning nodes",type:"pie",radius:d,data:this.generateChartSerieData(s),labelLine:{lineStyle:{width:2},length:(0,b.Fr)()?1:20,length2:(0,b.Fr)()?1:void 0},label:{fontSize:14},itemStyle:{borderRadius:1,borderWidth:1,borderColor:"#000"},emphasis:{itemStyle:{shadowBlur:40,shadowColor:"rgba(0, 0, 0, 0.75)"},labelLine:{lineStyle:{width:4}}}}]}}onChartInit(s){void 0===this.chartInstance&&(this.chartInstance=s,this.chartInstance.on("click",d=>{9999===d.data.data||null===d.data.data||this.zone.run(()=>{const _=new H.U(this.stateService).transform(`/lightning/nodes/isp/${d.data.data}`);this.router.navigate([_])})}))}onSaveChart(){const s=new Date;this.chartOptions.backgroundColor="var(--active-bg)",this.chartInstance.setOption(this.chartOptions),(0,y.RG)(this.chartInstance.getDataURL({pixelRatio:2,excludeComponents:["dataZoom"]}),`ln-nodes-per-as-${this.timespan}-${Math.round(s.getTime()/1e3)}.svg`),this.chartOptions.backgroundColor="none",this.chartInstance.setOption(this.chartOptions)}onGroupToggleStatusChanged(s){this.sortBySubject.next(s)}static#t=this.\u0275fac=function(d){return new(d||a)(e.rXU(T.G),e.rXU(Y.B),e.rXU(U.x),e.rXU(L.Ix),e.rXU(e.SKi),e.rXU(B.d))};static#e=this.\u0275cmp=e.VBU({type:a,selectors:[["app-nodes-per-isp-chart"]],hostVars:1,hostBindings:function(d,_){2&d&&e.BMQ("dir",_.dir)},inputs:{height:"height",widget:"widget"},decls:9,vars:7,consts:()=>{let s,d,_,C,h,A,$,I,z,tt,et,it,ot,at,st,rt,lt;return s="\u062D\u062C\u0645 \u0627\u0644\u0633\u064A\u0648\u0644\u0629 \u0627\u0644\u062C\u0627\u0631\u064A \u0641\u064A \u0627\u0644\u0623\u0646\u0648\u0627\u062F  \u0627\u0644\u062A\u064A \u062A\u0634\u0647\u0631 \u0639\u0646\u0648\u0627\u0646 IP \u0643\u0644\u064A\u0631\u0646\u062A \u0648\u0627\u062D\u062F \u0639\u0644\u0649 \u0627\u0644\u0623\u0642\u0644",d="\u062D\u062C\u0645 \u0627\u0644\u0633\u064A\u0648\u0644\u0629 \u0627\u0644\u062C\u0627\u0631\u064A \u0641\u064A \u0627\u0644\u0623\u0646\u0648\u0627\u062F \u0627\u0644\u062A\u064A \u0644\u0627 \u064A\u0639\u0631\u0641 \u0645\u0632\u0648\u062F \u062E\u062F\u0645\u0629 \u0627\u0644\u0627\u0646\u062A\u0631\u0646\u062A \u0644\u0647\u0627",_="\u062D\u062C\u0645 \u0627\u0644\u0633\u064A\u0648\u0644\u0629 \u0627\u0644\u062C\u0627\u0631\u064A \u0641\u064A \u0627\u0644\u0623\u0646\u0648\u0627\u062F \u0627\u0644\u062A\u064A \u062A\u062D\u0645\u0644 \u0639\u0646\u0627\u0648\u064A\u0646 \u062A\u0648\u0631 \u0641\u0642\u0637",C="\u0633\u0639\u0629 \u0627\u0644\u0643\u0644\u064A\u0631\u0646\u062A",h="\u0633\u0639\u0629 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641\u0629",A="\u0633\u0639\u0629 \u062A\u0648\u0631",$="\u0623\u0639\u0644\u0649 100 \u0645\u0632\u0648\u062F \u0627\u0646\u062A\u0631\u0646\u062A \u064A\u0633\u062A\u0636\u064A\u0641\u0648\u0646 \u0623\u0646\u0648\u0627\u062F \u0628\u0631\u0642",I="( \u0623\u0646\u0648\u0627\u062F \u062A\u0648\u0631 \u0645\u0633\u062A\u062B\u0646\u0627\u0629)",z="\u0627\u0644\u062A\u0631\u062A\u064A\u0628",tt="\u0645\u0632\u0648\u062F \u062E\u062F\u0645\u0629 \u0627\u0644\u0627\u0646\u062A\u0631\u0646\u062A",et="\u0645\u0634\u0627\u0631\u0643\u0629",it="\u0623\u0646\u0648\u0627\u062F",ot="\u0627\u0644\u0633\u0639\u0629",at="\u0633\u0639\u0629 \u0627\u0644\u0643\u0644\u064A\u0631\u0646\u062A",st="\u0633\u0639\u0629 \u063A\u064A\u0631 \u0645\u0639\u0631\u0648\u0641\u0629",rt="\u0633\u0639\u0629 \u062A\u0648\u0631",lt="\u062A\u062C\u0631\u064A \u0627\u0644\u0641\u0647\u0631\u0633\u0629",[["loadingReward",""],["indexing",""],C,h,A,$,I,z,tt,et,it,ot,at,st,rt,lt,[4,"ngIf"],["class","card-header",4,"ngIf"],["class","container pb-lg-0",3,"class",4,"ngIf","ngIfElse"],["class","text-center loadingGraphs",4,"ngIf"],["class","pool-distribution",4,"ngIf","ngIfElse"],[1,"pool-distribution"],[1,"item"],[1,"card-title"],["ngbTooltip",s,"placement","bottom",1,"card-text"],[3,"satoshis","digitsInfo","noFiat"],["ngbTooltip",d,"placement","bottom",1,"card-text"],["ngbTooltip",_,"placement","bottom",1,"card-text"],[1,"card-header"],[1,"d-flex","d-md-block","align-items-baseline",2,"margin-bottom","-5px"],[1,"btn","p-0","pl-2",2,"margin","0 0 4px 0px",3,"click"],[3,"icon","fixedWidth"],[1,"d-block",2,"color","var(--transparent-fg)","min-height","25px"],[1,"container","pb-lg-0"],["echarts","",3,"class","style","initOpts","options","chartInit",4,"browserOnly"],["class","d-flex justify-content-md-end toggle",4,"ngIf"],["class","table table-borderless table-fixed text-center m-auto","style","max-width: 900px",4,"ngIf"],["echarts","",3,"chartInit","initOpts","options"],[1,"d-flex","justify-content-md-end","toggle"],[3,"toggleStatusChanged","textLeft","textRight","checked"],[1,"table","table-borderless","table-fixed","text-center","m-auto",2,"max-width","900px"],[1,"rank","text-left","pl-0"],[1,"name","text-left"],[1,"share","text-right"],[1,"nodes","text-right"],[1,"capacity","text-right","pr-0"],[4,"ngFor","ngForOf"],[1,"name","text-left","text-truncate"],[3,"routerLink"],[1,"text-center","loadingGraphs"],[1,"spinner-border","text-light"],[1,"card-text"],[1,"skeleton-loader","skeleton-loader-big"],[1,"indexing-message"]]},template:function(d,_){if(1&d&&(e.j41(0,"div"),e.DNE(1,N,3,4,"div",16)(2,f,9,3,"div",17)(3,c,4,4,"div",18)(4,S,2,0,"div",19),e.k0s(),e.DNE(5,i,16,0,"ng-template",null,0,e.C5r)(7,m,2,0,"ng-template",null,1,e.C5r)),2&d){const C=e.sdS(8);e.HbH(!1===_.widget?"full-container":""),e.R7$(),e.Y8G("ngIf",_.widget),e.R7$(),e.Y8G("ngIf",!_.widget),e.R7$(),e.Y8G("ngIf",!_.indexingInProgress)("ngIfElse",C),e.R7$(),e.Y8G("ngIf",!_.stateService.isBrowser||_.isLoading)}},dependencies:[D.Sq,D.bT,L.Wk,V.md,Z.aY,J.e,Q.Y,q,u.$P,D.Jj,H.U],styles:[".card-header[_ngcontent-%COMP%]{border-bottom:0;font-size:18px}@media (min-width: 465px){.card-header[_ngcontent-%COMP%]{font-size:20px}}.full-container[_ngcontent-%COMP%]{padding:0 15px;width:100%;height:calc(100% - 140px);margin-bottom:25px}@media (max-width: 992px){.full-container[_ngcontent-%COMP%]{height:calc(100% - 190px)}}@media (max-width: 575px){.full-container[_ngcontent-%COMP%]{height:calc(100% - 230px)}}.chart[_ngcontent-%COMP%]{max-height:400px}@media (max-width: 767.98px){.chart[_ngcontent-%COMP%]{max-height:230px;margin-top:-40px}}.chart-widget[_ngcontent-%COMP%]{width:100%;height:100%;height:240px}@media (max-width: 485px){.chart-widget[_ngcontent-%COMP%]{max-height:200px}}@media (max-width: 767.98px){.pools-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .pools-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.3em!important}}.loadingGraphs[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}.pool-distribution[_ngcontent-%COMP%]{min-height:56px;display:block}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.pool-distribution[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:5px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{max-width:150px;width:50%;display:inline-block;margin:0 auto 20px}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{max-width:160px}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2){order:2}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2){order:3}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){width:50%;order:3}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){order:2;display:block}}@media (min-width: 768px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){display:none}}@media (min-width: 992px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){display:block}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem;color:var(--title-fg);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:18px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px}.skeleton-loader[_ngcontent-%COMP%]{width:100%;display:block;max-width:80px;margin:15px auto 3px}.rank[_ngcontent-%COMP%]{width:15%}@media (max-width: 576px){.rank[_ngcontent-%COMP%]{display:none}}.name[_ngcontent-%COMP%]{width:35%;max-width:300px}@media (max-width: 576px){.name[_ngcontent-%COMP%]{width:70%;max-width:150px;padding-left:0;padding-right:0}}.share[_ngcontent-%COMP%]{width:15%}@media (max-width: 576px){.share[_ngcontent-%COMP%]{display:none}}.nodes[_ngcontent-%COMP%]{width:15%}@media (max-width: 576px){.nodes[_ngcontent-%COMP%]{width:10%}}.capacity[_ngcontent-%COMP%]{width:20%}@media (max-width: 576px){.capacity[_ngcontent-%COMP%]{width:20%;max-width:100px}}.toggle[_ngcontent-%COMP%]{justify-content:space-between;padding-top:15px}@media (min-width: 576px){.toggle[_ngcontent-%COMP%]{padding-bottom:15px;padding-left:105px;padding-right:105px}}.indexing-message[_ngcontent-%COMP%]{font-size:15px;color:gray;font-weight:700;width:100%;padding-top:100px;text-align:center;height:240px}"],changeDetection:0})}return a})()},562:(nt,X,n)=>{n.d(X,{D:()=>S});var t=n(4438),w=n(9836),j=n(9172),F=n(5558),W=n(8141),K=n(6354),k=n(7647),v=n(177),b=n(6078),y=n(9862),H=n(2251),e=n(8357),T=n(9417),Y=n(7291),U=n(5666),L=n(2083),B=n(5131),D=n(8185),V=n(60),Z=n(7435),J=n(4972),Q=n(6631);const q=()=>["fas","download"],u=i=>[i],G=i=>({height:i});function P(i,m){if(1&i&&(t.j41(0,"label",13),t.nrm(1,"input",15),t.nI1(2,"relativeUrl"),t.EFF(3," 1M "),t.k0s()),2&i){const o=t.XpG(2);t.AVh("active","1m"===o.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","1m")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/capacity")))}}function O(i,m){if(1&i&&(t.j41(0,"label",13),t.nrm(1,"input",16),t.nI1(2,"relativeUrl"),t.EFF(3," 3M "),t.k0s()),2&i){const o=t.XpG(2);t.AVh("active","3m"===o.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","3m")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/capacity")))}}function x(i,m){if(1&i&&(t.j41(0,"label",13),t.nrm(1,"input",17),t.nI1(2,"relativeUrl"),t.EFF(3," 6M "),t.k0s()),2&i){const o=t.XpG(2);t.AVh("active","6m"===o.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","6m")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/capacity")))}}function N(i,m){if(1&i&&(t.j41(0,"label",13),t.nrm(1,"input",18),t.nI1(2,"relativeUrl"),t.EFF(3," 1Y "),t.k0s()),2&i){const o=t.XpG(2);t.AVh("active","1y"===o.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","1y")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/capacity")))}}function f(i,m){if(1&i&&(t.j41(0,"label",13),t.nrm(1,"input",19),t.nI1(2,"relativeUrl"),t.EFF(3," 2Y "),t.k0s()),2&i){const o=t.XpG(2);t.AVh("active","2y"===o.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","2y")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/capacity")))}}function E(i,m){if(1&i&&(t.j41(0,"label",13),t.nrm(1,"input",20),t.nI1(2,"relativeUrl"),t.EFF(3," 3Y "),t.k0s()),2&i){const o=t.XpG(2);t.AVh("active","3y"===o.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","3y")("routerLink",t.eq3(6,u,t.bMT(2,4,"/graphs/lightning/capacity")))}}function r(i,m){if(1&i&&(t.j41(0,"form",10)(1,"div",11),t.DNE(2,P,4,8,"label",12)(3,O,4,8,"label",12)(4,x,4,8,"label",12)(5,N,4,8,"label",12)(6,f,4,8,"label",12)(7,E,4,8,"label",12),t.j41(8,"label",13),t.nrm(9,"input",14),t.nI1(10,"relativeUrl"),t.EFF(11," ALL "),t.k0s()()()),2&i){const o=m.ngIf,a=t.XpG();t.Y8G("formGroup",a.radioGroupForm),t.R7$(2),t.Y8G("ngIf",o.days>=30),t.R7$(),t.Y8G("ngIf",o.days>=90),t.R7$(),t.Y8G("ngIf",o.days>=180),t.R7$(),t.Y8G("ngIf",o.days>=365),t.R7$(),t.Y8G("ngIf",o.days>=730),t.R7$(),t.Y8G("ngIf",o.days>=1095),t.R7$(),t.AVh("active","all"===a.radioGroupForm.get("dateSpan").value),t.R7$(),t.Y8G("value","all")("routerLink",t.eq3(13,u,t.bMT(10,11,"/graphs/lightning/capacity")))}}function g(i,m){if(1&i){const o=t.RV6();t.j41(0,"div",21),t.bIt("chartInit",function(l){t.eBV(o);const s=t.XpG();return t.Njj(s.onChartInit(l))}),t.k0s()}if(2&i){const o=t.XpG();t.Aen(t.eq3(6,G,o.widget?o.height+"px":null)),t.HbH(o.widget?"chart-widget":"chart"),t.Y8G("initOpts",o.chartInitOptions)("options",o.chartOptions)}}function p(i,m){1&i&&(t.j41(0,"div",22),t.nrm(1,"div",23),t.k0s())}function M(i,m){1&i&&(t.j41(0,"div",25),t.pXf(1,1),t.k0s())}function c(i,m){if(1&i&&(t.j41(0,"div"),t.DNE(1,M,2,0,"div",24),t.k0s()),2&i){const o=m.ngIf;t.R7$(),t.Y8G("ngIf",0===o.days)}}let S=(()=>{class i{constructor(o,a,l,s,d,_,C,h){this.locale=o,this.seoService=a,this.lightningApiService=l,this.formBuilder=s,this.storageService=d,this.miningService=_,this.stateService=C,this.amountShortenerPipe=h,this.height=150,this.right=45,this.left=45,this.widget=!1,this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.dir="ltr",this.isLoading=!0,this.formatNumber=v.ZV,this.timespan="",this.chartInstance=void 0}ngOnInit(){let o=!0;this.widget?this.miningWindowPreference="3y":(this.seoService.setTitle("\u0633\u0639\u0629 \u0634\u0628\u0643\u0629 \u0627\u0644\u0628\u0631\u0642"),this.seoService.setDescription("\u0634\u0627\u0647\u062F \u0642\u062F\u0631\u0629 \u0634\u0628\u0643\u0629 Lightning \u0627\u0644\u062A\u064A \u062A\u0645 \u062A\u0635\u0648\u0631\u0647\u0627 \u0628\u0645\u0631\u0648\u0631 \u0627\u0644\u0648\u0642\u062A \u0645\u0646 \u062D\u064A\u062B \u0639\u062F\u062F \u0627\u0644\u0642\u0646\u0648\u0627\u062A \u0627\u0644\u0645\u0641\u062A\u0648\u062D\u0629 \u0648\u0625\u062C\u0645\u0627\u0644\u064A \u0633\u0639\u0629 \u0627\u0644\u0628\u064A\u062A\u0643\u0648\u064A\u0646."),this.miningWindowPreference=this.miningService.getDefaultTimespan("all")),this.radioGroupForm=this.formBuilder.group({dateSpan:this.miningWindowPreference}),this.radioGroupForm.controls.dateSpan.setValue(this.miningWindowPreference),this.capacityObservable$=this.radioGroupForm.get("dateSpan").valueChanges.pipe((0,j.Z)(this.miningWindowPreference),(0,F.n)(a=>(this.timespan=a,!this.widget&&!o&&this.storageService.setValue("lightningWindowPreference",a),o=!1,this.miningWindowPreference=a,this.isLoading=!0,this.lightningApiService.cachedRequest(this.lightningApiService.listStatistics$,250,a).pipe((0,W.M)(l=>{const s=l.body;this.chartData={channel_count:s.map(d=>[1e3*d.added,d.channel_count]),capacity:s.map(d=>[1e3*d.added,d.total_capacity])},this.prepareChartOptions(this.chartData),this.isLoading=!1}),(0,K.T)(l=>({days:parseInt(l.headers.get("x-total-count"),10)}))))),(0,k.u)())}ngOnChanges(o){o.height&&this.chartData&&this.prepareChartOptions(this.chartData)}prepareChartOptions(o){let a;this.widget||0!==o.channel_count.length?this.widget&&o.channel_count.length>0&&(a={textStyle:{color:"grey",fontSize:11},text:"\u0633\u0639\u0629 \u0634\u0628\u0643\u0629 \u0627\u0644\u0628\u0631\u0642",left:"center",top:0,zlevel:10}):a={textStyle:{color:"grey",fontSize:15},text:"\u062A\u062C\u0631\u064A \u0627\u0644\u0641\u0647\u0631\u0633\u0629",left:"center",top:"center"},this.chartOptions={title:a,animation:!1,color:["#FFB300",new w.echarts.graphic.LinearGradient(0,.75,0,1,[{offset:0,color:"#D81B60"},{offset:1,color:"#D81B60AA"}])],grid:{height:this.widget?(this.height||120)-60:void 0,top:this.widget?20:40,bottom:this.widget?0:70,right:(0,y.Fr)()&&this.widget?35:this.right,left:(0,y.Fr)()&&this.widget?40:this.left},tooltip:{show:!(0,y.Fr)(),trigger:"axis",axisPointer:{type:"line"},backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)",align:"left"},borderColor:"#000",formatter:l=>{let s="",d="";for(const h of l)0===h.seriesIndex?s=`${h.marker} ${h.seriesName}: ${(0,v.ZV)(h.data[1],this.locale,"1.0-0")}`:1===h.seriesIndex&&(d=`${h.marker} ${h.seriesName}: ${(0,v.ZV)(h.data[1]/1e8,this.locale,"1.0-0")} EAC`);return`\n            <b style="color: white; margin-left: 18px">${new Date(l[0].data[0]).toLocaleDateString(this.locale,{year:"numeric",month:"short",day:"numeric"})}</b><br>\n            <span>${s}</span><br>\n            <span>${d}</span>\n          `}},xAxis:0===o.channel_count.length?void 0:{type:"time",splitNumber:(0,y.Fr)()||this.widget?5:10,axisLabel:{hideOverlap:!0}},legend:this.widget||0===o.channel_count.length?void 0:{padding:10,data:[{name:"\u0627\u0644\u0642\u0646\u0648\u0627\u062A",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"},{name:"\u0627\u0644\u0633\u0639\u0629",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"}],selected:JSON.parse(this.storageService.getValue("sizes_ln_legend"))??{Channels:!0,Capacity:!0}},yAxis:0===o.channel_count.length?void 0:[{type:"value",axisLabel:{color:"rgb(110, 112, 121)",formatter:l=>this.widget?`${this.amountShortenerPipe.transform(l,0)}`:`${(0,v.ZV)(Math.round(l),this.locale,"1.0-0")}`},splitLine:{lineStyle:{type:"dotted",color:"var(--transparent-fg)",opacity:.25}},minInterval:this.widget?2e4:void 0},{min:0,type:"value",position:"right",axisLabel:{color:"rgb(110, 112, 121)",formatter:l=>this.widget?`${this.amountShortenerPipe.transform(Math.round(l/1e8),0)}`:`${(0,v.ZV)(Math.round(l/1e8),this.locale,"1.0-0")}`},splitLine:{show:!1}}],series:0===o.channel_count.length?[]:[{zlevel:1,name:"\u0627\u0644\u0642\u0646\u0648\u0627\u062A",showSymbol:!1,symbol:"none",data:o.channel_count,type:"line",lineStyle:{width:2},markLine:{silent:!0,symbol:"none",lineStyle:{type:"solid",color:"var(--transparent-fg)",opacity:1,width:1}},smooth:!1},{zlevel:0,yAxisIndex:1,name:"\u0627\u0644\u0633\u0639\u0629",showSymbol:!1,symbol:"none",stack:"Total",data:o.capacity,areaStyle:{opacity:.5},type:"line",smooth:!1}],dataZoom:this.widget?null:[{type:"inside",realtime:!0,zoomLock:!0,maxSpan:100,minSpan:5,moveOnMouseMove:!1},{showDetail:!1,show:!0,type:"slider",brushSelect:!1,realtime:!0,left:20,right:15,selectedDataBackground:{lineStyle:{color:"#fff",opacity:.45},areaStyle:{opacity:0}}}]}}onChartInit(o){void 0===this.chartInstance&&(this.chartInstance=o,this.chartInstance.on("legendselectchanged",a=>{this.storageService.setValue("sizes_ln_legend",JSON.stringify(a.selected))}))}onSaveChart(){const o=this.chartOptions.grid.bottom,a=new Date;this.chartOptions.grid.bottom=40,this.chartOptions.backgroundColor="var(--active-bg)",this.chartInstance.setOption(this.chartOptions),(0,b.RG)(this.chartInstance.getDataURL({pixelRatio:2}),`lightning-network-capacity-${this.timespan}-${Math.round(a.getTime()/1e3)}.svg`),this.chartOptions.grid.bottom=o,this.chartOptions.backgroundColor="none",this.chartInstance.setOption(this.chartOptions)}static#t=this.\u0275fac=function(a){return new(a||i)(t.rXU(t.xe9),t.rXU(H.B),t.rXU(e.C),t.rXU(T.ze),t.rXU(Y.n),t.rXU(U.o),t.rXU(L.d),t.rXU(B.x))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-lightning-statistics-chart"]],hostVars:1,hostBindings:function(a,l){2&a&&t.BMQ("dir",l.dir)},inputs:{height:"height",right:"right",left:"left",widget:"widget"},features:[t.OA$],decls:13,vars:14,consts:()=>{let o,a;return o="\u0633\u0639\u0629 \u0634\u0628\u0643\u0629 \u0627\u0644\u0628\u0631\u0642",a="\u062A\u062C\u0631\u064A \u0627\u0644\u0641\u0647\u0631\u0633\u0629",[o,a,[1,"card-header","mb-0","mb-md-4"],[1,"d-flex","d-md-block","align-items-baseline"],[1,"btn","p-0","pl-2",2,"margin","0 0 4px 0px",3,"click"],[3,"icon","fixedWidth"],["class","formRadioGroup",3,"formGroup",4,"ngIf"],["echarts","",3,"class","style","initOpts","options","chartInit",4,"browserOnly"],["class","text-center loadingGraphs",4,"ngIf"],[4,"ngIf"],[1,"formRadioGroup",3,"formGroup"],["name","radioBasic",1,"btn-group","btn-group-toggle"],["class","btn btn-primary btn-sm",3,"active",4,"ngIf"],[1,"btn","btn-primary","btn-sm"],["type","radio","fragment","all","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","1m","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","3m","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","6m","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","1y","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","2y","formControlName","dateSpan",3,"value","routerLink"],["type","radio","fragment","3y","formControlName","dateSpan",3,"value","routerLink"],["echarts","",3,"chartInit","initOpts","options"],[1,"text-center","loadingGraphs"],[1,"spinner-border","text-light"],["class","indexing-message d-flex",4,"ngIf"],[1,"indexing-message","d-flex"]]},template:function(a,l){1&a&&(t.j41(0,"div")(1,"div",2)(2,"div",3)(3,"span"),t.pXf(4,0),t.k0s(),t.j41(5,"button",4),t.bIt("click",function(){return l.onSaveChart()}),t.nrm(6,"fa-icon",5),t.k0s()(),t.DNE(7,r,12,15,"form",6),t.nI1(8,"async"),t.k0s(),t.DNE(9,g,1,8,"div",7)(10,p,2,0,"div",8)(11,c,2,1,"div",9),t.nI1(12,"async"),t.k0s()),2&a&&(t.HbH(!1===l.widget?"full-container":""),t.R7$(),t.Aen(l.widget?"display:none":""),t.R7$(5),t.Y8G("icon",t.lJ4(13,q))("fixedWidth",!0),t.R7$(),t.Y8G("ngIf",t.bMT(8,9,l.capacityObservable$)),t.R7$(3),t.Y8G("ngIf",!l.stateService.isBrowser||l.isLoading),t.R7$(),t.Y8G("ngIf",l.widget&&t.bMT(12,11,l.capacityObservable$)))},dependencies:[v.bT,D.Wk,T.qT,T.me,T.Fm,T.BC,T.cb,T.j4,T.JD,V.aY,Z.e,J.$P,v.Jj,Q.U],styles:[".card-header[_ngcontent-%COMP%]{border-bottom:0;font-size:18px}@media (min-width: 465px){.card-header[_ngcontent-%COMP%]{font-size:20px}}@media (min-width: 992px){.card-header[_ngcontent-%COMP%]{height:40px}}.main-title[_ngcontent-%COMP%]{position:relative;color:var(--fg);opacity:var(--opacity);margin-top:-13px;font-size:10px;text-transform:uppercase;font-weight:500;text-align:center;padding-bottom:3px}.full-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0 15px;width:100%;height:calc(100vh - 225px);min-height:400px}@media (min-width: 992px){.full-container[_ngcontent-%COMP%]{height:calc(100vh - 150px)}}.chart[_ngcontent-%COMP%]{display:flex;flex:1;height:100%;padding-bottom:20px;padding-right:10px}@media (max-width: 992px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 829px){.chart[_ngcontent-%COMP%]{padding-bottom:50px}}@media (max-width: 767px){.chart[_ngcontent-%COMP%]{padding-bottom:25px}}@media (max-width: 629px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}@media (max-width: 567px){.chart[_ngcontent-%COMP%]{padding-bottom:55px}}.chart-widget[_ngcontent-%COMP%]{width:100%}.pool-distribution[_ngcontent-%COMP%]{min-height:56px;display:block}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]{display:flex;flex-direction:row}}.pool-distribution[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-bottom:10px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{width:50%;display:inline-block;margin:0 auto 20px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2){order:2}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2){order:3}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){order:3}@media (min-width: 485px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){order:2;display:block}}@media (min-width: 768px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){display:none}}@media (min-width: 992px){.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(3){display:block}}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem;color:var(--title-fg)}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{font-size:18px}.pool-distribution[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px}.skeleton-loader[_ngcontent-%COMP%]{width:100%;display:block;max-width:80px;margin:15px auto 3px}.indexing-message[_ngcontent-%COMP%]{position:absolute;font-size:15px;color:gray;font-weight:700;margin-left:calc(50% - 85px);margin-top:-10px}",".loadingGraphs[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}"]})}return i})()}}]);