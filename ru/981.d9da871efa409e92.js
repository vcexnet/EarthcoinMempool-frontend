"use strict";(self.webpackChunkmempool=self.webpackChunkmempool||[]).push([[981],{9302:(z,N,o)=>{o.r(N),o.d(N,{TrackerModule:()=>vt,TrackerRoutingModule:()=>W});var g=o(177),C=o(8185),E=o(9267),m=o(443),O=o(682),T=o(8141),f=o(5558),G=o(1966),P=o(1397),j=o(3103),v=o(9437),x=o(5964),R=o(6354),S=o(9172),l=o(1413),d=o(4412),a=o(8810),c=o(7673),X=o(4572),U=o(7786),H=o(9862),Y=o(1902),V=o(9906),F=o(8941),e=o(4438),J=o(4163),Z=o(2083),Q=o(9526),q=o(8020),ee=o(6491),te=o(3824),ie=o(3366),ne=o(8031),se=o(2251),ae=o(6335),oe=o(4913),re=o(5666),ce=o(8177),le=o(60),de=o(413),he=o(9181),fe=o(7913),_e=o(715),ge=o(2257),pe=o(9973),ue=o(4433);let Ce=(()=>{class i{constructor(t){this.cd=t,this.stage="waiting",this.transitionsEnabled=!1,this.stages={waiting:{state:"blank"},pending:{state:"blank"},soon:{state:"blank"},next:{state:"blank"},confirmed:{state:"blank"}},this.stageOrder=["waiting","pending","soon","next","confirmed"]}ngOnInit(){this.setStage(),setTimeout(()=>{this.transitionsEnabled=!0},100)}ngOnChanges(t){t.stage&&this.setStage()}setStage(){let t=0;for(let n of this.stageOrder)n===this.stage?(this.stages[n].state="current",t=1):t>1?this.stages[n].state="blank":t?(this.stages[n].state="next",t++):this.stages[n].state="done";this.stages=this.stages,this.cd.markForCheck()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-tracker-bar"]],inputs:{stage:"stage"},features:[e.OA$],decls:15,vars:33,consts:()=>{let t,n,s,h,_;return t="\u041E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u043E",n="\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F",s="\u0421\u043A\u043E\u0440\u043E",h="\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439 \u0431\u043B\u043E\u043A",_="\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u043E",[t,n,s,h,_,[1,"tracker-bar"]]},template:function(n,s){1&n&&(e.j41(0,"div",5)(1,"div"),e.pXf(2,0),e.k0s(),e.nrm(3,"div"),e.j41(4,"div"),e.pXf(5,1),e.k0s(),e.nrm(6,"div"),e.j41(7,"div"),e.pXf(8,2),e.k0s(),e.nrm(9,"div"),e.j41(10,"div"),e.pXf(11,3),e.k0s(),e.nrm(12,"div"),e.j41(13,"div"),e.pXf(14,4),e.k0s()()),2&n&&(e.AVh("transitions",s.transitionsEnabled),e.R7$(),e.ZvI("stage ",s.stages.waiting.state,""),e.R7$(2),e.STu("divider left-",s.stages.waiting.state," right-",s.stages.pending.state,""),e.R7$(),e.ZvI("stage ",s.stages.pending.state,""),e.R7$(2),e.STu("divider left-",s.stages.pending.state," right-",s.stages.soon.state,""),e.R7$(),e.ZvI("stage ",s.stages.soon.state,""),e.R7$(2),e.STu("divider left-",s.stages.soon.state," right-",s.stages.next.state,""),e.R7$(),e.ZvI("stage ",s.stages.next.state,""),e.R7$(2),e.STu("divider left-",s.stages.next.state," right-",s.stages.confirmed.state,""),e.R7$(),e.ZvI("stage ",s.stages.confirmed.state,""))},styles:['.tracker-bar[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;--div-left-color: var(--box-bg);--div-right-color: var(--box-bg);--stage-color: var(--box-bg);font-size:clamp(5px,2.5vw,15px);height:clamp(15px,7.5vw,45px)}.tracker-bar[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]{border-top:solid 2px var(--stat-box-bg);border-bottom:solid 2px var(--stat-box-bg);background:var(--stage-color);color:var(--transparent-fg);padding:1em;flex-grow:1;flex-shrink:1;overflow:hidden;text-wrap:nowrap;text-overflow:hidden;white-space:no-break;display:flex;align-items:center;justify-content:center}.tracker-bar[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]:first-child{border-left:solid 2px var(--stat-box-bg);border-top-left-radius:1.6em;border-bottom-left-radius:1.6em;padding-left:1.6em}.tracker-bar[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]:last-child{border-right:solid 2px var(--stat-box-bg);border-top-right-radius:1.6em;border-bottom-right-radius:1.6em}.tracker-bar[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%]:nth-child(4n+3){--stage-color: var(--secondary)}.tracker-bar[_ngcontent-%COMP%]   .stage.done[_ngcontent-%COMP%]{--stage-color: var(--primary);color:#fff}.tracker-bar[_ngcontent-%COMP%]   .stage.current[_ngcontent-%COMP%]{--stage-color: var(--tertiary);color:#fff}.tracker-bar[_ngcontent-%COMP%]   .stage.next[_ngcontent-%COMP%]{animation:1s linear alternate infinite _ngcontent-%COMP%_pulse-next}.tracker-bar[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]{position:relative;overflow:hidden;flex-shrink:0;flex-grow:0;background:var(--stat-box-bg);border-top:solid 2px var(--stat-box-bg);border-bottom:solid 2px var(--stat-box-bg);width:clamp(5px,2.5vw,15px)}.tracker-bar[_ngcontent-%COMP%]   .divider.left-done[_ngcontent-%COMP%]{--div-left-color: var(--primary)}.tracker-bar[_ngcontent-%COMP%]   .divider.left-current[_ngcontent-%COMP%]{--div-left-color: var(--tertiary)}.tracker-bar[_ngcontent-%COMP%]   .divider.left-blank[_ngcontent-%COMP%]:nth-child(4n), .tracker-bar[_ngcontent-%COMP%]   .divider.left-next[_ngcontent-%COMP%]:nth-child(4n){--div-left-color: var(--secondary)}.tracker-bar[_ngcontent-%COMP%]   .divider.left-next[_ngcontent-%COMP%]{animation:1s linear alternate infinite _ngcontent-%COMP%_pulse-next-top}.tracker-bar[_ngcontent-%COMP%]   .divider.right-done[_ngcontent-%COMP%]{--div-right-color: var(--primary)}.tracker-bar[_ngcontent-%COMP%]   .divider.right-current[_ngcontent-%COMP%]{--div-right-color: var(--tertiary)}.tracker-bar[_ngcontent-%COMP%]   .divider.right-blank[_ngcontent-%COMP%]:nth-child(4n+2), .tracker-bar[_ngcontent-%COMP%]   .divider.right-next[_ngcontent-%COMP%]:nth-child(4n+2){--div-right-color: var(--secondary)}.tracker-bar[_ngcontent-%COMP%]   .divider.right-next[_ngcontent-%COMP%]{animation:1s linear alternate infinite _ngcontent-%COMP%_pulse-next-bottom}.tracker-bar[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after, .tracker-bar[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before{content:"";width:100%;height:100%;display:block;position:absolute;transform:skew(160deg) translate(58%);background:var(--div-right-color)}.tracker-bar[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before{transform:skew(160deg) translate(-58%);background:var(--div-left-color)}.tracker-bar.transitions[_ngcontent-%COMP%]   .stage[_ngcontent-%COMP%], .tracker-bar.transitions[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%], .tracker-bar.transitions[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:before, .tracker-bar.transitions[_ngcontent-%COMP%]   .divider[_ngcontent-%COMP%]:after{transition:color .5s,border-color .5s,background-color .5s}@keyframes _ngcontent-%COMP%_pulse-next{to{border-color:var(--tertiary);text-shadow:0 0 .8em var(--tertiary)}}@keyframes _ngcontent-%COMP%_pulse-next-top{to{border-top-color:var(--tertiary)}}@keyframes _ngcontent-%COMP%_pulse-next-bottom{to{border-bottom-color:var(--tertiary)}}'],changeDetection:0})}return i})();var me=o(6631);const L=(i,r)=>[i,r],Te=i=>({height:i}),ve=()=>({mode:"details"}),be=()=>["fas","arrow-alt-circle-right"],D=i=>[i],Ee=i=>({rounded:i}),Se=()=>({mode:"status"}),xe=()=>["fas","wand-magic-sparkles"],Re=()=>["fas","hourglass-start"],Me=()=>["fas","hourglass-half"],Pe=()=>["fas","hourglass-end"],Oe=()=>["fas","circle-check"],ke=()=>["fas","timeline"];function Ae(i,r){if(1&i&&e.nrm(0,"img",36),2&i){const t=e.XpG(2);e.Y8G("src",null==t.enterpriseInfo?null:t.enterpriseInfo.header_img,e.B4B)("alt",t.enterpriseInfo.title)}}function $e(i,r){if(1&i&&(e.j41(0,"a",21),e.nI1(1,"relativeUrl"),e.DNE(2,Ae,1,2,"img",35),e.k0s()),2&i){const t=e.XpG();e.Y8G("routerLink",e.eq3(4,D,e.bMT(1,2,"/"))),e.R7$(2),e.Y8G("ngIf",t.enterpriseInfo.header_img)}}function Ne(i,r){if(1&i&&(e.j41(0,"a",22),e.nI1(1,"relativeUrl"),e.nrm(2,"img",37),e.k0s(),e.nrm(3,"div",38)),2&i){const t=e.XpG();e.Y8G("routerLink",e.eq3(6,D,e.bMT(1,4,"/"))),e.R7$(2),e.HbH(e.eq3(8,Ee,t.enterpriseInfo.rounded_corner)),e.Y8G("src",t.enterpriseInfo.img||"/api/v1/services/enterprise/images/"+t.enterpriseInfo.name+"/logo?imageMd5="+t.enterpriseInfo.imageMd5,e.B4B)}}function Ie(i,r){1&i&&e.nrm(0,"app-svg-images",41)}function we(i,r){1&i&&e.nrm(0,"app-svg-images",42)}function ye(i,r){if(1&i&&(e.j41(0,"a",22),e.nI1(1,"relativeUrl"),e.DNE(2,Ie,1,0,"app-svg-images",39)(3,we,1,0,"app-svg-images",40),e.k0s()),2&i){const t=e.XpG();e.Y8G("routerLink",e.eq3(5,D,e.bMT(1,3,"/"))),e.R7$(2),e.Y8G("ngIf",!t.officialMempoolSpace),e.R7$(),e.Y8G("ngIf",t.officialMempoolSpace)}}function Ge(i,r){1&i&&(e.j41(0,"span",49)(1,"span",50),e.EFF(2,"Earthcoin Signet"),e.k0s(),e.nrm(3,"app-svg-images",51),e.k0s())}function Xe(i,r){1&i&&(e.j41(0,"span",52)(1,"span",50),e.EFF(2,"Earthcoin Testnet3"),e.k0s(),e.nrm(3,"app-svg-images",53),e.k0s())}function Le(i,r){1&i&&(e.j41(0,"span",52)(1,"span",50),e.EFF(2,"Earthcoin Testnet4"),e.k0s(),e.nrm(3,"app-svg-images",54),e.k0s())}function Be(i,r){1&i&&(e.j41(0,"span",55)(1,"span",50),e.EFF(2,"Liquid"),e.k0s(),e.nrm(3,"app-svg-images",56),e.k0s())}function Ke(i,r){1&i&&(e.j41(0,"span",57)(1,"span",50),e.EFF(2,"Liquid Testnet"),e.k0s(),e.nrm(3,"app-svg-images",58),e.k0s())}function je(i,r){1&i&&(e.j41(0,"span",59)(1,"span",50),e.EFF(2,"Earthcoin"),e.k0s(),e.nrm(3,"app-svg-images",60),e.k0s())}function Fe(i,r){if(1&i&&(e.j41(0,"div",43),e.DNE(1,Ge,4,0,"span",44)(2,Xe,4,0,"span",45)(3,Le,4,0,"span",45)(4,Be,4,0,"span",46)(5,Ke,4,0,"span",47)(6,je,4,0,"span",48),e.k0s()),2&i){const t=e.XpG();e.AVh("hide-name",null==t.enterpriseInfo?null:t.enterpriseInfo.header_img),e.Y8G("ngSwitch",t.network),e.R7$(),e.Y8G("ngSwitchCase","signet"),e.R7$(),e.Y8G("ngSwitchCase","testnet"),e.R7$(),e.Y8G("ngSwitchCase","testnet4"),e.R7$(),e.Y8G("ngSwitchCase","liquid"),e.R7$(),e.Y8G("ngSwitchCase","liquidtestnet")}}function De(i,r){if(1&i&&(e.j41(0,"div",61)(1,"span"),e.pXf(2,3),e.k0s(),e.nrm(3,"app-truncate",63),e.nI1(4,"relativeUrl"),e.k0s()),2&i){const t=e.XpG(2);e.R7$(3),e.Y8G("text",t.latestReplacement)("lastChars",12)("link",e.l_i(6,L,e.bMT(4,4,"/tx/"),t.latestReplacement))("queryParams",e.lJ4(9,Se))}}function ze(i,r){if(1&i&&(e.j41(0,"div",64),e.nrm(1,"app-tracker-bar",65),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("stage",t.trackerStage)}}function Ue(i,r){if(1&i&&(e.j41(0,"i"),e.nrm(1,"app-time",68),e.k0s()),2&i){const t=e.XpG(3);e.R7$(),e.Y8G("time",t.transactionTime)("fastRender",!0)("showTooltip",!0)}}function Ye(i,r){1&i&&e.nrm(0,"span",69)}function We(i,r){1&i&&(e.j41(0,"span"),e.pXf(1,6),e.k0s())}function He(i,r){if(1&i&&e.nrm(0,"app-time",72),2&i){const t=e.XpG().ngIf;e.Y8G("time",t.time)("fastRender",!1)("fixedRender",!0)}}function Ve(i,r){if(1&i&&(e.qex(0),e.j41(1,"span",71),e.DNE(2,We,2,0,"span")(3,He,1,3),e.k0s(),e.bVm()),2&i){const t=r.ngIf;e.R7$(2),e.vxM(2,t.blocks>=7?2:3)}}function Je(i,r){1&i&&e.nrm(0,"span",69)}function Ze(i,r){if(1&i&&(e.j41(0,"div",67)(1,"div",25),e.pXf(2,5),e.k0s(),e.j41(3,"div",26),e.DNE(4,Ve,4,1,"ng-container",70),e.nI1(5,"async"),e.DNE(6,Je,1,0,"ng-template",null,0,e.C5r),e.k0s()()),2&i){const t=e.sdS(7),n=e.XpG(3);e.R7$(4),e.Y8G("ngIf",e.bMT(5,2,n.ETA$))("ngIfElse",t)}}function Qe(i,r){if(1&i&&(e.j41(0,"div",66)(1,"div",25),e.pXf(2,4),e.k0s(),e.j41(3,"div",26),e.DNE(4,Ue,2,3,"i")(5,Ye,1,0),e.k0s()(),e.DNE(6,Ze,8,4,"div",67)),2&i){const t=e.XpG(2);e.R7$(4),e.vxM(4,t.transactionTime>0?4:5),e.R7$(2),e.vxM(6,t.replaced?-1:6)}}function qe(i,r){if(1&i&&e.nrm(0,"app-confirmations",78),2&i){const t=e.XpG(3);e.Y8G("chainTip",null==t.latestBlock?null:t.latestBlock.height)("height",null==t.tx||null==t.tx.status?null:t.tx.status.block_height)}}function et(i,r){if(1&i&&(e.j41(0,"div",66)(1,"div",25),e.pXf(2,7),e.k0s(),e.j41(3,"div",26),e.EFF(4),e.nI1(5,"date"),e.j41(6,"div",73)(7,"i",74),e.EFF(8,"("),e.nrm(9,"app-time",68),e.EFF(10,")"),e.k0s()()()(),e.j41(11,"div",67)(12,"div",25),e.pXf(13,8),e.k0s(),e.j41(14,"div",26)(15,"span",71)(16,"a",75),e.nI1(17,"relativeUrl"),e.EFF(18),e.k0s(),e.j41(19,"div",76),e.DNE(20,qe,1,2,"app-confirmations",77),e.k0s()()()()),2&i){const t=e.XpG(2);e.R7$(4),e.SpI(" \u200e",e.i5U(5,7,1e3*t.tx.status.block_time,"yyyy-MM-dd HH:mm")," "),e.R7$(5),e.Y8G("time",t.tx.status.block_time)("fastRender",!0)("showTooltip",!0),e.R7$(7),e.Y8G("routerLink",e.l_i(12,L,e.bMT(17,10,"/block/"),null==t.tx.status?null:t.tx.status.block_height)),e.R7$(2),e.JRh(null==t.tx.status?null:t.tx.status.block_height),e.R7$(2),e.Y8G("ngIf",t.tx)}}function tt(i,r){if(1&i&&(e.j41(0,"div",19),e.DNE(1,De,5,10,"div",61)(2,ze,2,1),e.j41(3,"div",62),e.DNE(4,Qe,7,2)(5,et,21,15),e.k0s()()),2&i){const t=e.XpG();e.R7$(),e.vxM(1,t.replaced?1:2),e.R7$(3),e.vxM(4,!t.tx||null!=t.tx.status&&t.tx.status.confirmed?t.tx&&null!=t.tx.status&&t.tx.status.confirmed?5:-1:4)}}function it(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"div",81),e.k0s(),e.j41(2,"span",82),e.EFF(3,"\xa0"),e.k0s())}function nt(i,r){if(1&i){const t=e.RV6();e.j41(0,"app-accelerate-checkout",86),e.bIt("unavailable",function(){e.eBV(t);const s=e.XpG(5);return e.Njj(s.eligibleForAcceleration=!1)}),e.k0s()}if(2&i){const t=e.XpG().ngIf,n=e.XpG(4);e.Y8G("cashappEnabled",n.cashappEligible)("advancedEnabled",!1)("forceMobile",!0)("tx",n.tx)("accelerating",n.isAcceleration)("miningStats",n.miningStats)("eta",t)("scrollEvent",n.scrollIntoAccelPreview)}}function st(i,r){if(1&i&&(e.qex(0),e.DNE(1,nt,1,8,"app-accelerate-checkout",85),e.nI1(2,"async"),e.bVm()),2&i){const t=e.XpG(4);e.R7$(),e.Y8G("ngIf",e.bMT(2,1,t.da$))}}function at(i,r){if(1&i&&(e.DNE(0,st,3,3,"ng-container",84),e.nI1(1,"async")),2&i){const t=e.XpG(3);e.Y8G("ngIf",e.bMT(1,1,t.ETA$))}}function ot(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"fa-icon",87),e.k0s(),e.j41(2,"span",82),e.pXf(3,9),e.k0s()),2&i&&(e.R7$(),e.Y8G("icon",e.lJ4(2,xe))("fixedWidth",!0))}function rt(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"div",81),e.k0s(),e.j41(2,"span",82),e.pXf(3,10),e.k0s())}function ct(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"fa-icon",87),e.k0s(),e.j41(2,"span",82),e.pXf(3,11),e.k0s()),2&i&&(e.R7$(),e.Y8G("icon",e.lJ4(2,Re))("fixedWidth",!0))}function lt(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"fa-icon",87),e.k0s(),e.j41(2,"span",82),e.pXf(3,12),e.k0s()),2&i&&(e.R7$(),e.Y8G("icon",e.lJ4(2,Me))("fixedWidth",!0))}function dt(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"fa-icon",87),e.k0s(),e.j41(2,"span",82),e.pXf(3,13),e.k0s()),2&i&&(e.R7$(),e.Y8G("icon",e.lJ4(2,Pe))("fixedWidth",!0))}function ht(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"fa-icon",87),e.k0s(),e.j41(2,"span",82),e.pXf(3,14),e.k0s()),2&i&&(e.R7$(),e.Y8G("icon",e.lJ4(2,Oe))("fixedWidth",!0))}function ft(i,r){1&i&&(e.j41(0,"div",80),e.nrm(1,"fa-icon",87),e.k0s(),e.j41(2,"span",82),e.pXf(3,15),e.k0s()),2&i&&(e.R7$(),e.Y8G("icon",e.lJ4(2,ke))("fixedWidth",!0))}function _t(i,r){if(1&i&&e.DNE(0,rt,4,0)(1,ct,4,3)(2,lt,4,3)(3,dt,4,3)(4,ht,4,3)(5,ft,4,3),2&i){let t;const n=e.XpG(3);e.vxM(0,"waiting"===(t=n.trackerStage)?0:"pending"===t?1:"soon"===t?2:"next"===t?3:"confirmed"===t?4:"replaced"===t?5:-1)}}function gt(i,r){if(1&i&&(e.DNE(0,at,2,3,"ng-container"),e.j41(1,"div",83),e.DNE(2,ot,4,3)(3,_t,6,1),e.k0s()),2&i){const t=e.XpG(2);e.vxM(0,!t.tx||null!=t.tx.status&&t.tx.status.confirmed||!t.showAccelerationSummary?-1:0),e.R7$(),e.AVh("small-status",t.tx&&!(null!=t.tx.status&&t.tx.status.confirmed)&&t.showAccelerationSummary),e.R7$(),e.vxM(2,null==t.tx||!t.tx.acceleration||null!=t.tx.status&&t.tx.status.confirmed?3:2)}}function pt(i,r){if(1&i&&(e.j41(0,"div",79),e.DNE(1,it,4,0)(2,gt,4,4),e.k0s()),2&i){const t=e.XpG();e.R7$(),e.vxM(1,t.isLoading?1:2)}}function ut(i,r){if(1&i&&(e.j41(0,"div",79)(1,"app-http-error",88)(2,"span"),e.pXf(3,16),e.k0s()()()),2&i){const t=e.XpG();e.R7$(),e.Y8G("error",t.error)}}let Ct=(()=>{class i{constructor(t,n,s,h,_,b,M,p,I,k,A,w,$,y,B,K,u){this.route=t,this.electrsApiService=n,this.stateService=s,this.etaService=h,this.cacheService=_,this.websocketService=b,this.audioService=M,this.apiService=p,this.servicesApiService=I,this.seoService=k,this.priceService=A,this.enterpriseService=w,this.miningService=$,this.router=y,this.cd=B,this.zone=K,this.zoneService=u,this.network="",this.isLoadingTx=!0,this.loadingCachedTx=!1,this.loadingPosition=!0,this.error=void 0,this.waitingForTransaction=!1,this.transactionTime=-1,this.replaced=!1,this.hasCpfp=!1,this.accelerationInfo=null,this.isAcceleration=!1,this.filters=[],this.showCpfpDetails=!1,this.fetchCpfp$=new l.B,this.fetchRbfHistory$=new l.B,this.fetchCachedTx$=new l.B,this.fetchAcceleration$=new l.B,this.fetchMiningInfo$=new l.B,this.txChanged$=new d.t(!1),this.isAccelerated$=new d.t(!1),this.isCached=!1,this.now=Date.now(),this.trackerStage="waiting",this.blockchainHeight=100,this.blockchainWidth=600,this.accelerateCtaType="button",this.acceleratorAvailable=this.stateService.env.ACCELERATOR&&""===this.stateService.network,this.eligibleForAcceleration=!1,this.accelerationFlowCompleted=!1,this.scrollIntoAccelPreview=!1,this.auditEnabled=this.stateService.env.AUDIT&&"mempool"===this.stateService.env.BASE_MODULE&&!0===this.stateService.env.MINING_DASHBOARD,this.officialMempoolSpace=this.stateService.env.OFFICIAL_MEMPOOL_SPACE}ngOnInit(){this.onResize(),this.acceleratorAvailable=this.stateService.env.OFFICIAL_MEMPOOL_SPACE&&this.stateService.env.ACCELERATOR&&""===this.stateService.network,this.miningService.getMiningStats("1w").subscribe(t=>{this.miningStats=t}),this.enterpriseService.page(),this.enterpriseInfo$=this.enterpriseService.info$.subscribe(t=>{this.enterpriseInfo=t}),this.websocketService.want(["blocks","mempool-blocks"]),this.stateService.networkChanged$.subscribe(t=>{this.network=t,this.acceleratorAvailable=this.stateService.env.OFFICIAL_MEMPOOL_SPACE&&this.stateService.env.ACCELERATOR&&""===this.stateService.network}),this.da$=this.stateService.difficultyAdjustment$.pipe((0,T.M)(()=>{this.now=Date.now()})),this.blocksSubscription=this.stateService.blocks$.subscribe(t=>{this.latestBlock=t[0]}),this.fetchCpfpSubscription=this.fetchCpfp$.pipe((0,f.n)(t=>this.apiService.getCpfpinfo$(t).pipe((0,G.l)(n=>n.pipe((0,P.Z)(s=>!this.tx?.status||this.tx.status.confirmed?(0,a.$)(s):(0,c.of)(null)),(0,j.c)(2e3))),(0,v.W)(()=>(0,c.of)(null)))),(0,v.W)(()=>(0,c.of)(null))).subscribe(t=>{this.setCpfpInfo(t)}),this.fetchRbfSubscription=this.fetchRbfHistory$.pipe((0,f.n)(t=>this.apiService.getRbfHistory$(t)),(0,v.W)(()=>(0,c.of)(null))).subscribe(t=>{if(this.rbfInfo=t?.replacements,this.rbfReplaces=t?.replaces||null,this.rbfInfo&&(this.latestReplacement=this.rbfInfo.tx.txid,this.rbfInfo.mined)){const n=[this.rbfInfo];let s=!1;for(;n.length&&!s;){const h=n.pop();if(h?.tx.mined){s=!0,this.latestReplacement=h.tx.txid;break}n.push(...h.replaces)}}}),this.fetchCachedTxSubscription=this.fetchCachedTx$.pipe((0,T.M)(()=>{this.loadingCachedTx=!0}),(0,f.n)(t=>this.apiService.getRbfCachedTx$(t)),(0,v.W)(()=>(0,c.of)(null))).subscribe(t=>{this.loadingCachedTx=!1,t?(this.seoService.clearSoft404(),this.tx||(this.tx=t,this.checkAccelerationEligibility(),this.isCached=!0,void 0===t.fee&&(this.tx.fee=0),this.tx.feePerVsize=t.fee/(t.weight/4),this.isLoadingTx=!1,this.error=void 0,this.waitingForTransaction=!1,this.transactionTime=t.firstSeen||0,this.fetchRbfHistory$.next(this.tx.txid),this.txChanged$.next(!0))):this.seoService.logSoft404()}),this.fetchAccelerationSubscription=this.fetchAcceleration$.pipe((0,x.p)(()=>!0===this.stateService.env.ACCELERATOR),(0,T.M)(()=>{this.accelerationInfo=null}),(0,f.n)(t=>this.servicesApiService.getAllAccelerationHistory$({blockHash:t},null,this.txId)),(0,v.W)(()=>(0,c.of)(null))).subscribe(t=>{for(const n of t)if(n.txid===this.txId&&("completed"===n.status||"completed_provisional"===n.status)&&n.pools.includes(n.minedByPoolUniqueId)){const s=n.boostCost||n.bidBoost;n.acceleratedFeeRate=Math.max(n.effectiveFee,n.effectiveFee+s)/n.effectiveVsize,n.boost=s,this.accelerationInfo=n,this.setIsAccelerated()}}),this.miningSubscription=this.fetchMiningInfo$.pipe((0,x.p)(t=>t.txid===this.txId),(0,T.M)(()=>{this.pool=null,this.auditStatus=null}),(0,f.n)(({hash:t,height:n,txid:s})=>{const h=this.cacheService.getCachedBlock(n)||null,_=this.isAuditAvailable(n),b=this.tx.vin.some(p=>p.is_coinbase),M=_&&!b;return(0,X.z)([h?(0,c.of)(h.extras.pool):this.apiService.getBlock$(t).pipe((0,R.T)(p=>p.extras.pool),(0,v.W)(()=>(0,c.of)(null))),M?this.apiService.getBlockAudit$(t).pipe((0,R.T)(p=>{const I=p.addedTxs.includes(s),k=p.prioritizedTxs.includes(s),A=p.acceleratedTxs.includes(s),w=p.fullrbfTxs.includes(s),$=p.template.some(y=>y.txid===s);return{seen:$||k||A,expected:$,added:I,prioritized:k,conflict:w,accelerated:A}}),(0,v.W)(()=>(0,c.of)(null))):(0,c.of)(b?{coinbase:!0}:null)])}),(0,v.W)(()=>(0,c.of)(null))).subscribe(([t,n])=>{this.pool=t,this.auditStatus=n}),this.mempoolPositionSubscription=this.stateService.mempoolTxPosition$.subscribe(t=>{if(this.now=Date.now(),t&&t.txid===this.txId&&t.position){if(this.loadingPosition=!1,this.mempoolPosition=t.position,this.accelerationPositions=t.accelerationPositions,this.tx&&!this.tx.status.confirmed){const n=(0,F.Tk)(this.tx,this.tx.acceleration||this.mempoolPosition?.accelerated);this.stateService.markBlock$.next({txid:t.txid,txFeePerVSize:n,mempoolPosition:this.mempoolPosition,accelerationPositions:this.accelerationPositions}),this.txInBlockIndex=this.mempoolPosition.block,void 0!==t.cpfp&&this.setCpfpInfo(t.cpfp),t.position?.accelerated&&(this.tx.acceleration=!0,this.tx.acceleratedBy=t.position?.acceleratedBy),this.replaced&&(this.trackerStage="replaced"),this.mempoolPosition.accelerated&&this.showAccelerationSummary&&setTimeout(()=>{this.accelerationFlowCompleted=!0},2e3)}}else this.mempoolPosition=null,this.accelerationPositions=null}),this.subscription=this.zoneService.wrapObservable(this.route.paramMap.pipe((0,f.n)(t=>{const n=(t.get("id")||"").split(":");2===n.length&&64===n[1].length?(parseInt(n[0],10),this.txId=n[1]):this.txId=n[0],this.seoService.setTitle("\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F: " + this.txId + "");const s="liquid"===this.stateService.network||"liquidtestnet"===this.stateService.network?"Liquid":"Earthcoin",h=(0,H.Sr)(this.stateService.network);return this.seoService.setDescription("\u0412 \u0440\u0435\u0436\u0438\u043C\u0435 \u0440\u0435\u0430\u043B\u044C\u043D\u043E\u0433\u043E \u0432\u0440\u0435\u043C\u0435\u043D\u0438 \u043E\u0446\u0435\u043D\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441, \u0430\u0434\u0440\u0435\u0441\u0430, \u043A\u043E\u043C\u0438\u0441\u0441\u0438\u0438, \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E \u043E \u0441\u043A\u0440\u0438\u043F\u0442\u0430\u0445 \u0438 \u043C\u043D\u043E\u0433\u043E\u0435 \u0434\u0440\u0443\u0433\u043E\u0435 \u0434\u043B\u044F \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438 " + s + "" + h + " \u0441 txid " + this.txId + "."),this.resetTransaction(),(0,U.h)((0,c.of)(!0),this.stateService.connectionState$.pipe((0,x.p)(_=>2===_&&this.tx&&!this.tx.status?.confirmed)))}),(0,f.n)(()=>{let t;const n=this.cacheService.getTxFromCache(this.txId);return t=n&&-1!==n.fee?(0,c.of)(n):this.electrsApiService.getTransaction$(this.txId).pipe((0,v.W)(this.handleLoadElectrsTransactionError.bind(this))),(0,U.h)(t,this.stateService.mempoolTransactions$)}))).subscribe(t=>{if(!t)return this.loadingPosition=!1,this.fetchCachedTx$.next(this.txId),void this.seoService.logSoft404();if(this.seoService.clearSoft404(),this.tx=t,this.checkAccelerationEligibility(),this.isCached=!1,void 0===t.fee&&(this.tx.fee=0),null!=this.tx.sigops&&(this.sigops=this.tx.sigops,this.adjustedVsize=Math.max(this.tx.weight/4,5*this.sigops)),this.tx.feePerVsize=t.fee/(t.weight/4),this.txChanged$.next(!0),this.isLoadingTx=!1,this.error=void 0,this.loadingCachedTx=!1,this.waitingForTransaction=!1,this.websocketService.startTrackTransaction(t.txid),t.status?.confirmed?(this.trackerStage="confirmed",this.loadingPosition=!1,this.fetchAcceleration$.next(t.status.block_hash),this.fetchMiningInfo$.next({hash:t.status.block_hash,height:t.status.block_height,txid:t.txid}),this.transactionTime=0):(this.trackerStage="pending",t.firstSeen?this.transactionTime=t.firstSeen:this.getTransactionTime()),this.tx?.status?.confirmed)this.stateService.markBlock$.next({blockHeight:t.status.block_height}),this.fetchCpfp$.next(this.tx.txid);else{const n=(0,F.Tk)(this.tx,this.tx.acceleration||this.mempoolPosition?.accelerated);t.cpfpChecked?(this.stateService.markBlock$.next({txid:t.txid,txFeePerVSize:n,mempoolPosition:this.mempoolPosition,accelerationPositions:this.accelerationPositions}),this.setCpfpInfo({ancestors:t.ancestors,bestDescendant:t.bestDescendant}),this.hasEffectiveFeeRate=!(!t.ancestors?.length&&!t.bestDescendant)||t.effectiveFeePerVsize&&Math.abs(t.effectiveFeePerVsize-t.feePerVsize)>.01):this.fetchCpfp$.next(this.tx.txid)}this.fetchRbfHistory$.next(this.tx.txid),this.currencyChangeSubscription?.unsubscribe(),this.currencyChangeSubscription=this.stateService.fiatCurrency$.pipe((0,f.n)(n=>t.status.block_time?this.priceService.getBlockPrice$(t.status.block_time,!0,n).pipe((0,T.M)(s=>t.price=s)):(0,c.of)(void 0))).subscribe(),this.cd.detectChanges()},t=>{this.error=t,this.seoService.logSoft404(),this.isLoadingTx=!1}),this.stateService.txConfirmed$.subscribe(([t,n])=>{t&&this.tx&&!this.tx.status.confirmed&&t===this.tx.txid&&(this.tx.status={confirmed:!0,block_height:n.height,block_hash:n.id,block_time:n.timestamp},this.txChanged$.next(!0),this.trackerStage="confirmed",this.stateService.markBlock$.next({blockHeight:n.height}),this.tx.acceleration||this.accelerationInfo&&["accelerating","completed_provisional","completed"].includes(this.accelerationInfo.status)?this.audioService.playSound("wind-chimes-harp-ascend"):this.audioService.playSound("magic"),this.fetchAcceleration$.next(n.id),this.fetchMiningInfo$.next({hash:n.id,height:n.height,txid:this.tx.txid}))}),this.txReplacedSubscription=this.stateService.txReplaced$.subscribe(t=>{this.tx||(this.error=new Error,this.loadingCachedTx=!1,this.waitingForTransaction=!1),this.rbfTransaction=t,this.replaced=!0,this.trackerStage="replaced",this.rbfInfo||(this.latestReplacement=this.rbfTransaction.txid),this.stateService.markBlock$.next({}),t&&!this.tx&&this.fetchCachedTx$.next(this.txId)}),this.mempoolBlocksSubscription=this.stateService.mempoolBlocks$.subscribe(t=>{if(this.now=Date.now(),!this.tx||this.mempoolPosition)return;const n=this.tx.effectiveFeePerVsize||this.tx.fee/(this.tx.weight/4);let s=!1;this.txInBlockIndex=0;for(const h of t)for(let _=0;_<h.feeRange.length-1&&!s;_++)n<=h.feeRange[_+1]&&n>=h.feeRange[_]&&(this.txInBlockIndex=t.indexOf(h),s=!0);!s&&t.length&&n<t[t.length-1].feeRange[0]&&(this.txInBlockIndex=7)}),this.ETA$=(0,X.z)([this.stateService.mempoolTxPosition$.pipe((0,S.Z)(null)),this.stateService.mempoolBlocks$.pipe((0,S.Z)(null)),this.stateService.difficultyAdjustment$.pipe((0,S.Z)(null)),this.isAccelerated$,this.txChanged$]).pipe((0,x.p)(([t,n,s,h])=>this.tx&&!this.tx?.status?.confirmed&&t&&this.tx.txid===t.txid),(0,R.T)(([t,n,s,h])=>this.etaService.calculateETA(this.network,this.tx,n,t,s,this.miningStats,h,this.accelerationPositions)),(0,T.M)(t=>{this.trackerStage=this.replaced?"replaced":0===t?.blocks?"next":t?.blocks<3?"soon":"pending"}))}handleLoadElectrsTransactionError(t){return 404===t.status&&/^[a-fA-F0-9]{64}$/.test(this.txId)&&(this.websocketService.startMultiTrackTransaction(this.txId),this.waitingForTransaction=!0),this.error=t,this.seoService.logSoft404(),this.isLoadingTx=!1,(0,c.of)(!1)}getTransactionTime(){this.apiService.getTransactionTimes$([this.tx.txid]).subscribe(t=>{t?.length&&(this.transactionTime=t[0])})}setCpfpInfo(t){if(!t||!this.tx)return this.cpfpInfo=null,this.hasCpfp=!1,void(this.hasEffectiveFeeRate=!1);const n=null==this.cpfpInfo,s=[...t.ancestors||[],...t.descendants||[]];t.bestDescendant&&!t.descendants?.length&&s.push(t.bestDescendant);const h=!!s.length;if(!t.effectiveFeePerVsize&&h){const _=this.tx.weight+s.reduce((M,p)=>M+p.weight,0),b=this.tx.fee+s.reduce((M,p)=>M+p.fee,0);this.tx.effectiveFeePerVsize=b/(_/4)}else this.tx.effectiveFeePerVsize=t.effectiveFeePerVsize||this.tx.effectiveFeePerVsize||this.tx.feePerVsize||this.tx.fee/(this.tx.weight/4);t.acceleration&&(this.tx.acceleration=t.acceleration,this.tx.acceleratedBy=t.acceleratedBy,this.setIsAccelerated(n)),this.txChanged$.next(!0),this.cpfpInfo=t,this.cpfpInfo.adjustedVsize&&null!=this.cpfpInfo.sigops&&(this.sigops=this.cpfpInfo.sigops,this.adjustedVsize=this.cpfpInfo.adjustedVsize),this.hasCpfp=!(!this.cpfpInfo||!(this.cpfpInfo.bestDescendant||this.cpfpInfo.descendants?.length||this.cpfpInfo.ancestors?.length)),this.hasEffectiveFeeRate=h||this.tx.effectiveFeePerVsize&&Math.abs(this.tx.effectiveFeePerVsize-this.tx.feePerVsize)>.01}isAuditAvailable(t){if(!this.auditEnabled)return!1;switch(this.stateService.network){case"testnet":if(t<this.stateService.env.TESTNET_BLOCK_AUDIT_START_HEIGHT)return!1;break;case"signet":if(t<this.stateService.env.SIGNET_BLOCK_AUDIT_START_HEIGHT)return!1;break;default:if(t<this.stateService.env.MAINNET_BLOCK_AUDIT_START_HEIGHT)return!1}return!0}setIsAccelerated(t=!1){this.isAcceleration=this.tx.acceleration||this.accelerationInfo&&this.pool&&this.accelerationInfo.pools.some(n=>n===this.pool.id),this.isAcceleration&&(this.miningService.getMiningStats("1w").subscribe(n=>{this.miningStats=n,this.isAccelerated$.next(this.isAcceleration)}),this.accelerationFlowCompleted=!0),this.isAccelerated$.next(this.isAcceleration)}dismissAccelAlert(){this.accelerateCtaType="button"}onAccelerateClicked(){if(this.txId)return this.accelerationFlowCompleted=!1,this.showAccelerationSummary&&(this.scrollIntoAccelPreview=!0),!1}get isLoading(){return this.isLoadingTx||this.loadingCachedTx||this.loadingPosition}checkAccelerationEligibility(){this.tx?(this.tx.flags=(0,F.od)(this.tx,null,null,this.tx.status?.block_time,this.stateService.network),this.eligibleForAcceleration=!((this.tx.flags&(Y.ir.sighash_none|Y.ir.sighash_acp))>0n||20*this.tx.sigops>this.tx.weight)):this.eligibleForAcceleration=!1}get cashappEligible(){return this.mempoolPosition?.block>0&&this.tx.weight<4e3}get showAccelerationSummary(){return this.tx&&!this.replaced&&!this.isCached&&this.acceleratorAvailable&&this.eligibleForAcceleration&&!this.accelerationFlowCompleted}resetTransaction(){this.error=void 0,this.tx=null,this.txChanged$.next(!0),this.waitingForTransaction=!1,this.isLoadingTx=!0,this.loadingPosition=!0,this.rbfTransaction=void 0,this.replaced=!1,this.latestReplacement="",this.transactionTime=-1,this.cpfpInfo=null,this.adjustedVsize=null,this.sigops=null,this.hasEffectiveFeeRate=!1,this.rbfInfo=null,this.rbfReplaces=[],this.filters=[],this.showCpfpDetails=!1,this.accelerationInfo=null,this.txInBlockIndex=null,this.mempoolPosition=null,this.pool=null,this.auditStatus=null,this.accelerationPositions=null,this.eligibleForAcceleration=!1,this.trackerStage="waiting",document.body.scrollTo(0,0),this.leaveTransaction()}leaveTransaction(){this.websocketService.stopTrackingTransaction(),this.stateService.markBlock$.next({})}roundToOneDecimal(t){return+(t.fee/(t.weight/4)).toFixed(1)}onResize(){this.isMobile=window.innerWidth<850,this.blockchainWidth=Math.min(600,window.innerWidth),this.blockchainHeight=this.blockchainWidth/5}ngOnDestroy(){this.subscription.unsubscribe(),this.fetchCpfpSubscription.unsubscribe(),this.fetchRbfSubscription.unsubscribe(),this.fetchCachedTxSubscription.unsubscribe(),this.fetchAccelerationSubscription.unsubscribe(),this.txReplacedSubscription.unsubscribe(),this.mempoolBlocksSubscription.unsubscribe(),this.mempoolPositionSubscription.unsubscribe(),this.mempoolBlocksSubscription.unsubscribe(),this.blocksSubscription.unsubscribe(),this.miningSubscription?.unsubscribe(),this.currencyChangeSubscription?.unsubscribe(),this.enterpriseInfo$?.unsubscribe(),this.leaveTransaction()}static#e=this.\u0275fac=function(n){return new(n||i)(e.rXU(C.nX),e.rXU(J.o),e.rXU(Z.d),e.rXU(Q.E),e.rXU(q._),e.rXU(ee.H),e.rXU(te.U),e.rXU(ie.G),e.rXU(ne.z),e.rXU(se.B),e.rXU(ae.d),e.rXU(oe.T),e.rXU(re.o),e.rXU(C.Ix),e.rXU(e.gRc),e.rXU(e.SKi),e.rXU(V.p))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-tracker"]],hostBindings:function(n,s){1&n&&e.bIt("resize",function(_){return s.onResize(_)},!1,e.tSv)},decls:27,vars:31,consts:()=>{let t,n,s,h,_,b,M,p,I,k,A,w,$,y,B,K;return t="\u0422\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F",n="\u041F\u043E\u0441\u043C\u043E\u0442\u0440\u0435\u0442\u044C \u043F\u043E\u0434\u0440\u043E\u0431\u043D\u043E\u0441\u0442\u0438",s="\u042D\u0442\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0431\u044B\u043B\u0430 \u0437\u0430\u043C\u0435\u043D\u0435\u043D\u0430 \u043D\u0430:",h="\u0412\u043F\u0435\u0440\u0432\u044B\u0435 \u0437\u0430\u043C\u0435\u0447\u0435\u043D",_="\u0420\u0430\u0441\u0447\u0435\u0442\u043D\u043E\u0435 \u0432\u0440\u0435\u043C\u044F",b="\u041D\u0435 \u0432 \u0431\u043B\u0438\u0436\u0430\u0439\u0448\u0435\u0435 \u0432\u0440\u0435\u043C\u044F",M="\u041F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0430 \u0432",p="\u0412\u044B\u0441\u043E\u0442\u0430 \u0431\u043B\u043E\u043A\u0430",I="\u0412\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0431\u044B\u043B\u0430 \u0443\u0441\u043A\u043E\u0440\u0435\u043D\u0430",k="\u041E\u0436\u0438\u0434\u0430\u043D\u0438\u0435 \u043F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u044F \u0432\u0430\u0448\u0435\u0439 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438 \u0432 \u043C\u0435\u043C\u043F\u0443\u043B\u0435",A="\u0412\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u0432 \u043C\u0435\u043C\u043F\u0443\u043B\u0435, \u043D\u043E \u043D\u0435\u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0432\u0440\u0435\u043C\u044F \u043D\u0435 \u0431\u0443\u0434\u0435\u0442 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0430.",w="\u0412\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043D\u0430\u0445\u043E\u0434\u0438\u0442\u0441\u044F \u043D\u0430 \u0432\u0435\u0440\u0448\u0438\u043D\u0435 \u043C\u0435\u043C\u043F\u0443\u043B\u0430 \u0438, \u043A\u0430\u043A \u043E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F, \u0441\u043A\u043E\u0440\u043E \u0431\u0443\u0434\u0435\u0442 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0430.",$="\u041E\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044F, \u0447\u0442\u043E \u0432\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0431\u0443\u0434\u0435\u0442 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0430 \u0432 \u0441\u043B\u0435\u0434\u0443\u044E\u0449\u0435\u043C \u0431\u043B\u043E\u043A\u0435.",y="\u0412\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0430!",B="\u0412\u0430\u0448\u0430 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u044F \u0437\u0430\u043C\u0435\u043D\u0435\u043D\u0430 \u043D\u0430 \u0431\u043E\u043B\u0435\u0435 \u043D\u043E\u0432\u0443\u044E \u0432\u0435\u0440\u0441\u0438\u044E!",K="\u041E\u0448\u0438\u0431\u043A\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 \u0434\u0430\u043D\u043D\u044B\u0445 \u0442\u0440\u0430\u043D\u0437\u0430\u043A\u0446\u0438\u0438.",[["etaSkeleton",""],t,n,s,h,_,b,M,p,I,k,A,w,$,y,B,K,[1,"mobile-wrapper"],[1,"mobile-container"],[1,"panel"],[1,"nav-header"],[1,"d-flex",3,"routerLink"],[3,"routerLink"],[1,"network-label",3,"ngSwitch","hide-name"],[1,"field"],[1,"label"],[1,"value"],[3,"text","lastChars","link"],[3,"text"],[1,"blockchain-wrapper"],["mode","none",3,"height","width"],["class","panel",4,"ngIf"],["class","bottom-panel",4,"ngIf"],["queryParamsHandling","merge",1,"footer-link",3,"routerLink","queryParams"],[3,"icon"],["height","42px",3,"src","alt",4,"ngIf"],["height","42px",3,"src","alt"],[1,"subdomain_logo",3,"src"],[1,"vertical-line"],["name","mempoolSpace","style","width: 144px; height: 36px","viewBox","0 0 500 126","width","500","height","126","class","mempool-logo",4,"ngIf"],["name","officialMempoolSpace","style","width: 144px; height: 36px","width","500","height","126","viewBox","0 0 500 126",4,"ngIf"],["name","mempoolSpace","viewBox","0 0 500 126","width","500","height","126",1,"mempool-logo",2,"width","144px","height","36px"],["name","officialMempoolSpace","width","500","height","126","viewBox","0 0 500 126",2,"width","144px","height","36px"],[1,"network-label",3,"ngSwitch"],["class","network signet",4,"ngSwitchCase"],["class","network testnet",4,"ngSwitchCase"],["class","network liquid",4,"ngSwitchCase"],["class","network liquidtestnet",4,"ngSwitchCase"],["class","network mainnet",4,"ngSwitchDefault"],[1,"network","signet"],[1,"name"],["name","signet","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","ml-2",2,"display","inline-block"],[1,"network","testnet"],["name","testnet","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","ml-2",2,"display","inline-block"],["name","testnet4","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","ml-2",2,"display","inline-block"],[1,"network","liquid"],["name","liquid","width","35","height","35","viewBox","0 0 125 125",1,"mainnet","ml-2",2,"display","inline-block"],[1,"network","liquidtestnet"],["name","liquidtestnet","width","35","height","35","viewBox","0 0 125 125",1,"mainnet","ml-2",2,"display","inline-block"],[1,"network","mainnet"],["name","bitcoin","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","ml-2",2,"display","inline-block"],["role","alert",1,"alert-replaced"],[1,"data"],[3,"text","lastChars","link","queryParams"],[1,"tracker-bar"],[3,"stage"],[1,"field","narrower","mt-2"],[1,"field","narrower"],["kind","since",3,"time","fastRender","showTooltip"],[1,"skeleton-loader",2,"max-width","200px"],[4,"ngIf","ngIfElse"],[1,"justify-content-end","d-flex","align-items-center"],["kind","until",3,"time","fastRender","fixedRender"],[1,"lg-inline"],[1,"symbol"],[1,"block-link",3,"routerLink"],[1,"confirmations"],[3,"chainTip","height",4,"ngIf"],[3,"chainTip","height"],[1,"bottom-panel"],[1,"progress-icon"],[1,"spinner-border","text-light",2,"width","1em","height","1em"],[1,"explainer"],[1,"status-panel","d-flex","flex-column","h-100","w-100","justify-content-center","align-items-center"],[4,"ngIf"],["class","w-100",3,"cashappEnabled","advancedEnabled","forceMobile","tx","accelerating","miningStats","eta","scrollEvent","unavailable",4,"ngIf"],[1,"w-100",3,"unavailable","cashappEnabled","advancedEnabled","forceMobile","tx","accelerating","miningStats","eta","scrollEvent"],[3,"icon","fixedWidth"],[3,"error"]]},template:function(n,s){1&n&&(e.j41(0,"div",17)(1,"div",18)(2,"div",19)(3,"div",20),e.DNE(4,$e,3,6,"a",21)(5,Ne,4,10)(6,ye,4,7,"a",22)(7,Fe,7,8,"div",23),e.k0s(),e.j41(8,"div",24)(9,"div",25),e.pXf(10,1),e.k0s(),e.j41(11,"div",26)(12,"app-truncate",27),e.nI1(13,"relativeUrl"),e.nrm(14,"app-clipboard",28),e.k0s()()()(),e.j41(15,"div",29),e.nrm(16,"app-clockchain",30),e.k0s(),e.DNE(17,tt,6,2,"div",31)(18,pt,3,1,"div",32)(19,ut,4,1,"div",32),e.j41(20,"div",33),e.nI1(21,"relativeUrl"),e.j41(22,"span"),e.qex(23),e.pXf(24,2),e.bVm(),e.EFF(25,"\xa0"),e.nrm(26,"fa-icon",34),e.k0s()()()()),2&n&&(e.R7$(4),e.vxM(4,null!=s.enterpriseInfo&&s.enterpriseInfo.header_img?4:null!=s.enterpriseInfo&&s.enterpriseInfo.img||null!=s.enterpriseInfo&&s.enterpriseInfo.imageMd5?5:-1),e.R7$(2),e.vxM(6,null!=s.enterpriseInfo&&s.enterpriseInfo.header_img?-1:6),e.R7$(),e.vxM(7,null!=s.enterpriseInfo&&s.enterpriseInfo.header_img||!(null!=s.enterpriseInfo&&s.enterpriseInfo.img||null!=s.enterpriseInfo&&s.enterpriseInfo.imageMd5)?7:-1),e.R7$(5),e.Y8G("text",s.txId)("lastChars",12)("link",e.l_i(21,L,e.bMT(13,17,"/tx/"),s.txId)),e.R7$(2),e.Y8G("text",s.txId),e.R7$(),e.Aen(e.eq3(24,Te,1.16*s.blockchainHeight+"px")),e.R7$(),e.Y8G("height",s.blockchainHeight)("width",s.blockchainWidth),e.R7$(),e.Y8G("ngIf",!s.error||s.waitingForTransaction),e.R7$(),e.Y8G("ngIf",!s.error||s.waitingForTransaction),e.R7$(),e.Y8G("ngIf",s.error&&!s.waitingForTransaction),e.R7$(),e.Y8G("routerLink",e.l_i(26,L,e.bMT(21,19,"/tx"),(null==s.tx?null:s.tx.txid)||s.txId))("queryParams",e.lJ4(29,ve)),e.R7$(6),e.Y8G("icon",e.lJ4(30,be)))},dependencies:[g.bT,g.ux,g.e1,g.fG,C.Wk,ce.Mf,le.aY,de.$,he.w,fe.m,_e.o,ge.k,pe.A,ue.n,Ce,g.Jj,g.vh,me.U],styles:[".mobile-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center}.mobile-container[_ngcontent-%COMP%]{width:100vw;height:100vh;height:100svh;max-width:600px;max-height:1000px;box-sizing:border-box;margin:0;display:flex;flex-direction:column;justify-content:start}.mobile-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0}.heading[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;align-items:flex-start}.heading[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1}.heading[_ngcontent-%COMP%]   .heading-label[_ngcontent-%COMP%]{text-align:center;margin:0 1em}.nav-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;width:100%;max-width:100%;padding:1em;position:relative;background:var(--nav-bg);box-shadow:0 -5px 15px #000;z-index:99;align-items:center;justify-content:space-between}.nav-header[_ngcontent-%COMP%]   .network-label[_ngcontent-%COMP%]{font-size:1.4em}.nav-header[_ngcontent-%COMP%]   .network-label[_ngcontent-%COMP%]   .network[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}.nav-header[_ngcontent-%COMP%]   .network-label.hide-name[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{display:none}.nav-header[_ngcontent-%COMP%]   .subdomain_logo[_ngcontent-%COMP%]{height:35px;overflow:clip;max-width:140px;margin:auto;align-self:center}.nav-header[_ngcontent-%COMP%]   .subdomain_logo[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:5px}.nav-header[_ngcontent-%COMP%]   .subdomain_container[_ngcontent-%COMP%]{max-width:140px;text-align:center;align-self:center}.nav-header[_ngcontent-%COMP%]   .vertical-line[_ngcontent-%COMP%]{border-left:1px solid #444;height:30px;margin-left:10px;margin-right:10px;margin-top:3px}.nav-header[_ngcontent-%COMP%]   .logo-holder[_ngcontent-%COMP%]{display:flex;flex-direction:row}.blockchain-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:flex-start;overflow:hidden;pointer-events:none}.panel[_ngcontent-%COMP%]{background:var(--bg)}.field[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:baseline;width:100%;max-width:100%;padding:1em}.field[_ngcontent-%COMP%]:nth-child(2n){background:var(--stat-box-bg)}.field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:1em}.field[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-shrink:1;flex-grow:1;width:0;white-space:nowrap;text-align:end}.field.narrower[_ngcontent-%COMP%]{padding-top:.75em!important;padding-bottom:.75em!important}.tracker-bar[_ngcontent-%COMP%]{padding:1em .5em 0}.accelerate[_ngcontent-%COMP%]{display:flex!important;align-self:auto;margin-left:1em;background-color:var(--tertiary)}.confirmations[_ngcontent-%COMP%]{margin-left:1em}.accelerateFullSize[_ngcontent-%COMP%]{width:100%;height:100%;padding:.5rem .25rem;background-color:#653b9c}.bottom-panel[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:center;justify-content:start}.bottom-panel[_ngcontent-%COMP%]   .explainer[_ngcontent-%COMP%]{margin:0 1em;text-align:center}.progress-icon[_ngcontent-%COMP%]{font-size:clamp(30px,20vw,150px)}.status-panel.small-status[_ngcontent-%COMP%]{min-height:180px}.status-panel.small-status[_ngcontent-%COMP%]   .progress-icon[_ngcontent-%COMP%]{font-size:clamp(20px,13vw,100px)}.footer-link[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;text-align:center;padding:.5em;background:var(--primary);color:#fff;cursor:pointer}.alert-replaced[_ngcontent-%COMP%]{background:var(--danger);margin:1em .5em;padding:.5em;border-radius:.5em}"],changeDetection:0})}return i})();var mt=o(5654);const Tt=[{path:":id",component:Ct,data:{ogImage:!0}}];let W=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[C.iI.forChild(Tt),C.iI]})}return i})(),vt=(()=>{class i{static#e=this.\u0275fac=function(n){return new(n||i)};static#t=this.\u0275mod=e.$C({type:i});static#i=this.\u0275inj=e.G2t({imports:[g.MD,W,mt.TransactionModule,E.G,O.GraphsModule,m.D]})}return i})()},8859:(z,N,o)=>{o.d(N,{T:()=>G});var g=o(5558),C=o(6354),E=o(4668),m=o(5312),O=o(4438),T=o(1626),f=o(2083);let G=(()=>{class P{constructor(v,x){this.httpClient=v,this.stateService=x,this.nativeAssetId="liquidtestnet"===this.stateService.network?m.c.nativeTestAssetId:m.c.nativeAssetId;let R="";this.stateService.isBrowser||(R=this.stateService.env.NGINX_PROTOCOL+"://"+this.stateService.env.NGINX_HOSTNAME+":"+this.stateService.env.NGINX_PORT),this.getAssetsJson$=this.stateService.networkChanged$.pipe((0,g.n)(()=>this.httpClient.get(`${R}/resources/assets${"liquidtestnet"===this.stateService.network?"-testnet":""}.json`)),(0,C.T)(S=>{const l=Object.values(S);return"liquid"===this.stateService.network?l.push({name:"Liquid Earthcoin",ticker:"L-EAC",asset_id:this.nativeAssetId}):"liquidtestnet"===this.stateService.network&&l.push({name:"Test Liquid Earthcoin",ticker:"tL-EAC",asset_id:this.nativeAssetId}),{objects:S,array:l.sort((d,a)=>d.name.localeCompare(a.name))}}),(0,E.t)(1)),this.getAssetsMinimalJson$=this.stateService.networkChanged$.pipe((0,g.n)(()=>this.httpClient.get(`${R}/resources/assets${"liquidtestnet"===this.stateService.network?"-testnet":""}.minimal.json`)),(0,C.T)(S=>("liquidtestnet"===this.stateService.network&&(S["144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49"]=[null,"tL-EAC","Test Liquid Earthcoin",8]),S)),(0,E.t)(1)),this.getWorldMapJson$=this.httpClient.get(R+"/resources/worldmap.json").pipe((0,E.t)())}static#e=this.\u0275fac=function(x){return new(x||P)(O.KVO(T.Qq),O.KVO(f.d))};static#t=this.\u0275prov=O.jDH({token:P,factory:P.\u0275fac,providedIn:"root"})}return P})()},866:(z,N,o)=>{o.d(N,{Br:()=>g,Ut:()=>x,Vz:()=>j,Ww:()=>C,bC:()=>R,iI:()=>m,sG:()=>S});const g="[a-km-zA-HJ-NP-Z1-9]",C="[ac-hj-np-z02-9]",E="[AC-HJ-NP-Z02-9]",m="[a-fA-F0-9]",O="(?:0|[1-9][0-9]{0,8})",T="[0-9]",f={mainnet:{base58:"[eE]"+g+"{26,33}",bech32:"(?:bc1"+C+"{6,100}|BC1"+E+"{6,100})"},testnet:{base58:"[mn2]"+g+"{33,34}",bech32:"(?:tb1"+C+"{6,100}|TB1"+E+"{6,100})"},testnet4:{base58:"[mn2]"+g+"{33,34}",bech32:"(?:tb1"+C+"{6,100}|TB1"+E+"{6,100})"},signet:{base58:"[mn2]"+g+"{33,34}",bech32:"(?:tb1"+C+"{6,100}|TB1"+E+"{6,100})"},liquid:{base58:"[GHPQ]"+g+"{33}|[V][TJ]"+g+"{78}",bech32:"(?:(?:ex1|lq1)"+C+"{6,100}|(?:EX1|LQ1)"+E+"{6,100})"},liquidtestnet:{base58:"[89]"+g+"{33}",bech32:"(?:(?:tex1|tlq1)"+C+"{6,100}|(?:TEX1|TLQ1)"+E+"{6,100})"}},P=["testnet","testnet4","signet","liquid","liquidtestnet","mainnet"].map(l=>[S("address",l),l]);function j(l,d,a){return P.filter(([c,X])=>X!==d&&c.test(l)).map(([,c])=>({network:c,address:l,isNetworkAvailable:v(c,a)}))}function v(l,d){switch(l){case"testnet":return!0===d.TESTNET_ENABLED;case"testnet4":return!0===d.TESTNET4_ENABLED;case"signet":return!0===d.SIGNET_ENABLED;case"liquid":return!0===d.LIQUID_ENABLED;case"liquidtestnet":return!0===d.LIQUID_TESTNET_ENABLED;case"mainnet":return!0;default:return!1}}function x(l,d){return!!d&&("mempool"===l?"mainnet"!==d&&"testnet"!==d&&"testnet4"!==d&&"signet"!==d:"liquid"===l?"liquid"!==d&&"liquidtestnet"!==d:void 0)}function R(l,d,a){let c="";return("liquid"===l||"liquidtestnet"===l)&&(c=a.LIQUID_WEBSITE_URL,c+="liquidtestnet"===l?"/testnet":"",c+="/address/",c+=d),("mainnet"===l||"testnet"===l||"testnet4"===l||"signet"===l)&&(c=a.MEMPOOL_WEBSITE_URL,c+="mainnet"===l?"":`/${l}`,c+="/address/",c+=d),c}function S(l,d){let a="^";switch(l){case"blockheight":a+=O;break;case"blockhash":if(!d)throw new Error("Must pass network when type is blockhash");let c;switch(d){case"mainnet":case"testnet":case"testnet4":case"liquid":case"liquidtestnet":c=8;break;case"signet":c=5;break;default:throw new Error(`Invalid Network ${d} (Unreachable error in TypeScript)`)}a+=`0{${c}}`,a+=`${m}{${64-c}}`;break;case"transaction":a+=`${m}{64}`,a+="(?:",a+=":",a+=O,a+=")?";break;case"address":if(!d)throw new Error("Must pass network when type is address");switch(a+="(?:",d){case"mainnet":a+=f.mainnet.base58,a+="|",a+=f.mainnet.bech32,a+="|",a+=`04${m}{128}`,a+="|",a+=`(?:02|03)${m}{64}`;break;case"testnet":case"testnet4":a+=f.testnet.base58,a+="|",a+=f.testnet.bech32,a+="|",a+=`04${m}{128}`,a+="|",a+=`(?:02|03)${m}{64}`;break;case"signet":a+=f.signet.base58,a+="|",a+=f.signet.bech32,a+="|",a+=`04${m}{128}`,a+="|",a+=`(?:02|03)${m}{64}`;break;case"liquid":a+=f.liquid.base58,a+="|",a+=f.liquid.bech32;break;case"liquidtestnet":a+=f.liquidtestnet.base58,a+="|",a+=f.liquidtestnet.bech32;break;default:throw new Error(`Invalid Network ${d} (Unreachable error in TypeScript)`)}a+=")";break;case"date":a+="(?:",a+=`${T}{4}`,a+="[-/]",a+=`${T}{1,2}`,a+="[-/]",a+=`${T}{1,2}`,a+="(?:",a+=" ",a+=`${T}{1,2}`,a+=":",a+=`${T}{1,2}`,a+="(?:",a+=":",a+=`${T}{1,2}`,a+=")?",a+=")?",a+=")";break;case"timestamp":a+=`${T}{10}`;break;default:throw new Error(`Invalid RegexType ${l} (Unreachable error in TypeScript)`)}return a+="$",new RegExp(a)}}}]);