"use strict";(self.webpackChunkmempool=self.webpackChunkmempool||[]).push([[687],{687:(I,u,_)=>{_.r(u),_.d(u,{asset_generator_from_bytes:()=>h,asset_value_commitment:()=>b,generate_commitments:()=>S,load:()=>L});const v=0,m=33,l=33,g=32,d=32,A="/resources/wallycore/wallycore.js";let f,o;function L(){return f||(f=new Promise((e,n)=>{const t=document.createElement("script");t.src=A,t.addEventListener("error",n),t.addEventListener("load",()=>InitWally().then(r=>{o=r,e()},n)),document.body.appendChild(t)}))}function S(e,n,t,r){const i=s(n,g),a=s(t,d),p=h(i,s(r,d)),T=b(e,a,p);return{asset_commitment:E(p),value_commitment:E(T)}}function h(e,n){const t=o._malloc(l);y(o.ccall("wally_asset_generator_from_bytes","number",["array","number","array","number","number","number"],[e,e.length,n,n.length,t,l]));const r=w(t,l);return o._free(t),r}function b(e,n,t){const[r,i]=function N(e){let n=0|e;n<0&&(n+=4294967296);let t=e-n;if(t/=4294967296,t<0||t>=1048576)throw new Error("not an int52: "+e);return[n,t]}(e),a=o._malloc(m);y(o.ccall("wally_asset_value_commitment","number",["number","number","array","number","array","number","number","number"],[r,i,n,n.length,t,t.length,a,m]));const c=w(a,m);return o._free(a),c}function y(e){if(e!=v)throw new Error(`libwally failed with code ${e}`)}function w(e,n){const t=new Uint8Array(n);for(let r=0;r<n;r++)t[r]=o.getValue(e+r,"i8");return t}function E(e){return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")}function s(e,n){if(!/^([0-9a-f]{2})+$/.test(e))throw new Error("Invalid blinders (invalid hex)");if(e.length!=2*n)throw new Error("Invalid blinders (invalid length)");return new Uint8Array(e.match(/.{2}/g).map(t=>parseInt(t,16)).reverse())}}}]);