"use strict";(self.webpackChunkmempool=self.webpackChunkmempool||[]).push([[368],{9977:(A,w,s)=>{s.d(w,{u:()=>O});var _=s(7786),P=s(7673),c=s(4438),C=s(2083),u=s(177);const v=["*"],S=m=>({val:m});function I(m,e){1&m&&(c.j41(0,"span"),c.EFF(1,"Liquid "),c.k0s())}function f(m,e){1&m&&(c.j41(0,"span"),c.EFF(1,"Liquid "),c.k0s())}function b(m,e){1&m&&(c.j41(0,"span"),c.EFF(1,"Earthcoin "),c.k0s())}function M(m,e){if(1&m&&(c.qex(0)(1,2),c.DNE(2,I,2,0,"span",3)(3,f,2,0,"span",3)(4,b,2,0,"span",4),c.bVm()()),2&m){const p=e.ngIf;c.R7$(),c.Y8G("ngSwitch",p.val),c.R7$(),c.Y8G("ngSwitchCase","liquid"),c.R7$(),c.Y8G("ngSwitchCase","liquidtestnet")}}let O=(()=>{class m{constructor(p){this.stateService=p}ngOnInit(){this.network$=(0,_.h)((0,P.of)(""),this.stateService.networkChanged$)}static#e=this.\u0275fac=function(l){return new(l||m)(c.rXU(C.d))};static#t=this.\u0275cmp=c.VBU({type:m,selectors:[["app-preview-title"]],ngContentSelectors:v,decls:4,vars:5,consts:[[1,"preview-header"],[4,"ngIf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"]],template:function(l,o){1&l&&(c.NAR(),c.j41(0,"h2",0),c.DNE(1,M,5,3,"ng-container",1),c.nI1(2,"async"),c.SdG(3),c.k0s()),2&l&&(c.R7$(),c.Y8G("ngIf",c.eq3(3,S,c.bMT(2,1,o.network$))))},dependencies:[u.bT,u.ux,u.e1,u.fG,u.Jj],encapsulation:2})}return m})()},2249:(A,w,s)=>{s.r(w),s.d(w,{PreviewsModule:()=>Ct});var _=s(177),P=s(9267),c=s(8185),C=s(682),u=s(5558),v=s(9437),S=s(5964),I=s(1413),f=s(7673),b=s(7786),M=s(6648),O=s(9862),m=s(9813),e=s(4438),p=s(4163),l=s(2083),o=s(8020),g=s(3366),R=s(2251),$=s(1954),j=s(9561),G=s(4799),D=s(9137),X=s(715),k=s(9977),U=s(8261),z=s(7429),V=s(4536),B=s(1892);function W(n,r){1&n&&(e.j41(0,"span",33),e.EFF(1," CPFP "),e.k0s())}function Y(n,r){if(1&n&&(e.j41(0,"div",30),e.nrm(1,"app-tx-features",31),e.DNE(2,W,2,0,"span",32),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("tx",t.tx),e.R7$(),e.Y8G("ngIf",t.cpfpInfo&&((null==t.cpfpInfo?null:t.cpfpInfo.bestDescendant)||(null==t.cpfpInfo||null==t.cpfpInfo.descendants?null:t.cpfpInfo.descendants.length)||(null==t.cpfpInfo||null==t.cpfpInfo.ancestors?null:t.cpfpInfo.ancestors.length)))}}function H(n,r){1&n&&e.pXf(0,4)}function K(n,r){if(1&n&&e.nrm(0,"app-amount",34),2&n){const t=e.XpG(2);e.Y8G("satoshis",t.totalValue)}}function q(n,r){if(1&n&&(e.qex(0),e.EFF(1),e.nI1(2,"date"),e.bVm()),2&n){const t=e.XpG(2);e.R7$(),e.SpI("\u200e",e.i5U(2,1,1e3*t.transactionTime,"yyyy-MM-dd HH:mm"),"")}}function J(n,r){if(1&n&&(e.j41(0,"p",35),e.nrm(1,"app-fee-rate",36),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("fee",t.tx.feePerVsize)}}function Q(n,r){if(1&n&&(e.j41(0,"div",37)(1,"div",38)(2,"span",19),e.pXf(3,5),e.k0s(),e.j41(4,"span",39),e.EFF(5),e.nI1(6,"hex2ascii"),e.k0s()()()),2&n){const t=e.XpG(2);e.R7$(5),e.JRh(e.bMT(6,1,t.tx.vin[0].scriptsig))}}function Z(n,r){if(1&n&&(e.j41(0,"span",39),e.EFF(1),e.nI1(2,"hex2ascii"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.JRh(e.bMT(2,1,t.scriptpubkey_asm))}}function ee(n,r){if(1&n&&(e.qex(0),e.j41(1,"div",38)(2,"span",19),e.EFF(3,"OP_RETURN"),e.k0s(),e.DNE(4,Z,3,3,"span",41),e.k0s(),e.bVm()),2&n){const t=r.$implicit;e.R7$(4),e.Y8G("ngIf","OP_RETURN"!==t.scriptpubkey_asm)}}function te(n,r){if(1&n&&(e.j41(0,"div",37),e.DNE(1,ee,5,1,"ng-container",40),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.opReturns.slice(0,3))}}function ne(n,r){if(1&n&&(e.j41(0,"div",7)(1,"app-preview-title")(2,"span"),e.pXf(3,1),e.k0s()(),e.j41(4,"div",8)(5,"div",9)(6,"h1",10),e.nrm(7,"app-truncate",11),e.k0s()(),e.DNE(8,Y,3,2,"div",12),e.k0s(),e.j41(9,"div",13)(10,"span",14),e.DNE(11,H,1,0,"ng-template",15)(12,K,1,1,"ng-template",null,0,e.C5r),e.k0s(),e.j41(14,"span",16),e.DNE(15,q,3,4,"ng-container",17),e.k0s(),e.j41(16,"span",18)(17,"span",19),e.pXf(18,2),e.k0s(),e.EFF(19),e.nI1(20,"number"),e.j41(21,"span",20),e.pXf(22,3),e.k0s()()(),e.j41(23,"div",21),e.nrm(24,"tx-bowtie-graph",22),e.j41(25,"div",23)(26,"p",24),e.nrm(27,"span",25),e.nI1(28,"bytes"),e.nrm(29,"span",25),e.nI1(30,"wuBytes"),e.k0s(),e.DNE(31,J,2,1,"p",26),e.k0s(),e.j41(32,"div",27),e.qex(33,28),e.DNE(34,Q,7,3,"div",29)(35,te,2,1,"div",29),e.bVm(),e.k0s()()()),2&n){const t=e.sdS(13),i=e.XpG();e.R7$(7),e.Y8G("text",i.txId),e.R7$(),e.Y8G("ngIf","liquid"!==i.network&&"liquidtestnet"!==i.network),e.R7$(3),e.Y8G("ngIf",i.isLiquid&&i.haveBlindedOutputValues(i.tx))("ngIfElse",t),e.R7$(4),e.Y8G("ngIf",i.transactionTime>0),e.R7$(4),e.SpI(" ",e.bMT(20,16,i.tx.fee)," "),e.R7$(5),e.Y8G("tx",i.tx)("width",1132)("height",346)("network",i.network),e.R7$(3),e.Y8G("innerHTML","\u200e"+e.i5U(28,18,i.tx.size,2),e.npT),e.R7$(2),e.Y8G("innerHTML","\u200e"+e.i5U(30,21,i.tx.weight,2),e.npT),e.R7$(2),e.Y8G("ngIf",!i.isCoinbase(i.tx)),e.R7$(2),e.Y8G("ngSwitch",i.extraData),e.R7$(),e.Y8G("ngSwitchCase","coinbase"),e.R7$(),e.Y8G("ngSwitchCase","opreturn")}}let ie=(()=>{class n{constructor(t,i,a,d,h,E,T){this.route=t,this.electrsApiService=i,this.stateService=a,this.cacheService=d,this.apiService=h,this.seoService=E,this.openGraphService=T,this.network="",this.isLoadingTx=!0,this.error=void 0,this.errorUnblinded=void 0,this.transactionTime=-1,this.showCpfpDetails=!1,this.fetchCpfp$=new I.B,this.liquidUnblinding=new m.D,this.isLiquid=!1}ngOnInit(){this.stateService.networkChanged$.subscribe(t=>{this.network=t,("liquid"===this.network||"liquidtestnet"==this.network)&&(this.isLiquid=!0)}),this.fetchCpfpSubscription=this.fetchCpfp$.pipe((0,u.n)(t=>this.apiService.getCpfpinfo$(t).pipe((0,v.W)(i=>(0,f.of)(null))))).subscribe(t=>{this.cpfpInfo=t,this.openGraphService.waitOver("cpfp-data-"+this.txId)}),this.subscription=this.route.paramMap.pipe((0,u.n)(t=>{const i=(t.get("id")||"").split(":");this.txId=i[0],this.openGraphService.waitFor("tx-data-"+this.txId),this.openGraphService.waitFor("tx-time-"+this.txId),this.seoService.setTitle("Transakce: " + this.txId + "");const a="liquid"===this.stateService.network||"liquidtestnet"===this.stateService.network?"Liquid":"Earthcoin",d=(0,O.Sr)(this.stateService.network);return this.seoService.setDescription("Z\xEDskejte v re\xE1ln\xE9m \u010Dase stav, adresy, poplatky, informace o skriptu a dal\u0161\xED informace o " + a + "" + d + " transakci s txid" + this.txId + "."),this.resetTransaction(),(0,b.h)((0,f.of)(!0),this.stateService.connectionState$.pipe((0,S.p)(h=>2===h&&this.tx&&!this.tx.status.confirmed)))}),(0,u.n)(()=>{let t;const i=this.cacheService.getTxFromCache(this.txId);return t=i&&-1!==i.fee?(0,f.of)(i):this.electrsApiService.getTransaction$(this.txId).pipe((0,v.W)(a=>(this.error=a,this.isLoadingTx=!1,(0,f.of)(null)))),(0,b.h)(t,this.stateService.mempoolTransactions$)}),(0,u.n)(t=>"liquid"===this.network||"liquidtestnet"===this.network?(0,M.H)(this.liquidUnblinding.checkUnblindedTx(t)).pipe((0,v.W)(i=>(this.errorUnblinded=i,(0,f.of)(t)))):(0,f.of)(t))).subscribe(t=>{if(!t)return this.seoService.logSoft404(),void this.openGraphService.fail("tx-data-"+this.txId);this.tx=t,void 0===t.fee&&(this.tx.fee=0),this.tx.feePerVsize=t.fee/(t.weight/4),this.isLoadingTx=!1,this.error=void 0,this.totalValue=this.tx.vout.reduce((i,a)=>a.value+i,0),this.opReturns=this.getOpReturns(this.tx),this.extraData=this.chooseExtraData(),t.status.confirmed?(this.transactionTime=t.status.block_time,this.openGraphService.waitOver("tx-time-"+this.txId)):!t.status.confirmed&&t.firstSeen?(this.transactionTime=t.firstSeen,this.openGraphService.waitOver("tx-time-"+this.txId)):this.getTransactionTime(),this.tx.status.confirmed?(this.stateService.markBlock$.next({blockHeight:t.status.block_height}),this.openGraphService.waitFor("cpfp-data-"+this.txId),this.fetchCpfp$.next(this.tx.txid)):t.cpfpChecked?(this.stateService.markBlock$.next({txFeePerVSize:t.effectiveFeePerVsize}),this.cpfpInfo={ancestors:t.ancestors,bestDescendant:t.bestDescendant}):(this.openGraphService.waitFor("cpfp-data-"+this.txId),this.fetchCpfp$.next(this.tx.txid)),this.openGraphService.waitOver("tx-data-"+this.txId)},t=>{this.seoService.logSoft404(),this.openGraphService.fail("tx-data-"+this.txId),this.error=t,this.isLoadingTx=!1})}getTransactionTime(){this.apiService.getTransactionTimes$([this.tx.txid]).pipe((0,v.W)(t=>(0,f.of)(0))).subscribe(t=>{this.transactionTime=t[0],this.openGraphService.waitOver("tx-time-"+this.txId)})}resetTransaction(){this.error=void 0,this.tx=null,this.isLoadingTx=!0,this.transactionTime=-1,this.cpfpInfo=null,this.showCpfpDetails=!1}isCoinbase(t){return t.vin.some(i=>!0===i.is_coinbase)}haveBlindedOutputValues(t){return t.vout.some(i=>void 0===i.value)}getTotalTxOutput(t){return t.vout.map(i=>i.value||0).reduce((i,a)=>i+a)}getOpReturns(t){return t.vout.filter(i=>"op_return"===i.scriptpubkey_type&&"OP_RETURN"!==i.scriptpubkey_asm)}chooseExtraData(){return this.isCoinbase(this.tx)?"coinbase":this.opReturns?.length?"opreturn":"none"}ngOnDestroy(){this.subscription.unsubscribe(),this.fetchCpfpSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.nX),e.rXU(p.o),e.rXU(l.d),e.rXU(o._),e.rXU(g.G),e.rXU(R.B),e.rXU($.m))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-transaction-preview"]],decls:1,vars:1,consts:()=>{let t,i,a,d,h;return t="Transakce",i="Poplatek",a="sats",d="D\u016Fv\u011Brn\xE9",h="Coinbase",[["defaultAmount",""],t,i,a,d,h,["class","box preview-box",4,"ngIf"],[1,"box","preview-box"],[1,"row","d-flex","justify-content-between","full-width-row"],[1,"title-wrapper"],[1,"title","truncated"],[3,"text"],["class","features",4,"ngIf"],[1,"top-data","row"],[1,"field","col-sm-4","text-left"],[3,"ngIf","ngIfElse"],[1,"field","col-sm-4","text-center"],[4,"ngIf"],[1,"field","col-sm-4","text-right"],[1,"label"],[1,"symbol"],[1,"row","graph-wrapper"],[3,"tx","width","height","network"],[1,"above-bow"],[1,"field","pair"],[3,"innerHTML"],["class","field",4,"ngIf"],[1,"overlaid"],[3,"ngSwitch"],["class","opreturns",4,"ngSwitchCase"],[1,"features"],[3,"tx"],["class","badge badge-primary ml-1 mr-1",4,"ngIf"],[1,"badge","badge-primary","ml-1","mr-1"],[3,"satoshis"],[1,"field"],[3,"fee"],[1,"opreturns"],[1,"opreturn-row"],[1,"message"],[4,"ngFor","ngForOf"],["class","message",4,"ngIf"]]},template:function(i,a){1&i&&e.DNE(0,ne,36,24,"div",6),2&i&&e.Y8G("ngIf",a.tx&&!a.error)},dependencies:[_.Sq,_.bT,_.ux,_.e1,j.H,G.Y,D.Q,X.o,k.u,U.O,_.QX,_.vh,z.L,V.c,B.g],styles:[".adjust-btn-padding[_ngcontent-%COMP%]{padding:.55rem}.td-width[_ngcontent-%COMP%]{width:150px}  .badge{font-size:28px}.row[_ngcontent-%COMP%]{flex-direction:row}.title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{line-height:1;margin:0;padding-bottom:10px}.btn-outline-info[_ngcontent-%COMP%]{margin-top:0}.features[_ngcontent-%COMP%]{font-size:24px;margin-left:1em;margin-top:.5em;margin-right:-4px}.top-data[_ngcontent-%COMP%]{font-size:28px}.table[_ngcontent-%COMP%]{font-size:32px}.table[_ngcontent-%COMP%]     .symbol{font-size:24px}.field[_ngcontent-%COMP%]{font-size:32px;margin:0}.field[_ngcontent-%COMP%]     .symbol{font-size:24px}.field[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:var(--transparent-fg)}.field.pair[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:first-child{margin-right:1em}.top-data[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:first-child{padding-left:0}.top-data[_ngcontent-%COMP%]   .field[_ngcontent-%COMP%]:last-child{padding-right:0}.tx-link[_ngcontent-%COMP%]{display:inline;font-size:28px;margin-bottom:6px}.graph-wrapper[_ngcontent-%COMP%]{position:relative;background:var(--stat-box-bg);padding:10px 0 0}.graph-wrapper[_ngcontent-%COMP%]   .above-bow[_ngcontent-%COMP%]{position:absolute;top:20px;left:0;right:0;margin:auto;text-align:center}.graph-wrapper[_ngcontent-%COMP%]   .overlaid[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;width:100%;text-align:left;font-size:28px;max-width:90%;margin:auto;overflow:hidden;display:flex;flex-direction:row;justify-content:center}.graph-wrapper[_ngcontent-%COMP%]   .overlaid[_ngcontent-%COMP%]   .opreturns[_ngcontent-%COMP%]{display:inline-block;width:auto;max-width:100%;margin:auto;table-layout:auto;background:var(--secondary) af;border-top-left-radius:5px;border-top-right-radius:5px}.graph-wrapper[_ngcontent-%COMP%]   .overlaid[_ngcontent-%COMP%]   .opreturns[_ngcontent-%COMP%]   .opreturn-row[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;justify-content:flex-start;padding:0 10px}.graph-wrapper[_ngcontent-%COMP%]   .overlaid[_ngcontent-%COMP%]   .opreturns[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-right:1em}.graph-wrapper[_ngcontent-%COMP%]   .overlaid[_ngcontent-%COMP%]   .opreturns[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{flex-shrink:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})}return n})();var y=s(8141),se=s(3386),oe=s(4668),ae=s(9172),re=s(9974),ce=s(4360),de=s(8839),pe=s(7468),_e=s(8031),he=s(1311),F=s(6631);const ge=["blockGraph"],fe=(n,r)=>[n,r];function ue(n,r){1&n&&(e.qex(0),e.pXf(1,5),e.bVm())}function me(n,r){if(1&n&&e.EFF(0),2&n){const t=e.XpG(2);e.JRh(t.blockHeight)}}function ve(n,r){if(1&n&&(e.j41(0,"div",22)(1,"h2",23),e.EFF(2),e.k0s(),e.j41(3,"h2",24),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(2),e.JRh(t.blockHash.slice(0,32)),e.R7$(2),e.JRh(t.blockHash.slice(32))}}function Se(n,r){if(1&n&&(e.j41(0,"tr")(1,"td",25),e.pXf(2,6),e.k0s(),e.j41(3,"td"),e.EFF(4,"~"),e.nrm(5,"app-fee-rate",26),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(5),e.Y8G("fee",null==t.block||null==t.block.extras?null:t.block.extras.medianFee)}}function Ce(n,r){if(1&n&&(e.j41(0,"td"),e.nrm(1,"app-amount",28),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("satoshis",null==t.block?null:t.block.extras.totalFees)("noFiat",!0)}}function Ee(n,r){if(1&n&&(e.j41(0,"td"),e.nrm(1,"app-amount",29),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("satoshis",1e8*t.fees)("noFiat",!0)}}function Pe(n,r){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,7),e.k0s(),e.DNE(3,Ce,2,2,"td",27)(4,Ee,2,2,"ng-template",null,1,e.C5r),e.k0s()),2&n){const t=e.sdS(5),i=e.XpG(2);e.R7$(3),e.Y8G("ngIf","liquid"!==i.network&&"liquidtestnet"!==i.network)("ngIfElse",t)}}function Oe(n,r){if(1&n&&e.EFF(0),2&n){const t=e.XpG(5);e.SpI(" ",t.block.extras.pool.minerNames[1].slice(0,15),"\u2026 ")}}function Te(n,r){if(1&n&&e.EFF(0),2&n){const t=e.XpG(5);e.SpI(" ",t.block.extras.pool.minerNames[1]," ")}}function xe(n,r){if(1&n&&(e.j41(0,"span",33),e.DNE(1,Oe,1,1)(2,Te,1,1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.vxM(1,t.block.extras.pool.minerNames[1].length>16?1:2)}}function we(n,r){if(1&n&&(e.j41(0,"td")(1,"a",30),e.nI1(2,"relativeUrl"),e.DNE(3,xe,3,1,"span",31),e.nrm(4,"img",32),e.EFF(5),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("routerLink",e.l_i(7,fe,e.bMT(2,5,"/mining/pool"),t.block.extras.pool.slug)),e.R7$(2),e.Y8G("ngIf",(null==t.block.extras.pool.minerNames?null:t.block.extras.pool.minerNames.length)>1&&""!=t.block.extras.pool.minerNames[1]),e.R7$(),e.Y8G("src","/resources/mining-pools/"+t.block.extras.pool.slug+".svg",e.B4B)("alt","Logo of "+t.block.extras.pool.name+" mining pool"),e.R7$(),e.SpI(" ",t.block.extras.pool.name," ")}}function Me(n,r){if(1&n&&e.EFF(0),2&n){const t=e.XpG(5);e.SpI(" ",t.block.extras.pool.minerNames[1].slice(0,15),"\u2026 ")}}function be(n,r){if(1&n&&e.EFF(0),2&n){const t=e.XpG(5);e.SpI(" ",t.block.extras.pool.minerNames[1]," ")}}function Ne(n,r){if(1&n&&(e.j41(0,"span",33),e.DNE(1,Me,1,1)(2,be,1,1),e.k0s()),2&n){const t=e.XpG(4);e.R7$(),e.vxM(1,t.block.extras.pool.minerNames[1].length>16?1:2)}}function Ie(n,r){if(1&n&&(e.j41(0,"td")(1,"span",34),e.DNE(2,Ne,3,1,"span",31),e.EFF(3),e.k0s()()),2&n){const t=e.XpG(3);e.R7$(),e.HbH(null!=t.block&&t.block.extras.pool.name&&"unknown"!==(null==t.block?null:t.block.extras.pool.slug)?"badge-primary":"badge-secondary"),e.BMQ("data-cy","block-details-miner-badge"),e.R7$(),e.Y8G("ngIf",(null==t.block.extras.pool.minerNames?null:t.block.extras.pool.minerNames.length)>1&&""!=t.block.extras.pool.minerNames[1]),e.R7$(),e.SpI(" ",t.block.extras.pool.name," ")}}function Re(n,r){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,8),e.k0s(),e.DNE(3,we,6,10,"td",19)(4,Ie,4,5,"td",19),e.k0s()),2&n){const t=e.XpG(2);e.R7$(3),e.Y8G("ngIf",t.stateService.env.MINING_DASHBOARD),e.R7$(),e.Y8G("ngIf",!t.stateService.env.MINING_DASHBOARD&&"mempool"===t.stateService.env.BASE_MODULE)}}function $e(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",10)(1,"app-preview-title")(2,"span"),e.pXf(3,2),e.k0s()(),e.j41(4,"div",11)(5,"div",12)(6,"div",11)(7,"div",13)(8,"h1",14),e.DNE(9,ue,2,0,"ng-template",15)(10,me,1,1,"ng-template",15),e.k0s(),e.DNE(11,ve,5,2,"div",16),e.k0s()(),e.j41(12,"table",17)(13,"tbody")(14,"tr")(15,"td"),e.pXf(16,3),e.k0s(),e.j41(17,"td"),e.EFF(18),e.nI1(19,"date"),e.k0s()(),e.j41(20,"tr")(21,"td"),e.pXf(22,4),e.k0s(),e.nrm(23,"td",18),e.nI1(24,"wuBytes"),e.k0s(),e.DNE(25,Se,6,1,"tr",19)(26,Pe,6,2,"ng-template",15)(27,Re,5,2,"tr",19),e.k0s()()(),e.j41(28,"div",20)(29,"app-block-overview-graph",21,0),e.bIt("readyEvent",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onGraphReady())}),e.k0s()()()()}if(2&n){const t=e.XpG();e.R7$(9),e.Y8G("ngIf",0===t.blockHeight),e.R7$(),e.Y8G("ngIf",t.blockHeight),e.R7$(),e.Y8G("ngIf",t.blockHash),e.R7$(7),e.SpI(" ",e.i5U(19,15,1e3*(null==t.block?null:t.block.timestamp),"yyyy-MM-dd HH:mm")," "),e.R7$(5),e.Y8G("innerHTML","\u200e"+e.i5U(24,18,null==t.block?null:t.block.weight,2),e.npT),e.R7$(2),e.Y8G("ngIf",null!=(null==t.block||null==t.block.extras?null:t.block.extras.medianFee)),e.R7$(),e.Y8G("ngIf",void 0!==t.fees),e.R7$(),e.Y8G("ngIf","liquid"!==t.network&&"liquidtestnet"!==t.network),e.R7$(2),e.Y8G("autofit",!0)("isLoading",!1)("resolution",86)("blockLimit",t.stateService.blockVSize)("orientation","top")("flip",!1)("disableSpinner",!0)}}let ke=(()=>{class n{constructor(t,i,a,d,h,E,T){this.route=t,this.electrsApiService=i,this.stateService=a,this.seoService=d,this.openGraphService=h,this.apiService=E,this.servicesApiService=T,this.network="",this.isLoadingBlock=!0,this.isLoadingOverview=!0,this.overviewError=null}ngOnInit(){this.network=this.stateService.network;const t=this.route.paramMap.pipe((0,u.n)(i=>{this.rawId=i.get("id")||"",this.openGraphService.waitFor("block-viz-"+this.rawId),this.openGraphService.waitFor("block-data-"+this.rawId);const a=i.get("id")||"";this.block=void 0,this.error=void 0,this.overviewError=void 0,this.fees=void 0;let d=!1;return/^[0-9]+$/.test(a)?d=!0:this.blockHash=a,this.isLoadingBlock=!0,this.isLoadingOverview=!0,d?this.electrsApiService.getBlockHashFromHeight$(parseInt(a,10)).pipe((0,u.n)(h=>h?(this.blockHash=h,this.apiService.getBlock$(h)):null),(0,v.W)(h=>(this.error=h,this.seoService.logSoft404(),this.openGraphService.fail("block-data-"+this.rawId),this.openGraphService.fail("block-viz-"+this.rawId),(0,f.of)(null)))):this.apiService.getBlock$(a)}),(0,S.p)(i=>null!=i),(0,y.M)(i=>{this.block=i,this.blockHeight=i.height,this.seoService.setTitle("Blok " + i.height + ": " + i.id + ""),this.seoService.setDescription("liquid"===this.stateService.network||"liquidtestnet"===this.stateService.network?"Pod\xEDvejte se na velikost, v\xE1hu, rozsah poplatk\u016F, zahrnut\xE9 transakce a v\xEDce pro Liquid" + (0, O.Sr)(this.stateService.network) + " blok " + i.height + "(" + i.id + ").":"Pod\xEDvejte se na velikost, v\xE1hu, rozsah poplatk\u016F, zahrnut\xE9 transakce, audit (o\u010Dek\xE1van\xFD proti skute\u010Dn\xE9mu) a dal\u0161\xED pro Bitcoin" + (0, O.Sr)(this.stateService.network) + " blok" + i.height + " (" + i.id + ")."),this.isLoadingBlock=!1,this.setBlockSubsidy(),void 0!==i?.extras?.reward&&(this.fees=i.extras.reward/1e8-this.blockSubsidy),this.stateService.markBlock$.next({blockHeight:this.blockHeight}),this.isLoadingOverview=!0,this.overviewError=null,this.openGraphService.waitOver("block-data-"+this.rawId)}),(0,se.c)(50,de.E,{leading:!0,trailing:!0}),(0,oe.t)(1));this.overviewSubscription=t.pipe((0,ae.Z)(null),function le(){return(0,re.N)((n,r)=>{let t,i=!1;n.subscribe((0,ce._)(r,a=>{const d=t;t=a,i&&r.next([d,a]),i=!0}))})}(),(0,u.n)(([i,a])=>(0,pe.p)([this.apiService.getStrippedBlockTransactions$(a.id).pipe((0,v.W)(d=>(this.overviewError=d,this.openGraphService.fail("block-viz-"+this.rawId),(0,f.of)([]))),(0,u.n)(d=>(0,f.of)(d))),!0===this.stateService.env.ACCELERATOR&&a.height>819500?this.servicesApiService.getAllAccelerationHistory$({blockHeight:a.height}).pipe((0,v.W)(()=>(0,f.of)([]))):(0,f.of)([])]))).subscribe(([i,a])=>{this.strippedTransactions=i;const d={};for(const h of a)d[h.txid]=h;for(const h of i)d[h.txid]&&(h.acc=!0);this.isLoadingOverview=!1,this.blockGraph&&(this.blockGraph.destroy(),this.blockGraph.setup(this.strippedTransactions))},i=>{this.error=i,this.isLoadingOverview=!1,this.seoService.logSoft404(),this.openGraphService.fail("block-viz-"+this.rawId),this.openGraphService.fail("block-data-"+this.rawId),this.blockGraph&&this.blockGraph.destroy()}),this.networkChangedSubscription=this.stateService.networkChanged$.subscribe(i=>this.network=i)}ngOnDestroy(){this.overviewSubscription&&this.overviewSubscription.unsubscribe(),this.networkChangedSubscription&&this.networkChangedSubscription.unsubscribe()}setBlockSubsidy(){this.blockSubsidy=0}onGraphReady(){this.openGraphService.waitOver("block-viz-"+this.rawId)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.nX),e.rXU(p.o),e.rXU(l.d),e.rXU(R.B),e.rXU($.m),e.rXU(g.G),e.rXU(_e.z))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-block-preview"]],viewQuery:function(i,a){if(1&i&&e.GBs(ge,5),2&i){let d;e.mGM(d=e.lsd())&&(a.blockGraph=d.first)}},decls:1,vars:1,consts:()=>{let t,i,a,d,h,E,T;return t="Blok",i="\u010Casov\xE9 raz\xEDtko",a="V\xE1ha",d="Genesis",h="St\u0159edn\xED poplatek",E="Celkov\xE9 poplatky",T="T\u011B\u017Ea\u0159",[["blockGraph",""],["liquidTotalFees",""],t,i,a,d,h,E,T,["class","box preview-box",4,"ngIf"],[1,"box","preview-box"],[1,"row"],[1,"col-sm","table-col"],[1,"block-titles"],[1,"title"],[3,"ngIf"],["class","blockhash",4,"ngIf"],[1,"table","table-borderless","table-striped"],[3,"innerHTML"],[4,"ngIf"],[1,"col-sm","chart-container"],[3,"readyEvent","autofit","isLoading","resolution","blockLimit","orientation","flip","disableSpinner"],[1,"blockhash"],[1,"truncate","right"],[1,"truncate","left"],[1,"td-width"],["rounding","1.0-0",3,"fee"],[4,"ngIf","ngIfElse"],["digitsInfo","1.2-3",3,"satoshis","noFiat"],["digitsInfo","1.2-2",3,"satoshis","noFiat"],["placement","bottom",1,"badge",2,"color","#FFF","padding","0",3,"routerLink"],["class","miner-name",4,"ngIf"],["onError","this.src = '/resources/mining-pools/default.svg'",1,"pool-logo",3,"src","alt"],[1,"miner-name"],["placement","bottom",1,"badge"]]},template:function(i,a){1&i&&e.DNE(0,$e,31,21,"div",9),2&i&&e.Y8G("ngIf",!a.error)},dependencies:[_.bT,c.Wk,G.Y,he.a,D.Q,k.u,_.vh,F.U,B.g],styles:[".table[_ngcontent-%COMP%]{font-size:32px;margin-top:36px}.block-titles[_ngcontent-%COMP%]{margin:0;padding-left:15px;padding-right:15px;display:flex;flex-direction:row;flex-wrap:nowrap;align-items:center;justify-content:space-between;width:100%;flex-grow:1}.block-titles[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0;margin-right:30px;font-size:64px}.block-titles[_ngcontent-%COMP%]   .blockhash[_ngcontent-%COMP%]{width:0;flex-grow:1;flex-shrink:1;font-family:Consolas,Liberation Mono,Courier New,monospace;font-size:32px;text-align:right}.block-titles[_ngcontent-%COMP%]   .blockhash[_ngcontent-%COMP%]   .truncate[_ngcontent-%COMP%]{max-width:100%;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin:0}.block-titles[_ngcontent-%COMP%]   .blockhash[_ngcontent-%COMP%]   .truncate.left[_ngcontent-%COMP%]{direction:rtl}.table-col[_ngcontent-%COMP%]{max-width:calc(100% - 470px);overflow:hidden}.chart-container[_ngcontent-%COMP%]{flex-grow:0;flex-shrink:0;width:480px;min-width:480px;padding:0;margin-right:15px}  .symbol{font-size:24px}.badge[_ngcontent-%COMP%]{transition:none}.pool-logo[_ngcontent-%COMP%]{width:25px;height:25px;position:relative;top:-1px;margin-right:2px}"]})}return n})();var L=s(6354),Ae=s(9279);const Ge=(n,r)=>[n,r];function Le(n,r){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,5),e.k0s(),e.j41(3,"td"),e.nrm(4,"app-truncate",25),e.nI1(5,"relativeUrl"),e.k0s()()),2&n){const t=e.XpG(2);e.R7$(4),e.Y8G("text",t.addressInfo.unconfidential)("lastChars",7)("link",e.l_i(5,Ge,e.bMT(5,3,"/address/"),t.addressInfo.unconfidential))}}function De(n,r){if(1&n&&(e.j41(0,"td"),e.nrm(1,"app-amount",26),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("satoshis",t.received)("noFiat",!0)}}function Xe(n,r){if(1&n&&(e.j41(0,"td"),e.nrm(1,"app-amount",26),e.k0s()),2&n){const t=e.XpG(3);e.R7$(),e.Y8G("satoshis",t.sent)("noFiat",!0)}}function Be(n,r){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,6),e.k0s(),e.DNE(3,De,2,2,"td",20),e.k0s(),e.j41(4,"tr")(5,"td"),e.pXf(6,7),e.k0s(),e.DNE(7,Xe,2,2,"td",20),e.k0s()),2&n){const t=e.XpG(2),i=e.sdS(2);e.R7$(3),e.Y8G("ngIf",void 0!==t.address.chain_stats.funded_txo_sum)("ngIfElse",i),e.R7$(4),e.Y8G("ngIf",void 0!==t.address.chain_stats.spent_txo_sum)("ngIfElse",i)}}function ye(n,r){if(1&n&&(e.j41(0,"td"),e.nrm(1,"app-amount",26),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("satoshis",t.received-t.sent)("noFiat",!0)}}function Fe(n,r){if(1&n&&(e.j41(0,"div",10)(1,"app-preview-title")(2,"span"),e.pXf(3,1),e.k0s()(),e.j41(4,"div",11)(5,"div",12)(6,"div",13)(7,"div",14)(8,"h1",15),e.nrm(9,"app-truncate",16),e.k0s()()(),e.j41(10,"table",17)(11,"tbody"),e.DNE(12,Le,6,8,"tr",18)(13,Be,8,4,"ng-template",19),e.j41(14,"tr")(15,"td"),e.pXf(16,2),e.k0s(),e.DNE(17,ye,2,2,"td",20),e.k0s(),e.j41(18,"tr")(19,"td"),e.pXf(20,3),e.k0s(),e.j41(21,"td"),e.EFF(22),e.nI1(23,"number"),e.k0s()(),e.j41(24,"tr")(25,"td"),e.pXf(26,4),e.k0s(),e.j41(27,"td"),e.EFF(28),e.nI1(29,"number"),e.k0s()()()()(),e.nrm(30,"div",21),e.j41(31,"div",22)(32,"div",23),e.nrm(33,"app-qrcode",24),e.k0s()()()()),2&n){const t=e.XpG(),i=e.sdS(2);e.R7$(9),e.Y8G("text",t.addressString),e.R7$(3),e.Y8G("ngIf",t.addressInfo&&t.addressInfo.unconfidential),e.R7$(),e.Y8G("ngIf",!t.address.electrum),e.R7$(4),e.Y8G("ngIf",void 0!==t.address.chain_stats.funded_txo_sum)("ngIfElse",i),e.R7$(5),e.JRh(e.bMT(23,9,t.txCount)),e.R7$(6),e.JRh(e.bMT(29,11,t.totalUnspent)),e.R7$(5),e.Y8G("data",t.address.address)("size",448)}}function je(n,r){1&n&&(e.j41(0,"td"),e.pXf(1,8),e.k0s())}let Ue=(()=>{class n{constructor(t,i,a,d,h,E){this.route=t,this.electrsApiService=i,this.stateService=a,this.apiService=d,this.seoService=h,this.openGraphService=E,this.network="",this.isLoadingAddress=!0,this.addressInfo=null,this.totalConfirmedTxCount=0,this.loadedConfirmedTxCount=0,this.txCount=0,this.received=0,this.sent=0,this.totalUnspent=0}ngOnInit(){this.stateService.networkChanged$.subscribe(t=>this.network=t),this.addressLoadingStatus$=this.route.paramMap.pipe((0,u.n)(()=>this.stateService.loadingIndicators$),(0,L.T)(t=>void 0!==t["address-"+this.addressString]?t["address-"+this.addressString]:0)),this.mainSubscription=this.route.paramMap.pipe((0,u.n)(t=>(this.rawAddress=t.get("id")||"",this.openGraphService.waitFor("address-data-"+this.rawAddress),this.error=void 0,this.isLoadingAddress=!0,this.loadedConfirmedTxCount=0,this.address=null,this.addressInfo=null,this.addressString=t.get("id")||"",/^[A-Z]{2,5}1[AC-HJ-NP-Z02-9]{8,100}|04[a-fA-F0-9]{128}|(02|03)[a-fA-F0-9]{64}$/.test(this.addressString)&&(this.addressString=this.addressString.toLowerCase()),this.seoService.setTitle("Adresa: " + this.addressString + ""),this.seoService.setDescription("Pod\xEDvejte se na transakce v mempoolu, potvrzen\xE9 transakce, z\u016Fstatek a dal\u0161\xED informace o " + ("liquid" === this.stateService.network || "liquidtestnet" === this.stateService.network ? "Liquid" : "Earthcoin") + "" + (0, O.Sr)(this.stateService.network) + " adrese " + this.addressString + "."),(this.addressString.match(/04[a-fA-F0-9]{128}|(02|03)[a-fA-F0-9]{64}/)?this.electrsApiService.getPubKeyAddress$(this.addressString):this.electrsApiService.getAddress$(this.addressString)).pipe((0,v.W)(i=>(this.isLoadingAddress=!1,this.error=i,console.log(i),this.openGraphService.fail("address-data-"+this.rawAddress),(0,f.of)(null))))))).pipe((0,S.p)(t=>!!t),(0,y.M)(t=>{("liquid"===this.stateService.network||"liquidtestnet"===this.stateService.network)&&/^([m-zA-HJ-NP-Z1-9]{26,35}|[a-z]{2,5}1[ac-hj-np-z02-9]{8,100}|[a-km-zA-HJ-NP-Z1-9]{80})$/.test(t.address)&&this.apiService.validateAddress$(t.address).subscribe(i=>{this.addressInfo=i}),this.address=t,this.updateChainStats(),this.isLoadingAddress=!1,this.openGraphService.waitOver("address-data-"+this.rawAddress)})).subscribe(()=>{},t=>{console.log(t),this.error=t,this.isLoadingAddress=!1,this.openGraphService.fail("address-data-"+this.rawAddress)})}updateChainStats(){this.received=this.address.chain_stats.funded_txo_sum+this.address.mempool_stats.funded_txo_sum,this.sent=this.address.chain_stats.spent_txo_sum+this.address.mempool_stats.spent_txo_sum,this.txCount=this.address.chain_stats.tx_count+this.address.mempool_stats.tx_count,this.totalConfirmedTxCount=this.address.chain_stats.tx_count,this.totalUnspent=this.address.chain_stats.funded_txo_count-this.address.chain_stats.spent_txo_count}ngOnDestroy(){this.mainSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(c.nX),e.rXU(p.o),e.rXU(l.d),e.rXU(g.G),e.rXU(R.B),e.rXU($.m))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-address-preview"]],decls:3,vars:1,consts:()=>{let t,i,a,d,h,E,T,x;return t="Adresa",i="Z\u016Fstatek",a="Transakce",d="Neutracen\xE9 TXO",h="Ned\u016Fv\u011Brn\xE9",E="Celkem p\u0159ijato",T="Celkem odesl\xE1no",x="D\u016Fv\u011Brn\xE9",[["confidentialTd",""],t,i,a,d,h,E,T,x,["class","box preview-box",4,"ngIf"],[1,"box","preview-box"],[1,"row"],[1,"col-md","table-col"],[1,"row","d-flex","justify-content-between"],[1,"title-wrapper"],[1,"title"],[3,"text"],[1,"table","table-borderless","table-striped"],[4,"ngIf"],[3,"ngIf"],[4,"ngIf","ngIfElse"],[1,"w-100","d-block","d-md-none"],[1,"col-md","qrcode-col"],[1,"qr-wrapper"],[3,"data","size"],[3,"text","lastChars","link"],[3,"satoshis","noFiat"]]},template:function(i,a){1&i&&e.DNE(0,Fe,34,13,"div",9)(1,je,2,0,"ng-template",null,0,e.C5r),2&i&&e.Y8G("ngIf",a.address&&!a.error)},dependencies:[_.bT,Ae.q,G.Y,X.o,k.u,_.QX,F.U],styles:[".title-wrapper[_ngcontent-%COMP%]{padding:0 15px}.qr-wrapper[_ngcontent-%COMP%]{background-color:#fff;padding:10px 10px 5px;display:inline-block}.qrcode-col[_ngcontent-%COMP%]{width:468px;min-width:468px;flex-grow:0;flex-shrink:0;text-align:center;padding:0;margin-left:2px;margin-right:15px}.table-col[_ngcontent-%COMP%]{max-width:calc(100% - 470px);overflow:hidden}.table[_ngcontent-%COMP%]{font-size:32px;margin-top:48px}.table[_ngcontent-%COMP%]     .symbol{font-size:24px}"]})}return n})();var ze=s(9836),Ve=s(7435),We=s(4972),Ye=s(5131);function He(n,r){if(1&n&&(e.j41(0,"div",17),e.EFF(1),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.JRh(t.pool.regexes)}}function Ke(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",20),e.bIt("chartFinished",function(){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onChartReady())}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("initOpts",t.chartInitOptions)("options",t.chartOptions)}}function qe(n,r){if(1&n){const t=e.RV6();e.j41(0,"div",5)(1,"app-preview-title")(2,"span"),e.pXf(3,1),e.k0s()(),e.j41(4,"div",6)(5,"div",7),e.nrm(6,"img",8),e.j41(7,"img",9),e.bIt("load",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onImageLoad())})("error",function(){e.eBV(t);const a=e.XpG();return e.Njj(a.onImageFail())}),e.k0s()(),e.j41(8,"div",10)(9,"h1",11),e.EFF(10),e.k0s()()(),e.j41(11,"div",12)(12,"div",13)(13,"div",14)(14,"div",15),e.pXf(15,2),e.k0s(),e.DNE(16,He,2,1,"div",16),e.k0s(),e.j41(17,"div",14)(18,"div",15),e.pXf(19,3),e.k0s(),e.j41(20,"div",17),e.EFF(21),e.nI1(22,"amountShortener"),e.k0s()()()(),e.j41(23,"div",18),e.DNE(24,Ke,1,2,"div",19),e.k0s()()}if(2&n){const t=r.ngIf,i=e.XpG(),a=e.sdS(3);e.R7$(7),e.AVh("noimg",!i.imageLoaded),e.FS9("src",t.logo,e.B4B),e.R7$(3),e.JRh(t.pool.name),e.R7$(6),e.Y8G("ngIf",t.pool.regexes.length)("ngIfElse",a),e.R7$(5),e.JRh(e.brH(22,7,t.estimatedHashrate,1,"H/s"))}}function Je(n,r){1&n&&(e.j41(0,"div"),e.EFF(1,"~"),e.k0s())}let Qe=(()=>{class n{constructor(t,i,a,d,h,E){this.locale=t,this.apiService=i,this.route=a,this.stateService=d,this.seoService=h,this.openGraphService=E,this.formatNumber=_.ZV,this.isLoading=!0,this.imageLoaded=!1,this.lastImgSrc="",this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.slug=void 0}ngOnInit(){this.poolStats$=this.route.params.pipe((0,L.T)(t=>t.slug)).pipe((0,u.n)(t=>(this.isLoading=!0,this.imageLoaded=!1,this.slug=t,this.openGraphService.waitFor("pool-hash-"+this.slug),this.openGraphService.waitFor("pool-stats-"+this.slug),this.openGraphService.waitFor("pool-chart-"+this.slug),this.openGraphService.waitFor("pool-img-"+this.slug),this.apiService.getPoolHashrate$(this.slug).pipe((0,u.n)(i=>(this.isLoading=!1,this.prepareChartOptions(i.map(a=>[1e3*a.timestamp,a.avgHashrate])),this.openGraphService.waitOver("pool-hash-"+this.slug),[t])),(0,v.W)(()=>(this.isLoading=!1,this.seoService.logSoft404(),this.openGraphService.fail("pool-hash-"+this.slug),(0,f.of)([t])))))),(0,u.n)(t=>this.apiService.getPoolStats$(t).pipe((0,v.W)(()=>(this.isLoading=!1,this.seoService.logSoft404(),this.openGraphService.fail("pool-stats-"+this.slug),(0,f.of)(null))))),(0,L.T)(t=>{if(null==t)return null;this.seoService.setTitle(t.pool.name),this.seoService.setDescription("Pod\xEDvejte se na statistiky t\u011B\u017Eebn\xEDho poolu pro " + t.pool.name + ": nejnov\u011Bj\u0161\xED vyt\u011B\u017Een\xE9 bloky, hashrate v pr\u016Fb\u011Bhu \u010Dasu, celkovou odm\u011Bn uza blok k dne\u0161n\xEDmu dni, zn\xE1m\xE9 adresy coinbase a dal\u0161\xED.");let i='"';for(const d of t.pool.regexes)i+=d+'", "';t.pool.regexes=i.slice(0,-3),this.openGraphService.waitOver("pool-stats-"+this.slug);const a="/resources/mining-pools/"+t.pool.slug+".svg";return a===this.lastImgSrc&&this.openGraphService.waitOver("pool-img-"+this.slug),this.lastImgSrc=a,Object.assign({logo:a},t)}),(0,v.W)(()=>(this.isLoading=!1,this.openGraphService.fail("pool-stats-"+this.slug),(0,f.of)(null))))}prepareChartOptions(t){let i;0===t.length&&(i={textStyle:{color:"grey",fontSize:15},text:"Indexov\xE1n\xED blok\u016F",left:"center",top:"center"}),this.chartOptions={title:i,animation:!1,color:[new ze.echarts.graphic.LinearGradient(0,0,0,.65,[{offset:0,color:"#F4511E"},{offset:.25,color:"#FB8C00"},{offset:.5,color:"#FFB300"},{offset:.75,color:"#FDD835"},{offset:1,color:"#7CB342"}]),"#D81B60"],grid:{left:15,right:15,bottom:15,top:15,show:!1},xAxis:0===t.length?void 0:{type:"time",show:!1},yAxis:0===t.length?void 0:[{type:"value",show:!1}],series:0===t.length?void 0:[{zlevel:0,name:"Hashrate",showSymbol:!1,symbol:"none",data:t,type:"line",lineStyle:{width:4}}]}}onChartReady(){this.openGraphService.waitOver("pool-chart-"+this.slug)}onImageLoad(){this.imageLoaded=!0,this.openGraphService.waitOver("pool-img-"+this.slug)}onImageFail(){this.imageLoaded=!1,this.openGraphService.waitOver("pool-img-"+this.slug)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.xe9),e.rXU(g.G),e.rXU(c.nX),e.rXU(l.d),e.rXU(R.B),e.rXU($.m))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-pool-preview"]],decls:4,vars:3,consts:()=>{let t,i,a;return t="t\u011B\u017Eebn\xED pool",i="\u0160t\xEDtky",a="Hashrate",[["nodata",""],t,i,a,["class","box preview-box",4,"ngIf"],[1,"box","preview-box"],[1,"row","d-flex","justify-content-between","full-width-row"],[1,"logo-wrapper"],["width","62","height","62","src","/resources/mining-pools/default.svg"],["width","62","height","62",3,"load","error","src"],[1,"title-wrapper"],[1,"title"],[1,"row","full-width-row"],[1,"stats"],[1,"stat-box"],[1,"label"],["class","data",4,"ngIf","ngIfElse"],[1,"data"],[1,"row","hash-chart","full-width-row"],["class","chart","echarts","",3,"initOpts","options","chartFinished",4,"browserOnly"],["echarts","",1,"chart",3,"chartFinished","initOpts","options"]]},template:function(i,a){1&i&&(e.DNE(0,qe,25,11,"div",4),e.nI1(1,"async"),e.DNE(2,Je,2,0,"ng-template",null,0,e.C5r)),2&i&&e.Y8G("ngIf",e.bMT(1,1,a.poolStats$))},dependencies:[_.bT,Ve.e,k.u,We.$P,_.Jj,Ye.x],styles:[".stats[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:flex-start;width:100%;max-width:100%;margin:15px 0;font-size:32px;overflow:hidden}.stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:baseline;justify-content:space-between;width:100%;margin-left:15px;background:var(--stat-box-bg);padding:.75rem;width:0;flex-grow:1}.stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]:first-child{margin-left:0}.stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{flex-shrink:0;flex-grow:0;margin-right:1em}.stats[_ngcontent-%COMP%]   .stat-box[_ngcontent-%COMP%]   .data[_ngcontent-%COMP%]{flex-shrink:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.chart[_ngcontent-%COMP%]{width:100%;height:315px;background:var(--stat-box-bg)}.row[_ngcontent-%COMP%]{margin-right:0}.full-width-row[_ngcontent-%COMP%]{padding-left:15px;flex-wrap:nowrap}.logo-wrapper[_ngcontent-%COMP%]{position:relative;width:62px;height:62px;margin-right:1em}.logo-wrapper[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:0;top:0;background:var(--box-bg)}.logo-wrapper[_ngcontent-%COMP%]   img.noimg[_ngcontent-%COMP%]{opacity:0}  .symbol{font-size:24px}"],changeDetection:0})}return n})();var Ze=s(8756),et=s(4913),tt=s(7913);const nt=n=>({val:n}),it=n=>({rounded:n});function st(n,r){if(1&n&&e.nrm(0,"img",11),2&n){const t=e.XpG(2);e.HbH(e.eq3(3,it,t.enterpriseInfo.rounded_corner)),e.Y8G("src",t.enterpriseInfo.img,e.B4B)}}function ot(n,r){if(1&n&&e.nrm(0,"img",4),2&n){const t=e.XpG(3);e.Y8G("src",null==t.enterpriseInfo?null:t.enterpriseInfo.header_img,e.B4B)("alt",t.enterpriseInfo.title)}}function at(n,r){if(1&n&&e.DNE(0,ot,1,2,"img",12),2&n){const t=e.XpG(2);e.Y8G("ngIf",t.enterpriseInfo.header_img)}}function rt(n,r){1&n&&e.nrm(0,"app-svg-images",15)}function ct(n,r){1&n&&e.nrm(0,"app-svg-images",16)}function lt(n,r){if(1&n&&e.DNE(0,rt,1,0,"app-svg-images",13)(1,ct,1,0,"app-svg-images",14),2&n){const t=e.XpG(2);e.Y8G("ngIf",!t.officialMempoolSpace),e.R7$(),e.Y8G("ngIf",t.officialMempoolSpace)}}function dt(n,r){1&n&&(e.j41(0,"span",17),e.nrm(1,"app-svg-images",18),e.EFF(2," Signet"),e.k0s())}function pt(n,r){1&n&&(e.j41(0,"span",19),e.nrm(1,"app-svg-images",20),e.EFF(2," Testnet3"),e.k0s())}function _t(n,r){1&n&&(e.j41(0,"span",19),e.nrm(1,"app-svg-images",21),e.EFF(2," Testnet4"),e.k0s())}function ht(n,r){1&n&&(e.j41(0,"span",22),e.nrm(1,"app-svg-images",23),e.EFF(2," Mainnet"),e.k0s())}function gt(n,r){1&n&&(e.j41(0,"span",24),e.nrm(1,"app-svg-images",25),e.EFF(2," Testnet"),e.k0s())}function ft(n,r){1&n&&(e.j41(0,"span",26),e.nrm(1,"app-svg-images",27),e.EFF(2," Mainnet"),e.k0s())}function ut(n,r){if(1&n&&(e.qex(0),e.j41(1,"div",1)(2,"header")(3,"span",2),e.DNE(4,st,1,5,"img",3)(5,at,1,1,"img",4)(6,lt,2,2),e.k0s(),e.j41(7,"div",5),e.DNE(8,dt,3,0,"span",6)(9,pt,3,0,"span",7)(10,_t,3,0,"span",7)(11,ht,3,0,"span",8)(12,gt,3,0,"span",9)(13,ft,3,0,"span",10),e.k0s()(),e.nrm(14,"router-outlet"),e.k0s(),e.bVm()),2&n){const t=r.ngIf,i=e.XpG();e.R7$(4),e.vxM(4,null!=i.enterpriseInfo&&i.enterpriseInfo.img?4:-1),e.R7$(),e.vxM(5,null!=i.enterpriseInfo&&i.enterpriseInfo.header_img?5:6),e.R7$(2),e.Y8G("ngSwitch",t.val),e.R7$(),e.Y8G("ngSwitchCase","signet"),e.R7$(),e.Y8G("ngSwitchCase","testnet"),e.R7$(),e.Y8G("ngSwitchCase","testnet4"),e.R7$(),e.Y8G("ngSwitchCase","liquid"),e.R7$(),e.Y8G("ngSwitchCase","liquidtestnet")}}const mt=[{path:"",component:(()=>{class n{constructor(t,i,a){this.stateService=t,this.languageService=i,this.enterpriseService=a,this.officialMempoolSpace=this.stateService.env.OFFICIAL_MEMPOOL_SPACE,this.subdomain=""}ngOnInit(){this.network$=(0,b.h)((0,f.of)(""),this.stateService.networkChanged$),this.lightning$=this.stateService.lightningChanged$,this.urlLanguage=this.languageService.getLanguageForUrl(),this.subdomain=this.enterpriseService.getSubdomain(),this.enterpriseInfo$=this.enterpriseService.info$.subscribe(t=>{this.enterpriseInfo=t})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(l.d),e.rXU(Ze.g),e.rXU(et.T))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-master-page-preview"]],decls:2,vars:5,consts:[[4,"ngIf"],[1,"preview-wrapper"],[1,"header-brand",2,"position","relative"],[1,"subdomain_logo",3,"src","class"],["height","60px",1,"mr-3",3,"src","alt"],[3,"ngSwitch"],["class","network signet",4,"ngSwitchCase"],["class","network testnet",4,"ngSwitchCase"],["class","network liquid",4,"ngSwitchCase"],["class","network liquidtestnet",4,"ngSwitchCase"],["class","network mainnet",4,"ngSwitchDefault"],[1,"subdomain_logo",3,"src"],["height","60px","class","mr-3",3,"src","alt",4,"ngIf"],["name","mempoolSpace","viewBox","0 0 500 126","width","500","height","126","class","mempool-logo","style","width: 200px; height: 50px",4,"ngIf"],["name","officialMempoolSpace","style","width: 200px; height: 50px","width","500","height","126","viewBox","0 0 500 126",4,"ngIf"],["name","mempoolSpace","viewBox","0 0 500 126","width","500","height","126",1,"mempool-logo",2,"width","200px","height","50px"],["name","officialMempoolSpace","width","500","height","126","viewBox","0 0 500 126",2,"width","200px","height","50px"],[1,"network","signet"],["name","signet","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","mr-1",2,"width","40px","height","48px"],[1,"network","testnet"],["name","testnet","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","mr-1",2,"width","40px","height","48px"],["name","testnet4","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","mr-1",2,"width","40px","height","48px"],[1,"network","liquid"],["name","liquid","width","35","height","35","viewBox","0 0 125 125",1,"mainnet","mr-1",2,"width","40px","height","48px"],[1,"network","liquidtestnet"],["name","liquidtestnet","width","35","height","35","viewBox","0 0 125 125",1,"mainnet","mr-1",2,"width","40px","height","48px"],[1,"network","mainnet"],["name","bitcoin","width","35","height","35","viewBox","0 0 65 65",1,"mainnet","mr-1",2,"width","40px","height","48px"]],template:function(i,a){1&i&&(e.DNE(0,ut,15,8,"ng-container",0),e.nI1(1,"async")),2&i&&e.Y8G("ngIf",e.eq3(3,nt,e.bMT(1,1,a.network$)))},dependencies:[_.bT,_.ux,_.e1,_.fG,c.n3,tt.m,_.Jj],styles:[".preview-wrapper[_ngcontent-%COMP%]{position:relative;display:block;margin:auto;max-width:1200px;max-height:600px;padding-top:80px;background:var(--nav-bg)}.preview-wrapper[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{position:absolute;left:0;right:0;top:0;z-index:100;min-height:80px;padding:0rem 3rem;display:flex;flex-direction:row;justify-content:space-between;align-items:center;background:var(--nav-bg);text-align:start;font-size:1.8em}.preview-wrapper[_ngcontent-%COMP%]   .header-brand[_ngcontent-%COMP%]{width:60%}.preview-wrapper[_ngcontent-%COMP%]   .network[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center}.preview-wrapper[_ngcontent-%COMP%]     .preview-header{position:absolute;top:-80px;left:0;right:0;width:100%;padding:0 220px;text-align:center;overflow:hidden;text-overflow:ellipsis;z-index:101;line-height:80px;text-transform:capitalize;font-size:2.4rem}.preview-wrapper[_ngcontent-%COMP%]     .title{font-size:52px}.preview-wrapper[_ngcontent-%COMP%]     .subtitle{font-size:28px}.preview-wrapper[_ngcontent-%COMP%]     .title, .preview-wrapper[_ngcontent-%COMP%]     .subtitle{max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0;display:inline-block}.preview-wrapper[_ngcontent-%COMP%]     .title-wrapper{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;margin:0;width:0;flex-grow:1;flex-shrink:1}.subdomain_logo[_ngcontent-%COMP%]{height:35px;overflow:clip;max-width:140px;margin:auto 1em auto auto;align-self:center}.subdomain_logo[_ngcontent-%COMP%]   .rounded[_ngcontent-%COMP%]{border-radius:5px}"]})}return n})(),children:[{path:"block/:id",component:ke},{path:"address/:id",children:[],component:Ue},{path:"tx/:id",children:[],component:ie},{path:"mining/pool/:slug",component:Qe},{path:"lightning",loadChildren:()=>Promise.all([s.e(371),s.e(647),s.e(892)]).then(s.bind(s,5892)).then(n=>n.LightningPreviewsModule),data:{preload:!0}}]}];let vt=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[c.iI.forChild(mt),c.iI]})}return n})();var St=s(443);let Ct=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[_.MD,P.G,c.iI,vt,C.GraphsModule,St.D]})}return n})()},8859:(A,w,s)=>{s.d(w,{T:()=>I});var _=s(5558),P=s(6354),c=s(4668),C=s(5312),u=s(4438),v=s(1626),S=s(2083);let I=(()=>{class f{constructor(M,O){this.httpClient=M,this.stateService=O,this.nativeAssetId="liquidtestnet"===this.stateService.network?C.c.nativeTestAssetId:C.c.nativeAssetId;let m="";this.stateService.isBrowser||(m=this.stateService.env.NGINX_PROTOCOL+"://"+this.stateService.env.NGINX_HOSTNAME+":"+this.stateService.env.NGINX_PORT),this.getAssetsJson$=this.stateService.networkChanged$.pipe((0,_.n)(()=>this.httpClient.get(`${m}/resources/assets${"liquidtestnet"===this.stateService.network?"-testnet":""}.json`)),(0,P.T)(e=>{const p=Object.values(e);return"liquid"===this.stateService.network?p.push({name:"Liquid Earthcoin",ticker:"L-EAC",asset_id:this.nativeAssetId}):"liquidtestnet"===this.stateService.network&&p.push({name:"Test Liquid Earthcoin",ticker:"tL-EAC",asset_id:this.nativeAssetId}),{objects:e,array:p.sort((l,o)=>l.name.localeCompare(o.name))}}),(0,c.t)(1)),this.getAssetsMinimalJson$=this.stateService.networkChanged$.pipe((0,_.n)(()=>this.httpClient.get(`${m}/resources/assets${"liquidtestnet"===this.stateService.network?"-testnet":""}.minimal.json`)),(0,P.T)(e=>("liquidtestnet"===this.stateService.network&&(e["144c654344aa716d6f3abcc1ca90e5641e4e2a7f633bc09fe3baf64585819a49"]=[null,"tL-EAC","Test Liquid Earthcoin",8]),e)),(0,c.t)(1)),this.getWorldMapJson$=this.httpClient.get(m+"/resources/worldmap.json").pipe((0,c.t)())}static#e=this.\u0275fac=function(O){return new(O||f)(u.KVO(v.Qq),u.KVO(S.d))};static#t=this.\u0275prov=u.jDH({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},866:(A,w,s)=>{s.d(w,{Br:()=>_,Ut:()=>O,Vz:()=>b,Ww:()=>P,bC:()=>m,iI:()=>C,sG:()=>e});const _="[a-km-zA-HJ-NP-Z1-9]",P="[ac-hj-np-z02-9]",c="[AC-HJ-NP-Z02-9]",C="[a-fA-F0-9]",u="(?:0|[1-9][0-9]{0,8})",v="[0-9]",S={mainnet:{base58:"[13]"+_+"{26,33}",bech32:"(?:bc1"+P+"{6,100}|BC1"+c+"{6,100})"},testnet:{base58:"[mn2]"+_+"{33,34}",bech32:"(?:tb1"+P+"{6,100}|TB1"+c+"{6,100})"},testnet4:{base58:"[mn2]"+_+"{33,34}",bech32:"(?:tb1"+P+"{6,100}|TB1"+c+"{6,100})"},signet:{base58:"[mn2]"+_+"{33,34}",bech32:"(?:tb1"+P+"{6,100}|TB1"+c+"{6,100})"},liquid:{base58:"[GHPQ]"+_+"{33}|[V][TJ]"+_+"{78}",bech32:"(?:(?:ex1|lq1)"+P+"{6,100}|(?:EX1|LQ1)"+c+"{6,100})"},liquidtestnet:{base58:"[89]"+_+"{33}",bech32:"(?:(?:tex1|tlq1)"+P+"{6,100}|(?:TEX1|TLQ1)"+c+"{6,100})"}},f=["testnet","testnet4","signet","liquid","liquidtestnet","mainnet"].map(p=>[e("address",p),p]);function b(p,l,o){return f.filter(([g,R])=>R!==l&&g.test(p)).map(([,g])=>({network:g,address:p,isNetworkAvailable:M(g,o)}))}function M(p,l){switch(p){case"testnet":return!0===l.TESTNET_ENABLED;case"testnet4":return!0===l.TESTNET4_ENABLED;case"signet":return!0===l.SIGNET_ENABLED;case"liquid":return!0===l.LIQUID_ENABLED;case"liquidtestnet":return!0===l.LIQUID_TESTNET_ENABLED;case"mainnet":return!0;default:return!1}}function O(p,l){return!!l&&("mempool"===p?"mainnet"!==l&&"testnet"!==l&&"testnet4"!==l&&"signet"!==l:"liquid"===p?"liquid"!==l&&"liquidtestnet"!==l:void 0)}function m(p,l,o){let g="";return("liquid"===p||"liquidtestnet"===p)&&(g=o.LIQUID_WEBSITE_URL,g+="liquidtestnet"===p?"/testnet":"",g+="/address/",g+=l),("mainnet"===p||"testnet"===p||"testnet4"===p||"signet"===p)&&(g=o.MEMPOOL_WEBSITE_URL,g+="mainnet"===p?"":`/${p}`,g+="/address/",g+=l),g}function e(p,l){let o="^";switch(p){case"blockheight":o+=u;break;case"blockhash":if(!l)throw new Error("Must pass network when type is blockhash");let g;switch(l){case"mainnet":case"testnet":case"testnet4":case"liquid":case"liquidtestnet":g=8;break;case"signet":g=5;break;default:throw new Error(`Invalid Network ${l} (Unreachable error in TypeScript)`)}o+=`0{${g}}`,o+=`${C}{${64-g}}`;break;case"transaction":o+=`${C}{64}`,o+="(?:",o+=":",o+=u,o+=")?";break;case"address":if(!l)throw new Error("Must pass network when type is address");switch(o+="(?:",l){case"mainnet":o+=S.mainnet.base58,o+="|",o+=S.mainnet.bech32,o+="|",o+=`04${C}{128}`,o+="|",o+=`(?:02|03)${C}{64}`;break;case"testnet":case"testnet4":o+=S.testnet.base58,o+="|",o+=S.testnet.bech32,o+="|",o+=`04${C}{128}`,o+="|",o+=`(?:02|03)${C}{64}`;break;case"signet":o+=S.signet.base58,o+="|",o+=S.signet.bech32,o+="|",o+=`04${C}{128}`,o+="|",o+=`(?:02|03)${C}{64}`;break;case"liquid":o+=S.liquid.base58,o+="|",o+=S.liquid.bech32;break;case"liquidtestnet":o+=S.liquidtestnet.base58,o+="|",o+=S.liquidtestnet.bech32;break;default:throw new Error(`Invalid Network ${l} (Unreachable error in TypeScript)`)}o+=")";break;case"date":o+="(?:",o+=`${v}{4}`,o+="[-/]",o+=`${v}{1,2}`,o+="[-/]",o+=`${v}{1,2}`,o+="(?:",o+=" ",o+=`${v}{1,2}`,o+=":",o+=`${v}{1,2}`,o+="(?:",o+=":",o+=`${v}{1,2}`,o+=")?",o+=")?",o+=")";break;case"timestamp":o+=`${v}{10}`;break;default:throw new Error(`Invalid RegexType ${p} (Unreachable error in TypeScript)`)}return o+="$",new RegExp(o)}}}]);