"use strict";(self.webpackChunkmempool=self.webpackChunkmempool||[]).push([[635],{9813:(at,w,d)=>{d.d(w,{D:()=>s});var t=d(467);class s{parseBlinders(p){const h=p.split(","),E=[];for(;h.length;)E.push({value:this.verifyNum(h.shift()),asset:this.verifyHex32(h.shift()),value_blinder:this.verifyHex32(h.shift()),asset_blinder:this.verifyHex32(h.shift())});return E}verifyNum(p){if(!+p)throw new Error("Invalid blinding data (invalid number)");return+p}verifyHex32(p){if(!p||!/^[0-9a-f]{64}$/i.test(p))throw new Error("Invalid blinding data (invalid hex)");return p}makeCommitmentMap(p){return(0,t.A)(function*(){const h=yield d.e(687).then(d.bind(d,687));yield h.load();const E=new Map;return p.forEach(f=>{const{asset_commitment:S,value_commitment:b}=h.generate_commitments(f.value,f.asset,f.value_blinder,f.asset_blinder);E.set(`${S}:${b}`,{asset:f.asset,value:f.value})}),E})()}find(p){return p.assetcommitment&&p.valuecommitment&&this.commitments.get(`${p.assetcommitment}:${p.valuecommitment}`)}tryUnblindTx(p){if(p){if(p._unblinded)return p;let h=0;if(void 0!==p.vout&&(p.vout.forEach(E=>h+=+this.tryUnblindOut(E)),p.vin.filter(E=>E.prevout).forEach(E=>h+=+this.tryUnblindOut(E.prevout))),void 0!==this.commitments){if(p._unblinded={matched:h,total:this.commitments.size},this.deduceBlinded(p),h<this.commitments.size)throw new Error("Invalid blinding data.");return p._deduced=!1,p}}}tryUnblindOut(p){const h=this.find(p);return h&&Object.assign(p,h),!!h}deduceBlinded(p){if(p._deduced)return;p._deduced=!0;const h=p.vin.filter(f=>f.prevout&&null==f.prevout.value),E=p.vout.filter(f=>null==f.value);if(h.length+E.length===1){const f=new Map;p.vin.filter(G=>G.prevout&&null!=G.prevout.value).forEach(({prevout:G})=>f.set(G.asset,(f.get(G.asset)||0)+G.value)),p.vout.filter(G=>null!=G.value).forEach(G=>f.set(G.asset,(f.get(G.asset)||0)-G.value));const S=Array.from(f.entries()).filter(([G,W])=>0!==W);if(1!==S.length)throw new Error("unexpected remainder while deducing blinded tx");const[b,$]=S[0];if($>0){if(!E.length)throw new Error("expected unknown output");E[0].asset=b,E[0].value=$}else{if(!h.length)throw new Error("expected unknown input");h[0].prevout.asset=b,h[0].prevout.value=-1*$}}}checkUnblindedTx(p){var h=this;return(0,t.A)(function*(){if(!window.location.hash?.length)return p;const f=new URLSearchParams(window.location.hash.slice(1)||"").get("blinded");if(f&&f.length){const S=h.parseBlinders(f);if(S)return h.commitments=yield h.makeCommitmentMap(S),h.tryUnblindTx(p)}return p})()}}},8261:(at,w,d)=>{d.d(w,{O:()=>Ge});var t=d(4438),s=d(2771),A=d(7786),p=d(7673),h=d(5558),E=d(8141),f=d(5312),S=d(8185),b=d(6631),$=d(2083),G=d(4163),W=d(8859),R=d(177),rt=d(6335),lt=d(3366),pt=d(4799),ct=d(715);const ut=["tooltip"],L=i=>({n:i,connector:!1}),y=i=>({n:i,connector:!0}),gt=i=>({$implicit:i});function Tt(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,14),t.k0s())}function dt(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,15),t.k0s())}function ht(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.k0s(),t.qex(3,33),t.DNE(4,Tt,2,0,"span",34)(5,dt,2,0,"span",34),t.bVm()()),2&i){const e=t.XpG(2);t.R7$(2),t.SpI("",e.line.rest," "),t.R7$(),t.Y8G("ngSwitch",e.line.type),t.R7$(),t.Y8G("ngSwitchCase","input"),t.R7$(),t.Y8G("ngSwitchCase","output")}}function ft(i,r){1&i&&(t.qex(0),t.j41(1,"p"),t.pXf(2,16),t.k0s(),t.bVm())}function l(i,r){if(1&i&&t.DNE(0,ft,3,0,"ng-container",32),2&i){t.XpG();const e=t.sdS(6),n=t.XpG();t.Y8G("ngIf",n.line.coinbase)("ngIfElse",e)}}function C(i,r){1&i&&(t.j41(0,"p"),t.EFF(1,"Peg In"),t.k0s())}function u(i,r){if(1&i&&(t.qex(0),t.DNE(1,C,2,0,"p",35),t.bVm()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf",!e.isConnector)}}function m(i,r){if(1&i&&t.DNE(0,u,2,1,"ng-container",32),2&i){t.XpG();const e=t.sdS(8),n=t.XpG();t.Y8G("ngIf",n.line.pegin)("ngIfElse",e)}}function I(i,r){1&i&&(t.j41(0,"p"),t.EFF(1,"Peg Out"),t.k0s())}function H(i,r){if(1&i&&(t.j41(0,"p"),t.nrm(1,"app-amount",38),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.Y8G("satoshis",e.line.displayValue)}}function z(i,r){if(1&i&&(t.qex(0),t.DNE(1,I,2,0,"p",35)(2,H,2,1,"p",35),t.j41(3,"p",36),t.nrm(4,"app-truncate",37),t.k0s(),t.bVm()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf",!e.isConnector),t.R7$(),t.Y8G("ngIf",null!=e.line.displayValue),t.R7$(2),t.Y8G("text",e.line.pegout)}}function q(i,r){if(1&i&&t.DNE(0,z,5,3,"ng-container",32),2&i){t.XpG();const e=t.sdS(10),n=t.XpG();t.Y8G("ngIf",n.line.pegout)("ngIfElse",e)}}function Q(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,17),t.k0s())}function Z(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,18),t.k0s())}function K(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,19),t.k0s())}function J(i,r){if(1&i&&(t.j41(0,"span"),t.EFF(1),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.SpI(" #",e.line.index,"")}}function tt(i,r){1&i&&t.eu8(0)}function et(i,r){if(1&i&&(t.qex(0),t.DNE(1,tt,1,0,"ng-container",40),t.bVm()),2&i){const e=t.XpG(6),n=t.sdS(10);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,L,e.line.blockHeight-(null==e.line||null==e.line.status?null:e.line.status.block_height)))}}function U(i,r){1&i&&t.eu8(0)}function nt(i,r){if(1&i&&t.DNE(0,U,1,0,"ng-container",40),2&i){const e=t.XpG(6),n=t.sdS(10);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,L,e.chainTip+1-(null==e.line||null==e.line.status?null:e.line.status.block_height)))}}function D(i,r){if(1&i&&(t.qex(0),t.DNE(1,et,2,4,"ng-container",32)(2,nt,1,4,"ng-template",null,11,t.C5r),t.bVm()),2&i){const e=t.sdS(3),n=t.XpG(5);t.R7$(),t.Y8G("ngIf",n.line.blockHeight)("ngIfElse",e)}}function it(i,r){if(1&i&&(t.j41(0,"span"),t.DNE(1,D,4,2,"ng-container",35),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.Y8G("ngIf",null==e.line.status?null:e.line.status.block_height)}}function V(i,r){1&i&&t.eu8(0)}function ot(i,r){if(1&i&&(t.qex(0),t.DNE(1,V,1,0,"ng-container",40),t.bVm()),2&i){const e=t.XpG(6),n=t.sdS(12);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,L,(null==e.line||null==e.line.status?null:e.line.status.block_height)-e.line.blockHeight))}}function _t(i,r){1&i&&t.eu8(0)}function st(i,r){if(1&i&&t.DNE(0,_t,1,0,"ng-container",40),2&i){const e=t.XpG(6),n=t.sdS(12);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,L,e.chainTip+1-e.line.blockHeight))}}function O(i,r){if(1&i&&(t.qex(0),t.DNE(1,ot,2,4,"ng-container",32)(2,st,1,4,"ng-template",null,11,t.C5r),t.bVm()),2&i){const e=t.sdS(3),n=t.XpG(5);t.R7$(),t.Y8G("ngIf",null==n.line||null==n.line.status?null:n.line.status.block_height)("ngIfElse",e)}}function Ct(i,r){if(1&i&&(t.j41(0,"span"),t.DNE(1,O,4,2,"ng-container",35),t.k0s()),2&i){const e=t.XpG(4);t.R7$(),t.Y8G("ngIf",e.line.blockHeight&&(null==e.line?null:e.line.spent))}}function Pt(i,r){if(1&i&&(t.j41(0,"p"),t.qex(1,33),t.DNE(2,Q,2,0,"span",34)(3,Z,2,0,"span",34)(4,K,2,0,"span",34),t.bVm(),t.DNE(5,J,2,1,"span",35),t.qex(6,33),t.DNE(7,it,2,1,"span",34)(8,Ct,2,1,"span",34),t.bVm(),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("ngSwitch",e.line.type),t.R7$(),t.Y8G("ngSwitchCase","input"),t.R7$(),t.Y8G("ngSwitchCase","output"),t.R7$(),t.Y8G("ngSwitchCase","fee"),t.R7$(),t.Y8G("ngIf","fee"!==e.line.type),t.R7$(),t.Y8G("ngSwitch",e.line.type),t.R7$(),t.Y8G("ngSwitchCase","input"),t.R7$(),t.Y8G("ngSwitchCase","output")}}function xt(i,r){1&i&&t.eu8(0)}function Gt(i,r){if(1&i&&(t.qex(0),t.DNE(1,xt,1,0,"ng-container",40),t.bVm()),2&i){const e=t.XpG(6),n=t.sdS(10);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,y,e.line.blockHeight-(null==e.line||null==e.line.status?null:e.line.status.block_height)))}}function St(i,r){1&i&&t.eu8(0)}function Mt(i,r){if(1&i&&t.DNE(0,St,1,0,"ng-container",40),2&i){const e=t.XpG(6),n=t.sdS(10);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,y,e.chainTip+1-(null==e.line||null==e.line.status?null:e.line.status.block_height)))}}function vt(i,r){if(1&i&&(t.qex(0),t.DNE(1,Gt,2,4,"ng-container",32)(2,Mt,1,4,"ng-template",null,11,t.C5r),t.bVm()),2&i){const e=t.sdS(3),n=t.XpG(5);t.R7$(),t.Y8G("ngIf",n.line.blockHeight)("ngIfElse",e)}}function Nt(i,r){if(1&i&&(t.j41(0,"p")(1,"span"),t.pXf(2,21),t.k0s(),t.EFF(3),t.DNE(4,vt,4,2,"ng-container",35),t.k0s()),2&i){const e=t.XpG(4);t.R7$(3),t.SpI("\xa0 #",e.line.vout," "),t.R7$(),t.Y8G("ngIf",null==e.line.status?null:e.line.status.block_height)}}function Rt(i,r){1&i&&t.eu8(0)}function bt(i,r){if(1&i&&(t.qex(0),t.DNE(1,Rt,1,0,"ng-container",40),t.bVm()),2&i){const e=t.XpG(6),n=t.sdS(12);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,y,(null==e.line||null==e.line.status?null:e.line.status.block_height)-e.line.blockHeight))}}function $t(i,r){1&i&&t.eu8(0)}function It(i,r){if(1&i&&t.DNE(0,$t,1,0,"ng-container",40),2&i){const e=t.XpG(6),n=t.sdS(12);t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,y,e.chainTip+1-e.line.blockHeight))}}function Xt(i,r){if(1&i&&(t.qex(0),t.DNE(1,bt,2,4,"ng-container",32)(2,It,1,4,"ng-template",null,11,t.C5r),t.bVm()),2&i){const e=t.sdS(3),n=t.XpG(5);t.R7$(),t.Y8G("ngIf",null==n.line||null==n.line.status?null:n.line.status.block_height)("ngIfElse",e)}}function wt(i,r){if(1&i&&(t.j41(0,"p")(1,"span"),t.pXf(2,22),t.k0s(),t.EFF(3),t.DNE(4,Xt,4,2,"ng-container",35),t.k0s()),2&i){const e=t.XpG(4);t.R7$(3),t.SpI("\xa0 #",e.line.vin," "),t.R7$(),t.Y8G("ngIf",e.line.blockHeight)}}function At(i,r){if(1&i&&(t.qex(0),t.j41(1,"p")(2,"span"),t.pXf(3,20),t.k0s(),t.EFF(4,"\xa0 "),t.nrm(5,"app-truncate",37),t.k0s(),t.qex(6,33),t.DNE(7,Nt,5,2,"p",34)(8,wt,5,2,"p",34),t.bVm()()),2&i){const e=t.XpG(3);t.R7$(5),t.Y8G("text",e.line.txid),t.R7$(),t.Y8G("ngSwitch",e.line.type),t.R7$(),t.Y8G("ngSwitchCase","input"),t.R7$(),t.Y8G("ngSwitchCase","output")}}function Bt(i,r){1&i&&(t.j41(0,"p"),t.pXf(1,23),t.k0s())}function kt(i,r){1&i&&t.eu8(0)}function Ft(i,r){if(1&i&&(t.j41(0,"div"),t.DNE(1,kt,1,0,"ng-container",40),t.k0s()),2&i){const e=t.XpG(5),n=t.sdS(2);t.R7$(),t.Y8G("ngTemplateOutlet",n)("ngTemplateOutletContext",t.eq3(2,gt,e.line))}}function Lt(i,r){if(1&i&&(t.EFF(0),t.j41(1,"span",42),t.EFF(2),t.nI1(3,"slice"),t.k0s()),2&i){const e=t.XpG(5);t.SpI(" ",e.line.displayValue," "),t.R7$(2),t.JRh(t.brH(3,2,e.line.asset,0,7))}}function yt(i,r){if(1&i&&t.DNE(0,Ft,2,4,"div",32)(1,Lt,4,6,"ng-template",null,13,t.C5r),2&i){const e=t.sdS(2),n=t.XpG(4);t.Y8G("ngIf",n.assetsMinimal&&n.assetsMinimal[n.line.asset])("ngIfElse",e)}}function Wt(i,r){if(1&i&&t.nrm(0,"app-amount",43),2&i){const e=t.XpG(4);t.Y8G("blockConversion",e.isConnector?e.blockConversions[null==e.line||null==e.line.status?null:e.line.status.block_time]:e.blockConversions[null==e.line?null:e.line.timestamp])("satoshis",e.line.displayValue)("forceBlockConversion",e.isConnector&&(null==e.line||null==e.line.status?null:e.line.status.block_time))}}function Ut(i,r){if(1&i&&(t.j41(0,"p"),t.DNE(1,yt,3,2,"ng-template",41)(2,Wt,1,3,"ng-template",null,12,t.C5r),t.k0s()),2&i){const e=t.sdS(3),n=t.XpG(3);t.R7$(),t.Y8G("ngIf",n.line.asset&&n.line.asset!==n.nativeAssetId)("ngIfElse",e)}}function Dt(i,r){if(1&i&&(t.j41(0,"p",36),t.nrm(1,"app-truncate",37),t.k0s()),2&i){const e=t.XpG(3);t.R7$(),t.Y8G("text",e.line.address)}}function Vt(i,r){if(1&i&&t.DNE(0,Pt,9,8,"p",35)(1,At,9,4,"ng-container",35)(2,Bt,2,0,"p",35)(3,Ut,4,2,"p",35)(4,Dt,2,1,"p",39),2&i){const e=t.XpG(2);t.Y8G("ngIf",!e.isConnector),t.R7$(),t.Y8G("ngIf",e.isConnector&&e.line.txid),t.R7$(),t.Y8G("ngIf",null==e.line.displayValue&&e.line.confidential),t.R7$(),t.Y8G("ngIf",null!=e.line.displayValue),t.R7$(),t.Y8G("ngIf","fee"!==e.line.type&&e.line.address)}}function jt(i,r){if(1&i&&(t.j41(0,"div",31,6),t.DNE(2,ht,6,4,"ng-container",32)(3,l,1,2,"ng-template",null,7,t.C5r)(5,m,1,2,"ng-template",null,8,t.C5r)(7,q,1,2,"ng-template",null,9,t.C5r)(9,Vt,5,5,"ng-template",null,10,t.C5r),t.k0s()),2&i){const e=t.sdS(4),n=t.XpG();t.xc7("visibility",n.line?"visible":"hidden")("left",n.tooltipPosition.x+"px")("top",n.tooltipPosition.y+"px"),t.R7$(2),t.Y8G("ngIf",n.line.rest)("ngIfElse",e)}}function Yt(i,r){if(1&i&&(t.EFF(0),t.nI1(1,"number"),t.j41(2,"span",42),t.EFF(3),t.k0s()),2&i){const e=r.$implicit,n=t.XpG();t.SpI(" ",t.i5U(1,2,e.displayValue/n.pow(10,n.assetsMinimal[e.asset][3]),"1."+n.assetsMinimal[e.asset][3]+"-"+n.assetsMinimal[e.asset][3])," "),t.R7$(3),t.JRh(n.assetsMinimal[e.asset][1])}}function Ht(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,24),t.k0s())}function zt(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,25),t.k0s())}function qt(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,26),t.k0s())}function Qt(i,r){1&i&&(t.j41(0,"span"),t.EFF(1,"prevout "),t.k0s())}function Zt(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.qex(3),t.pXf(4,27),t.bVm(),t.EFF(5,")"),t.k0s(),t.bVm()),2&i){const e=t.XpG().n;t.R7$(2),t.SpI("",e," ")}}function Kt(i,r){1&i&&t.eu8(0)}function Jt(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.DNE(2,Kt,1,0,"ng-container",44),t.EFF(3,")"),t.k0s(),t.bVm()),2&i){t.XpG(2);const e=t.sdS(4);t.R7$(2),t.Y8G("ngTemplateOutlet",e)}}function te(i,r){1&i&&t.eu8(0)}function ee(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.DNE(2,te,1,0,"ng-container",44),t.EFF(3,")"),t.k0s(),t.bVm()),2&i){t.XpG(2);const e=t.sdS(8);t.R7$(2),t.Y8G("ngTemplateOutlet",e)}}function ne(i,r){if(1&i&&(t.EFF(0," ("),t.DNE(1,Qt,2,0,"span",35)(2,Zt,6,1,"ng-container",35)(3,Jt,4,1,"ng-container",35)(4,ee,4,1,"ng-container",35)),2&i){const e=r.n,n=r.connector;t.R7$(),t.Y8G("ngIf",!n),t.R7$(),t.Y8G("ngIf",e>1),t.R7$(),t.Y8G("ngIf",1===e),t.R7$(),t.Y8G("ngIf",0===e)}}function ie(i,r){1&i&&(t.j41(0,"span"),t.pXf(1,28),t.k0s())}function oe(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.EFF(2),t.qex(3),t.pXf(4,29),t.bVm(),t.EFF(5,")"),t.k0s(),t.bVm()),2&i){const e=t.XpG().n;t.R7$(2),t.SpI("",e," ")}}function _e(i,r){1&i&&t.eu8(0)}function se(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.DNE(2,_e,1,0,"ng-container",44),t.EFF(3,")"),t.k0s(),t.bVm()),2&i){t.XpG(2);const e=t.sdS(6);t.R7$(2),t.Y8G("ngTemplateOutlet",e)}}function ae(i,r){1&i&&t.eu8(0)}function re(i,r){if(1&i&&(t.qex(0),t.j41(1,"span"),t.DNE(2,ae,1,0,"ng-container",44),t.EFF(3,")"),t.k0s(),t.bVm()),2&i){t.XpG(2);const e=t.sdS(8);t.R7$(2),t.Y8G("ngTemplateOutlet",e)}}function le(i,r){if(1&i&&(t.EFF(0," ("),t.DNE(1,ie,2,0,"span",35)(2,oe,6,1,"ng-container",35)(3,se,4,1,"ng-container",35)(4,re,4,1,"ng-container",35)),2&i){const e=r.n,n=r.connector;t.R7$(),t.Y8G("ngIf",!n),t.R7$(),t.Y8G("ngIf",e>1),t.R7$(),t.Y8G("ngIf",1===e),t.R7$(),t.Y8G("ngIf",0===e)}}let pe=(()=>{class i{constructor(e,n,_){this.priceService=e,this.stateService=n,this.apiService=_,this.isConnector=!1,this.tooltipPosition={x:0,y:0},this.blockConversions={},this.inputStatus={},this.nativeAssetId="liquidtestnet"===this.stateService.network?f.c.nativeTestAssetId:f.c.nativeAssetId}ngOnInit(){this.currencyChangeSubscription=this.stateService.fiatCurrency$.subscribe(e=>{this.currency=e,this.blockConversions={},this.inputStatus={}}),this.viewFiatSubscription=this.stateService.viewAmountMode$.subscribe(e=>this.viewFiat="fiat"===e),this.chainTipSubscription=this.stateService.chainTip$.subscribe(e=>this.chainTip=e)}ngOnChanges(e){if(e.line?.currentValue&&("input"===e.line.currentValue.type?this.inputStatus[e.line.currentValue.index]?(e.line.currentValue.status=this.inputStatus[e.line.currentValue.index],this.fetchPrices(e)):e.line.currentValue.txid&&this.apiService.getTransactionStatus$(e.line.currentValue.txid).pipe((0,E.M)(n=>{e.line.currentValue.status=n,this.inputStatus[e.line.currentValue.index]=n,this.fetchPrices(e)})).subscribe():this.fetchPrices(e)),e.cursorPosition&&e.cursorPosition.currentValue){let n=Math.max(10,e.cursorPosition.currentValue.x-50),_=e.cursorPosition.currentValue.y+20;if(this.tooltipElement){const a=this.tooltipElement.nativeElement.getBoundingClientRect(),o=this.tooltipElement.nativeElement.offsetParent.getBoundingClientRect();o.left+n+a.width>o.right&&(n=Math.max(0,o.width-a.width-10)),_+a.height>o.height&&(_=_-a.height-20)}this.tooltipPosition={x:n,y:_}}}fetchPrices(e){!this.currency||!this.viewFiat||(this.isConnector?["input","output"].includes(e.line.currentValue.type)&&e.line.currentValue?.status?.block_time&&!this.blockConversions?.[e.line.currentValue?.status.block_time]&&this.priceService.getBlockPrice$(e.line.currentValue?.status.block_time,!0,this.currency).pipe((0,E.M)(n=>this.blockConversions[e.line.currentValue.status.block_time]=n)).subscribe():e.line.currentValue.timestamp&&!this.blockConversions[e.line.currentValue.timestamp]&&e.line.currentValue.timestamp&&this.priceService.getBlockPrice$(e.line.currentValue.timestamp,!0,this.currency).pipe((0,E.M)(n=>this.blockConversions[e.line.currentValue.timestamp]=n)).subscribe())}pow(e,n){return Math.pow(e,n)}ngOnDestroy(){this.currencyChangeSubscription?.unsubscribe(),this.viewFiatSubscription?.unsubscribe(),this.chainTipSubscription?.unsubscribe()}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(rt.d),t.rXU($.d),t.rXU(lt.G))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-tx-bowtie-graph-tooltip"]],viewQuery:function(n,_){if(1&n&&t.GBs(ut,5),2&n){let a;t.mGM(a=t.lsd())&&(_.tooltipElement=a.first)}},inputs:{line:"line",cursorPosition:"cursorPosition",isConnector:"isConnector",assetsMinimal:"assetsMinimal"},features:[t.OA$],decls:13,vars:1,consts:()=>{let e,n,_,a,o,c,g,M,x,X,v,j,Y,B,k,F;return e="otros inputs",n="otros outputs",_="Coinbase",a="Input",o="Output",c="Tasa",g="Transacci\xF3n",M="Output",x="Input",X="Confidencial",v="1 bloque antes",j="1 bloque m\xE1s tarde",Y="en el mismo bloque",B="bloques antes",k="gastado",F="bloques m\xE1s tarde",[["assetBox",""],["oneBlockEarlier",""],["oneBlockLater",""],["inTheSameBlock",""],["nBlocksEarlier",""],["nBlocksLater",""],["tooltip",""],["coinbase",""],["pegin",""],["pegout",""],["normal",""],["noBlockHeight",""],["defaultOutput",""],["assetNotFound",""],e,n,_,a,o,c,g,M,x,X,v,j,Y,B,k,F,["class","bowtie-graph-tooltip",3,"visibility","left","top",4,"ngIf"],[1,"bowtie-graph-tooltip"],[4,"ngIf","ngIfElse"],[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngIf"],[1,"address"],[3,"text"],[3,"satoshis"],["class","address",4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngIf","ngIfElse"],[1,"symbol"],[3,"blockConversion","satoshis","forceBlockConversion"],[4,"ngTemplateOutlet"]]},template:function(n,_){1&n&&t.DNE(0,jt,11,8,"div",30)(1,Yt,4,5,"ng-template",null,0,t.C5r)(3,Ht,2,0,"ng-template",null,1,t.C5r)(5,zt,2,0,"ng-template",null,2,t.C5r)(7,qt,2,0,"ng-template",null,3,t.C5r)(9,ne,5,4,"ng-template",null,4,t.C5r)(11,le,5,4,"ng-template",null,5,t.C5r),2&n&&t.Y8G("ngIf",_.line)},dependencies:[R.bT,R.T3,R.ux,R.e1,pt.Y,ct.o,R.P9,R.QX],styles:[".bowtie-graph-tooltip[_ngcontent-%COMP%]{position:absolute;background:color-mix(in srgb,var(--active-bg) 95%,transparent);border-radius:4px;box-shadow:1px 1px 10px #00000080;color:var(--tooltip-grey);padding:10px 15px;text-align:left;pointer-events:none;max-width:350px}.bowtie-graph-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;white-space:nowrap}.bowtie-graph-tooltip[_ngcontent-%COMP%]   .address[_ngcontent-%COMP%]{width:100%;max-width:100%}"]})}return i})();const ce=i=>[i];function ue(i,r){if(1&i&&(t.qSk(),t.nrm(0,"path",40)),2&i){const e=t.XpG(2);t.Aen(e.middle.style),t.BMQ("d",e.middle.path)}}function ge(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"input-connector",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"input-connector",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"input-connector",o.inputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.ZvI("input connector ",n.class,""),t.AVh("highlight",a.inputData[_].index===a.inputIndex),t.BMQ("d",n.connectorPath)}}function Te(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"input",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"input",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"input",o.inputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.Aen(n.style),t.ZvI("line ",n.class,""),t.AVh("highlight",null!=a.inputIndex&&a.inputData[_].index===a.inputIndex),t.x72("marker-start","url(#",n.class,"-arrow)"),t.BMQ("d",n.path)}}function de(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"input",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"input",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"input",o.inputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.Aen(n.style),t.ZvI("line ",n.class," zerovalue"),t.AVh("highlight",null!=a.inputIndex&&a.inputData[_].index===a.inputIndex)("zerovalue",n.zeroValue),t.BMQ("d",n.path)}}function he(i,r){if(1&i){const e=t.RV6();t.qSk(),t.qex(0),t.DNE(1,ge,1,6,"path",41),t.j41(2,"path",42),t.bIt("pointerover",function(_){const a=t.eBV(e).index,o=t.XpG(2);return t.Njj(o.onHover(_,"input",a))})("pointerout",function(_){const a=t.eBV(e).index,o=t.XpG(2);return t.Njj(o.onBlur(_,"input",a))})("click",function(_){const a=t.eBV(e).index,o=t.XpG(2);return t.Njj(o.onClick(_,"input",o.inputData[a].index))}),t.k0s(),t.DNE(3,Te,1,10,"path",43)(4,de,1,10,"path",44),t.bVm()}if(2&i){const e=r.$implicit,n=r.index,_=t.XpG(2);t.R7$(),t.Y8G("ngIf",_.connectors&&!_.inputData[n].coinbase&&!_.inputData[n].pegin),t.R7$(),t.ZvI("input marker-target ",e.class,""),t.AVh("highlight",_.inputData[n].index===_.inputIndex),t.BMQ("d",e.markerPath),t.R7$(),t.Y8G("ngIf",!e.zeroValue),t.R7$(),t.Y8G("ngIf",e.zeroValue)}}function fe(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"output-connector",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"output-connector",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"output-connector",o.outputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.ZvI("output connector ",n.class,""),t.AVh("highlight",a.outputData[_].index===a.outputIndex),t.BMQ("d",n.connectorPath)}}function me(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"output",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"output",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"output",o.outputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.ZvI("output marker-target ",n.class,""),t.AVh("highlight",a.outputData[_].index===a.outputIndex),t.BMQ("d",n.markerPath)}}function Ee(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"output",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"output",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"output",o.outputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.Aen(n.style),t.ZvI("line ",n.class,""),t.AVh("highlight",null!=a.outputIndex&&a.outputData[_].index===a.outputIndex),t.x72("marker-start","url(#",n.class,"-arrow)"),t.BMQ("d",n.path)}}function Oe(i,r){if(1&i){const e=t.RV6();t.qSk(),t.j41(0,"path",42),t.bIt("pointerover",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onHover(_,"output",a))})("pointerout",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onBlur(_,"output",a))})("click",function(_){t.eBV(e);const a=t.XpG().index,o=t.XpG(2);return t.Njj(o.onClick(_,"output",o.outputData[a].index))}),t.k0s()}if(2&i){const e=t.XpG(),n=e.$implicit,_=e.index,a=t.XpG(2);t.Aen(n.style),t.ZvI("line ",n.class," zerovalue"),t.AVh("highlight",null!=a.outputIndex&&a.outputData[_].index===a.outputIndex)("zerovalue",n.zeroValue),t.BMQ("d",n.path)}}function Ce(i,r){if(1&i&&(t.qSk(),t.qex(0),t.DNE(1,fe,1,6,"path",41)(2,me,1,6,"path",41)(3,Ee,1,10,"path",43)(4,Oe,1,10,"path",44),t.bVm()),2&i){const e=r.$implicit,n=r.index,_=t.XpG(2);t.R7$(),t.Y8G("ngIf",_.connectors&&(null==_.outspends[_.outputData[n].index]?null:_.outspends[_.outputData[n].index].spent)),t.R7$(),t.Y8G("ngIf",!e.zeroValue),t.R7$(),t.Y8G("ngIf",!e.zeroValue),t.R7$(),t.Y8G("ngIf",e.zeroValue)}}function Pe(i,r){if(1&i&&(t.qSk(),t.j41(0,"svg",3)(1,"defs")(2,"marker",4),t.nrm(3,"path",5),t.k0s(),t.j41(4,"marker",6),t.nrm(5,"path",7),t.k0s(),t.nrm(6,"marker",8),t.j41(7,"radialGradient",9),t.nrm(8,"stop"),t.k0s(),t.j41(9,"radialGradient",10),t.nrm(10,"stop"),t.k0s(),t.j41(11,"radialGradient",11),t.nrm(12,"stop"),t.k0s(),t.j41(13,"linearGradient",12),t.nrm(14,"stop",13)(15,"stop",14),t.k0s(),t.j41(16,"linearGradient",15),t.nrm(17,"stop",13)(18,"stop",14),t.k0s(),t.j41(19,"linearGradient",16),t.nrm(20,"stop",13)(21,"stop",17),t.k0s(),t.j41(22,"linearGradient",18),t.nrm(23,"stop",19)(24,"stop",14),t.k0s(),t.j41(25,"linearGradient",20),t.nrm(26,"stop",13)(27,"stop",21)(28,"stop",22)(29,"stop",14),t.k0s(),t.j41(30,"linearGradient",23),t.nrm(31,"stop",13)(32,"stop",24)(33,"stop",25)(34,"stop",14),t.k0s(),t.j41(35,"linearGradient",26),t.nrm(36,"stop",27)(37,"stop",17),t.k0s(),t.j41(38,"linearGradient",28),t.nrm(39,"stop",19)(40,"stop",29),t.k0s(),t.j41(41,"linearGradient",30),t.nrm(42,"stop",13)(43,"stop",21)(44,"stop",31)(45,"stop",14),t.k0s(),t.j41(46,"linearGradient",32),t.nrm(47,"stop",13)(48,"stop",33)(49,"stop",25)(50,"stop",14),t.k0s(),t.j41(51,"linearGradient",34),t.nrm(52,"stop",13)(53,"stop",29),t.k0s(),t.j41(54,"linearGradient",35),t.nrm(55,"stop",13)(56,"stop",36)(57,"stop",37),t.k0s()(),t.DNE(58,ue,1,3,"path",38)(59,he,5,9,"ng-container",39)(60,Ce,5,4,"ng-container",39),t.k0s()),2&i){const e=t.XpG();t.AVh("rtl","rtl"===e.dir),t.BMQ("height",e.height+10+"px")("width",e.stateService.isBrowser?e.width+"px":"100%")("viewBox",e.stateService.isBrowser?null:"0 0 "+e.width+" "+(e.height+10))("preserveAspectRatio",e.stateService.isBrowser?null:"none"),t.R7$(3),t.BMQ("fill",e.gradient[0]),t.R7$(2),t.BMQ("fill",e.gradient[0]),t.R7$(3),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.BMQ("stop-color",e.gradient[2]),t.R7$(2),t.BMQ("stop-color",e.gradient[0]),t.R7$(),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[2]),t.R7$(),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[0]),t.R7$(),t.BMQ("stop-color",e.gradient[2]),t.R7$(2),t.BMQ("stop-color",e.gradient[0]),t.R7$(),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.BMQ("stop-color",e.gradient[0]),t.R7$(),t.BMQ("stop-color",e.gradient[0]),t.R7$(3),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[0]),t.R7$(3),t.BMQ("stop-color",e.gradient[0]),t.R7$(),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.BMQ("stop-color",e.gradient[0]),t.R7$(),t.BMQ("stop-color",e.gradient[0]),t.R7$(2),t.BMQ("stop-color",e.gradient[1]),t.R7$(3),t.BMQ("stop-color",e.gradient[1]),t.R7$(),t.BMQ("stop-color",e.gradient[1]),t.R7$(2),t.Y8G("ngIf",e.hasLine),t.R7$(),t.Y8G("ngForOf",e.inputs),t.R7$(),t.Y8G("ngForOf",e.outputs)}}function xe(i,r){if(1&i&&t.nrm(0,"app-tx-bowtie-graph-tooltip",45),2&i){const e=t.XpG();t.Y8G("line",e.hoverLine)("cursorPosition",e.tooltipPosition)("isConnector",e.hoverConnector)("assetsMinimal",e.assetsMinimal)}}let Ge=(()=>{class i{constructor(e,n,_,a,o,c){this.router=e,this.relativeUrlPipe=n,this.stateService=_,this.electrsApiService=a,this.assetsService=o,this.locale=c,this.cached=!1,this.width=1200,this.height=600,this.lineLimit=250,this.maxCombinedWeight=100,this.minWeight=2,this.maxStrands=24,this.tooltip=!1,this.connectors=!1,this.dir="ltr",this.isLiquid=!1,this.hoverLine=null,this.hoverConnector=!1,this.tooltipPosition={x:0,y:0},this.outspends=[],this.zeroValueWidth=60,this.zeroValueThickness=20,this.nativeAssetId="liquidtestnet"===this.stateService.network?f.c.nativeTestAssetId:f.c.nativeAssetId,this.refreshOutspends$=new s.m,this.gradientColors={"":["var(--mainnet-alt)","var(--primary)","color-mix(in srgb, var(--mainnet-alt) 1%, transparent)"],liquid:["#09a197","#0f62af","#09a19700"],liquidtestnet:["#d2d2d2","#979797","#d2d2d200"],testnet:["#4edf77","#10a0af","#4edf7700"],testnet4:["#4edf77","#10a0af","#4edf7700"],signet:["#d24fc8","#a84fd2","#d24fc800"]},this.gradient=["var(--primary)","var(--primary)"],(this.locale.startsWith("ar")||this.locale.startsWith("fa")||this.locale.startsWith("he"))&&(this.dir="rtl")}ngOnInit(){this.initGraph(),("liquid"===this.network||"liquidtestnet"===this.network)&&this.assetsService.getAssetsMinimalJson$.subscribe(e=>{this.assetsMinimal=e}),this.outspendsSubscription=(0,A.h)(this.refreshOutspends$.pipe((0,h.n)(e=>this.cached?(0,p.of)(null):this.electrsApiService.cachedRequest(this.electrsApiService.getOutspendsBatched$,250,[e])),(0,E.M)(e=>{!this.tx||!e||!e.length||(this.outspends=e[0])})),this.stateService.utxoSpent$.pipe((0,E.M)(e=>{for(const n in e)this.outspends[n]={spent:!0,txid:e[n].txid,vin:e[n].vin}}))).subscribe(()=>{})}ngOnChanges(){this.initGraph(),this.cached||this.refreshOutspends$.next(this.tx.txid)}initGraph(){this.isLiquid="liquid"===this.network||"liquidtestnet"===this.network,this.gradient=this.gradientColors[this.network],this.midWidth=Math.min(10,Math.ceil(this.width/100)),this.txWidth=this.connectors?Math.max(this.width-200,.8*this.width):this.width-20,this.combinedWeight=Math.min(this.maxCombinedWeight,Math.floor((this.txWidth-2*this.midWidth)/6)),this.connectorWidth=(this.width-this.txWidth)/2,this.zeroValueWidth=Math.max(20,Math.min(this.txWidth/2-this.midWidth-110,60));const e=this.calcTotalValue(this.tx);let n=this.tx.vout.map((o,c)=>({type:"fee"===o.scriptpubkey_type?"fee":"output",value:this.getOutputValue(o),displayValue:o?.value,address:o?.scriptpubkey_address||o?.scriptpubkey_type?.toUpperCase(),index:c,pegout:o?.pegout?.scriptpubkey_address,confidential:this.isLiquid&&void 0===o?.value,timestamp:this.tx.status.block_time,blockHeight:this.tx.status.block_height,asset:o?.asset}));this.tx.fee&&!this.isLiquid&&n.unshift({type:"fee",value:this.tx.fee});const _=n.length;let a=this.tx.vin.map((o,c)=>({type:"input",value:o?.is_coinbase&&!e?0:this.getInputValue(o),displayValue:o?.prevout?.value,txid:o.txid,vout:o.vout,address:o?.prevout?.scriptpubkey_address||o?.prevout?.scriptpubkey_type?.toUpperCase(),index:c,coinbase:o?.is_coinbase,pegin:o?.is_pegin,confidential:this.isLiquid&&void 0===o?.prevout?.value,timestamp:this.tx.status.block_time,blockHeight:this.tx.status.block_height,asset:o?.prevout?.asset}));if(a.length>this.lineLimit){const o=a.slice(this.lineLimit).reduce((c,g)=>c+(g.value||0),0);a=a.slice(0,this.lineLimit),a.push({type:"input",value:o,rest:this.tx.vin.length-this.lineLimit})}if(n.length>this.lineLimit){const o=n.slice(this.lineLimit).reduce((c,g)=>c+(g.value||0),0);n=n.slice(0,this.lineLimit),n.push({type:"output",value:o,rest:_-this.lineLimit})}this.inputData=a,this.outputData=n,this.inputs=this.initLines("in",a,e,this.maxStrands),this.outputs=this.initLines("out",n,e,this.maxStrands),this.middle={path:`M ${this.width/2-this.midWidth} ${this.height/2+.25} L ${this.width/2+this.midWidth} ${this.height/2+.25}`,style:`stroke-width: ${this.combinedWeight+.5}; stroke: ${this.gradient[1]}`},this.hasLine=this.inputs.reduce((o,c)=>o||!c.zeroValue,!1)&&this.outputs.reduce((o,c)=>o||!c.zeroValue,!1)}calcTotalValue(e){let n=this.tx.vout.reduce((_,a)=>(this.getOutputValue(a)||0)+_,0);if(this.isLiquid){const _=this.tx.vin.reduce((c,g)=>(this.getInputValue(g)||0)+c,0),a=this.tx.vin.reduce((c,g)=>c+(this.isUnknownInputValue(g)?1:0),0),o=this.tx.vout.reduce((c,g)=>c+(this.isUnknownOutputValue(g)?1:0),0);return a&&o?Math.max(_+_/(e.vin.length-a||1)*a,n+n/(e.vout.length-o||1)*o):Math.max(_,n)}return this.tx.fee?n+this.tx.fee:n}initLines(e,n,_,a){if(_){let o=0,c=_;n.forEach(x=>{null==x.value?o++:c-=x.value});const g=c/o,M=n.map(x=>this.combinedWeight*(null==x.value?g:x.value)/_);return this.linesFromWeights(e,n,M,a)}{const o=n.map(c=>this.combinedWeight/n.length);return this.linesFromWeights(e,n,o,a)}}linesFromWeights(e,n,_,a){const o=_.map((T,N)=>({weight:T,thickness:0===n[N].value?this.zeroValueThickness:Math.min(this.combinedWeight+.5,Math.max(this.minWeight-1,T)+1),offset:0,innerY:0,outerY:0})),c=Math.min(a,n.length),g=o.slice(0,c).reduce((T,N)=>N.thickness+T,0),x=this.height/2-this.combinedWeight/2,X=x+this.combinedWeight+.5;let v=0,j=x;const Y=Math.max(4,(this.height-g)/(c-1));let B=0,k=0,F=0,P=0,mt=0;return o.forEach((T,N)=>{if(0===n[N].value)return T.outerY=v+this.zeroValueThickness/2,1===n.length&&(T.outerY=this.height/2),void(v+=this.zeroValueThickness+Y);if(T.outerY=v+T.thickness/2,T.innerY=Math.min(X-T.thickness/2,Math.max(x+T.thickness/2,j+T.weight/2)),1===n.length&&(T.outerY=this.height/2),v+=T.thickness+Y,j+=T.weight,this.tooltip||!n[N].rest){const Se=(this.txWidth-Math.max(P,T.weight)-2*this.connectorWidth)/2,Et=(P+T.weight)/2,Ot=Math.atan2(1.5*(T.innerY-T.outerY),.75*Se);0!==Math.sin(Ot)&&(B+=Math.max(Math.min(Et*(1-Math.cos(Ot))/Math.sin(Ot),Et),-Et)),T.offset=B,k=Math.min(k,B),F=Math.max(F,B),mt=Math.max(mt,T.thickness/2),P=T.weight}}),o.forEach(T=>{T.offset-=k}),F-=k,o.map((T,N)=>0===n[N].value?{path:this.makeZeroValuePath(e,T.outerY),style:this.makeStyle(this.zeroValueThickness,n[N].type),class:n[N].type,zeroValue:!0}:{path:this.makePath(e,T.outerY,T.innerY,T.thickness,T.offset,mt+F),style:this.makeStyle(T.thickness,n[N].type),class:n[N].type,connectorPath:this.connectors?this.makeConnectorPath(e,T.outerY,T.innerY,T.thickness):null,markerPath:this.makeMarkerPath(e,T.outerY,T.innerY,T.thickness)})}makePath(e,n,_,a,o,c){const g=.5*a+this.connectorWidth,M=Math.max(g+5,c+this.connectorWidth-o),x=this.width/2-.9*this.midWidth+1,X=x-o-10,v=(M+X)/2;return Math.round(n)===Math.round(_)&&(n-=1),"in"===e?`M ${g} ${n} L ${M} ${n} C ${v} ${n}, ${v} ${_}, ${X} ${_} L ${x} ${_}`:`M ${this.width-g} ${n} L ${this.width-M} ${n} C ${this.width-v} ${n}, ${this.width-v} ${_}, ${this.width-X} ${_} L ${this.width-x} ${_}`}makeZeroValuePath(e,n){const _=this.zeroValueThickness/2,a=this.connectorWidth/2+10;return"in"===e?`M ${a+_} ${n} L ${a+this.zeroValueWidth+_} ${n}`:`M ${this.width-a-_} ${n} L ${this.width-a-this.zeroValueWidth-_} ${n}`}makeConnectorPath(e,n,_,a){const o=.5*a,c=10,g=this.connectorWidth;return Math.round(n)===Math.round(_)&&(n-=1),"in"===e?`M ${g-c} ${n-o} L ${o+g-c} ${n} L ${g-c} ${n+o} L -10 ${n+o} L -10 ${n-o}`:`M ${this.width-o-g+c} ${n-o} L ${this.width-g+c} ${n} L ${this.width-o-g+c} ${n+o} L ${this.width+10} ${n+o} L ${this.width+10} ${n-o}`}makeMarkerPath(e,n,_,a){const o=.5*a,c=10,g=this.connectorWidth;return Math.round(n)===Math.round(_)&&(n-=1),"in"===e?`M ${g-c} ${n-o} L ${o+g-c} ${n} L ${g-c} ${n+o} L ${a+g} ${n+o} L ${a+g} ${n-o}`:`M ${this.width-o-g+c} ${n-o} L ${this.width-g+c} ${n} L ${this.width-o-g+c} ${n+o} L ${this.width-o-g} ${n+o} L ${this.width-o-g} ${n-o}`}makeStyle(e,n){return`stroke-width: ${e}`}getOutputValue(e){return e?this.isLiquid&&e.asset!==this.nativeAssetId?null:e.value:null}getInputValue(e){return e?.prevout?this.isLiquid&&e.prevout.asset!==this.nativeAssetId?null:e.prevout.value:null}isUnknownInputValue(e){return null==e?.prevout?.value||this.isLiquid&&e?.prevout?.asset!==this.nativeAssetId}isUnknownOutputValue(e){return null==e?.value||this.isLiquid&&e?.asset!==this.nativeAssetId}onPointerMove(e){this.tooltipPosition="rtl"===this.dir?{x:this.width-e.offsetX,y:e.offsetY}:{x:e.offsetX,y:e.offsetY}}onHover(e,n,_){n.startsWith("input")?(this.hoverLine={...this.inputData[_],index:_},this.hoverConnector="input-connector"===n):(this.hoverLine={...this.outputData[_],...this.outspends[this.outputData[_].index]},this.hoverConnector="output-connector"===n)}onBlur(e,n,_){this.hoverLine=null,this.hoverConnector=!1}onClick(e,n,_){if(n.startsWith("input")){const a=this.tx.vin[_];"input-connector"===n&&a&&!a.is_coinbase&&!a.is_pegin&&a.txid&&null!=a.vout?this.router.navigate([this.relativeUrlPipe.transform("/tx"),a.txid],{queryParamsHandling:"merge",fragment:new URLSearchParams({flow:"",vout:a.vout.toString()}).toString()}):null!=_&&this.router.navigate([this.relativeUrlPipe.transform("/tx"),this.tx.txid],{queryParamsHandling:"merge",fragment:new URLSearchParams({flow:"",vin:_.toString()}).toString()})}else{const o=this.outspends[_];"output-connector"===n&&this.tx.vout[_]&&o&&o.spent&&o.txid?this.router.navigate([this.relativeUrlPipe.transform("/tx"),o.txid],{queryParamsHandling:"merge",fragment:new URLSearchParams({flow:"",vin:o.vin.toString()}).toString()}):null!=_&&this.router.navigate([this.relativeUrlPipe.transform("/tx"),this.tx.txid],{queryParamsHandling:"merge",fragment:new URLSearchParams({flow:"",vout:_.toString()}).toString()})}}static#t=this.\u0275fac=function(n){return new(n||i)(t.rXU(S.Ix),t.rXU(b.U),t.rXU($.d),t.rXU(G.o),t.rXU(W.T),t.rXU(t.xe9))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["tx-bowtie-graph"]],hostBindings:function(n,_){1&n&&t.bIt("pointermove",function(o){return _.onPointerMove(o)})},inputs:{tx:"tx",network:"network",cached:"cached",width:"width",height:"height",lineLimit:"lineLimit",maxCombinedWeight:"maxCombinedWeight",minWeight:"minWeight",maxStrands:"maxStrands",tooltip:"tooltip",connectors:"connectors",inputIndex:"inputIndex",outputIndex:"outputIndex"},features:[t.OA$],decls:3,vars:4,consts:[[1,"bowtie-graph"],["class","bowtie",3,"rtl",4,"ngIf"],[3,"line","cursorPosition","isConnector","assetsMinimal",4,"ngIf"],[1,"bowtie"],["id","input-arrow","viewBox","-5 -5 10 10","refX","0","refY","0","markerUnits","strokeWidth","markerWidth","1.5","markerHeight","1","orient","auto"],["d","M -5 -5 L 0 0 L -5 5 L 1 5 L 1 -5 Z","stroke-width","0"],["id","output-arrow","viewBox","-5 -5 10 10","refX","0","refY","0","markerUnits","strokeWidth","markerWidth","1.5","markerHeight","1","orient","auto"],["d","M 1 -5 L 0 -5 L -5 0 L 0 5 L 1 5 Z","stroke-width","0"],["id","fee-arrow","viewBox","-5 -5 10 10","refX","0","refY","0","markerUnits","strokeWidth","markerWidth","1.5","markerHeight","1","orient","auto"],["id","gradient0","x1","0%","y1","0%","x2","100%","y2","100%","gradientUnits","userSpaceOnUse"],["id","gradient1","x1","0%","y1","0%","x2","100%","y2","100%","gradientUnits","userSpaceOnUse"],["id","gradient2","x1","0%","y1","0%","x2","100%","y2","100%","gradientUnits","userSpaceOnUse"],["id","input-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","0%"],["offset","100%"],["id","output-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["id","input-connector-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","80%"],["id","output-connector-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","20%"],["id","input-hover-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","2%"],["offset","30%","stop-color","white"],["id","output-hover-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","70%","stop-color","white"],["offset","98%"],["id","input-hover-connector-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","0%","stop-color","white"],["id","output-hover-connector-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","100%","stop-color","white"],["id","input-highlight-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","30%","stop-color","var(--info)"],["id","output-highlight-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","70%","stop-color","var(--info)"],["id","fee-hover-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["id","fee-gradient","x1","0%","y1","0%","x2","100%","y2","0%"],["offset","50%"],["offset","100%","stop-color","transparent"],["class","line middle",3,"style",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"line","middle"],[3,"class","highlight","pointerover","pointerout","click",4,"ngIf"],[3,"pointerover","pointerout","click"],[3,"class","highlight","style","pointerover","pointerout","click",4,"ngIf"],[3,"class","highlight","zerovalue","style","pointerover","pointerout","click",4,"ngIf"],[3,"line","cursorPosition","isConnector","assetsMinimal"]],template:function(n,_){1&n&&(t.j41(0,"div",0),t.DNE(1,Pe,61,39,"svg",1)(2,xe,1,4,"app-tx-bowtie-graph-tooltip",2),t.k0s()),2&n&&(t.R7$(),t.Y8G("ngIf",_.inputs&&_.outputs),t.R7$(),t.Y8G("ngIf",t.eq3(2,ce,_.tooltip)))},dependencies:[R.Sq,R.bT,pe],styles:[".bowtie.rtl[_ngcontent-%COMP%]{transform:scaleX(-1)}.bowtie[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{fill:none}.bowtie[_ngcontent-%COMP%]   .line.input[_ngcontent-%COMP%]{stroke:url(#input-gradient)}.bowtie[_ngcontent-%COMP%]   .line.output[_ngcontent-%COMP%]{stroke:url(#output-gradient)}.bowtie[_ngcontent-%COMP%]   .line.fee[_ngcontent-%COMP%]{stroke:url(#fee-gradient)}.bowtie[_ngcontent-%COMP%]   .line.zerovalue[_ngcontent-%COMP%]{stroke:url(#gradient0);stroke-linecap:round}.bowtie[_ngcontent-%COMP%]   .line.highlight[_ngcontent-%COMP%]{z-index:8;cursor:pointer}.bowtie[_ngcontent-%COMP%]   .line.highlight.input[_ngcontent-%COMP%]{stroke:url(#input-highlight-gradient)}.bowtie[_ngcontent-%COMP%]   .line.highlight.output[_ngcontent-%COMP%]{stroke:url(#output-highlight-gradient)}.bowtie[_ngcontent-%COMP%]   .line.highlight.zerovalue[_ngcontent-%COMP%]{stroke:var(--info)}.bowtie[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover, .bowtie[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]:hover + .line[_ngcontent-%COMP%]{z-index:10;cursor:pointer}.bowtie[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover.input, .bowtie[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]:hover + .line.input[_ngcontent-%COMP%]{stroke:url(#input-hover-gradient)}.bowtie[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover.output, .bowtie[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]:hover + .line.output[_ngcontent-%COMP%]{stroke:url(#output-hover-gradient)}.bowtie[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover.fee, .bowtie[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]:hover + .line.fee[_ngcontent-%COMP%]{stroke:url(#fee-hover-gradient)}.bowtie[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]:hover.zerovalue, .bowtie[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]:hover + .line.zerovalue[_ngcontent-%COMP%]{stroke:#fff}.bowtie[_ngcontent-%COMP%]   .connector[_ngcontent-%COMP%]{stroke:none;opacity:.75;cursor:pointer}.bowtie[_ngcontent-%COMP%]   .connector.input[_ngcontent-%COMP%]{fill:url(#input-connector-gradient)}.bowtie[_ngcontent-%COMP%]   .connector.output[_ngcontent-%COMP%]{fill:url(#output-connector-gradient)}.bowtie[_ngcontent-%COMP%]   .connector[_ngcontent-%COMP%]:hover.input{fill:url(#input-hover-connector-gradient)}.bowtie[_ngcontent-%COMP%]   .connector[_ngcontent-%COMP%]:hover.output{fill:url(#output-hover-connector-gradient)}.bowtie[_ngcontent-%COMP%]   .marker-target[_ngcontent-%COMP%]{stroke:none;fill:transparent;cursor:pointer}"]})}return i})()},443:(at,w,d)=>{d.d(w,{D:()=>p});var t=d(177),s=d(9267),A=d(4438);let p=(()=>{class h{static#t=this.\u0275fac=function(S){return new(S||h)};static#e=this.\u0275mod=A.$C({type:h});static#n=this.\u0275inj=A.G2t({imports:[t.MD,s.G]})}return h})()},9561:(at,w,d)=>{d.d(w,{H:()=>ft});var t=d(9228),s=d(4438),A=d(2083),p=d(177),h=d(1760);function E(l,C){if(1&l&&(s.j41(0,"span",25),s.nI1(1,"number"),s.ehv(2,17),s.pXf(3,7),s.k0s()),2&l){const u=s.XpG(2);s.uP7(s.i5U(1,1,100*u.segwitGains.realizedSegwitGains,"1.0-0")),s.nnv(2)}}function f(l,C){if(1&l&&(s.j41(0,"span",27),s.nI1(1,"number"),s.nI1(2,"number"),s.ehv(3,18),s.pXf(4,8),s.k0s()),2&l){const u=s.XpG(3);s.uP7(s.i5U(1,2,100*u.segwitGains.realizedSegwitGains,"1.0-0"))(s.i5U(2,5,100*u.segwitGains.potentialSegwitGains,"1.0-0")),s.nnv(3)}}function S(l,C){if(1&l&&(s.j41(0,"span",29),s.nI1(1,"number"),s.nI1(2,"number"),s.ehv(3,19),s.j41(4,"del"),s.pXf(5,9),s.k0s()()),2&l){const u=s.XpG(4);s.uP7(s.i5U(1,2,100*u.segwitGains.potentialSegwitGains,"1.0-0"))(s.i5U(2,5,100*u.segwitGains.potentialP2shSegwitGains,"1.0-0")),s.nnv(3)}}function b(l,C){if(1&l&&s.DNE(0,S,6,8,"span",28),2&l){const u=s.XpG(3);s.Y8G("ngIf",u.segwitGains.potentialP2shSegwitGains)}}function $(l,C){if(1&l&&s.DNE(0,f,5,8,"span",26)(1,b,1,1,"ng-template",null,1,s.C5r),2&l){const u=s.sdS(2),m=s.XpG(2);s.Y8G("ngIf",m.segwitGains.realizedSegwitGains&&m.segwitGains.potentialSegwitGains)("ngIfElse",u)}}function G(l,C){if(1&l&&s.DNE(0,E,4,4,"span",24)(1,$,3,2,"ng-template",null,0,s.C5r),2&l){const u=s.sdS(2),m=s.XpG();s.Y8G("ngIf",m.segwitGains.realizedSegwitGains&&!m.segwitGains.potentialSegwitGains)("ngIfElse",u)}}function W(l,C){if(1&l&&(s.j41(0,"span",25),s.nI1(1,"number"),s.ehv(2,20),s.pXf(3,10),s.k0s()),2&l){const u=s.XpG(2);s.uP7(s.i5U(1,1,100*u.segwitGains.realizedTaprootGains,"1.0-0")),s.nnv(2)}}function R(l,C){if(1&l&&(s.j41(0,"span",27),s.nI1(1,"number"),s.nI1(2,"number"),s.ehv(3,21),s.pXf(4,11),s.k0s()),2&l){const u=s.XpG(3);s.uP7(s.i5U(1,2,100*u.segwitGains.realizedTaprootGains,"1.0-0"))(s.i5U(2,5,100*u.segwitGains.potentialTaprootGains,"1.0-0")),s.nnv(3)}}function rt(l,C){if(1&l&&(s.j41(0,"span",29),s.nI1(1,"number"),s.ehv(2,22),s.j41(3,"del"),s.pXf(4,12),s.k0s()()),2&l){const u=s.XpG(4);s.uP7(s.i5U(1,1,100*u.segwitGains.potentialTaprootGains,"1.0-0")),s.nnv(2)}}function lt(l,C){1&l&&(s.j41(0,"span",32)(1,"del"),s.pXf(2,13),s.k0s()())}function pt(l,C){if(1&l&&s.DNE(0,lt,3,0,"span",31),2&l){s.XpG();const u=s.sdS(4),m=s.XpG(3);s.Y8G("ngIf",!m.isTaproot)("ngIfElse",u)}}function ct(l,C){1&l&&(s.j41(0,"span",34),s.pXf(1,14),s.k0s())}function ut(l,C){if(1&l&&s.DNE(0,ct,2,0,"span",33),2&l){const u=s.XpG(4);s.Y8G("ngIf",u.isTaproot)}}function L(l,C){if(1&l&&s.DNE(0,rt,5,4,"span",30)(1,pt,1,2,"ng-template",null,4,s.C5r)(3,ut,1,1,"ng-template",null,5,s.C5r),2&l){const u=s.sdS(2),m=s.XpG(3);s.Y8G("ngIf",m.segwitGains.potentialTaprootGains&&m.segwitGains.potentialTaprootGains>0)("ngIfElse",u)}}function y(l,C){if(1&l&&s.DNE(0,R,5,8,"span",26)(1,L,5,2,"ng-template",null,3,s.C5r),2&l){const u=s.sdS(2),m=s.XpG(2);s.Y8G("ngIf",m.segwitGains.realizedTaprootGains&&m.segwitGains.potentialTaprootGains)("ngIfElse",u)}}function gt(l,C){if(1&l&&s.DNE(0,W,4,4,"span",24)(1,y,3,2,"ng-template",null,2,s.C5r),2&l){const u=s.sdS(2),m=s.XpG();s.Y8G("ngIf",m.segwitGains.realizedTaprootGains&&!m.segwitGains.potentialTaprootGains)("ngIfElse",u)}}function Tt(l,C){1&l&&(s.j41(0,"span",36),s.pXf(1,15),s.k0s())}function dt(l,C){1&l&&(s.j41(0,"span",37)(1,"del"),s.pXf(2,16),s.k0s()())}function ht(l,C){if(1&l&&s.DNE(0,Tt,2,0,"span",35)(1,dt,3,0,"ng-template",null,6,s.C5r),2&l){const u=s.sdS(2),m=s.XpG();s.Y8G("ngIf",m.isRbfTransaction)("ngIfElse",u)}}let ft=(()=>{class l{constructor(u){this.stateService=u,this.segwitGains={realizedSegwitGains:0,potentialSegwitGains:0,potentialP2shSegwitGains:0,potentialTaprootGains:0,realizedTaprootGains:0}}ngOnChanges(){this.tx&&(this.segwitEnabled=!this.tx.status.confirmed||(0,t.L4)(this.stateService.network,this.tx.status.block_height,"segwit"),this.taprootEnabled=!this.tx.status.confirmed||(0,t.L4)(this.stateService.network,this.tx.status.block_height,"taproot"),this.rbfEnabled=!this.tx.status.confirmed||(0,t.L4)(this.stateService.network,this.tx.status.block_height,"rbf"),this.segwitGains=(0,t.Pq)(this.tx),this.isRbfTransaction=this.tx.vin.some(u=>u.sequence<4294967294),this.isTaproot=this.tx.vin.some(u=>u.prevout&&"v1_p2tr"===u.prevout.scriptpubkey_type))}static#t=this.\u0275fac=function(m){return new(m||l)(s.rXU(A.d))};static#e=this.\u0275cmp=s.VBU({type:l,selectors:[["app-tx-features"]],inputs:{tx:"tx"},features:[s.OA$],decls:3,vars:3,consts:()=>{let u,m,I,H,z,q,Q,Z,K,J,tt,et,U,nt,D,it,V,ot,_t,st;return u="Esta transacci\xF3n ahorr\xF3 " + "\ufffd0\ufffd" + "% en tasas usando SegWit nativo",m="SegWit",I="Esta transacci\xF3n ahorr\xF3 " + "\ufffd0\ufffd" + "% de tasas usando Segwit y podr\xEDa haber ahorrado " + "\ufffd1\ufffd" + "% m\xE1s actualizando a Segwit nativo",H="SegWit",z="Esta transacci\xF3n podr\xEDa ahorrar " + "\ufffd0\ufffd" + "% en tasas actualizando a Segwit nativo o " + "\ufffd1\ufffd" + "% actualizando a SegWit-P2SH",q="SegWit",Q="Esta transacci\xF3n usa Taproot y por tanto ahorr\xF3 al menos " + "\ufffd0\ufffd" + "% en tasas",Z="Taproot",K="Esta transacci\xF3n usa Taproot y ahorra al menos " + "\ufffd0\ufffd" + "% en tasas, pero podr\xEDa ahorrar adicionalmente " + "\ufffd1\ufffd" + "% usando Taproot completamente",J="Taproot",tt="Esta transacci\xF3n podr\xEDa ahorrar  " + "\ufffd0\ufffd" + "% de tasas usando Taproot",et="Taproot",U="Esta transacci\xF3n no usa Taproot",nt="Taproot",D="Esta transacci\xF3n utiliza Taproot",it="Taproot",V="Esta transacci\xF3n soporta Reemplazar-Por-Tasa (RBF) y permite aumentar las tasas",ot="RBF",_t="Esta transacci\xF3n NO soporta Reemplazar-Por-Tasa (RBF) y no puede aumentarse su tasa usando este m\xE9todo",st="RBF",[["segwitTwo",""],["potentialP2shSegwitGains",""],["notFullyTaproot",""],["noTaproot",""],["negativeTaprootGains",""],["taprootButNoGains",""],["rbfDisabled",""],m,H,q,Z,J,et,nt,it,ot,st,["ngbTooltip",u],["ngbTooltip",I],["ngbTooltip",z],["ngbTooltip",Q],["ngbTooltip",K],["ngbTooltip",tt],[3,"ngIf"],["class","badge badge-success mr-1","placement","bottom",3,"ngbTooltip",4,"ngIf","ngIfElse"],["placement","bottom",1,"badge","badge-success","mr-1",6,"ngbTooltip"],["class","badge badge-warning mr-1","placement","bottom",3,"ngbTooltip",4,"ngIf","ngIfElse"],["placement","bottom",1,"badge","badge-warning","mr-1",6,"ngbTooltip"],["class","badge badge-danger mr-1","placement","bottom",3,"ngbTooltip",4,"ngIf"],["placement","bottom",1,"badge","badge-danger","mr-1",6,"ngbTooltip"],["class","badge badge-danger mr-1","placement","bottom",3,"ngbTooltip",4,"ngIf","ngIfElse"],["class","badge badge-danger mr-1","ngbTooltip",U,"placement","bottom",4,"ngIf","ngIfElse"],["ngbTooltip",U,"placement","bottom",1,"badge","badge-danger","mr-1"],["class","badge badge-success mr-1","ngbTooltip",D,"placement","bottom",4,"ngIf"],["ngbTooltip",D,"placement","bottom",1,"badge","badge-success","mr-1"],["class","badge badge-success","ngbTooltip",V,"placement","bottom",4,"ngIf","ngIfElse"],["ngbTooltip",V,"placement","bottom",1,"badge","badge-success"],["ngbTooltip",_t,"placement","bottom",1,"badge","badge-danger","mr-1"]]},template:function(m,I){1&m&&s.DNE(0,G,3,2,"ng-template",23)(1,gt,3,2,"ng-template",23)(2,ht,3,2,"ng-template",23),2&m&&(s.Y8G("ngIf",I.segwitEnabled),s.R7$(),s.Y8G("ngIf",I.taprootEnabled),s.R7$(),s.Y8G("ngIf",I.rbfEnabled))},dependencies:[p.bT,h.md,p.QX],changeDetection:0})}return l})()}}]);