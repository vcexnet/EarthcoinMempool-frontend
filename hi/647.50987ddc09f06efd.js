"use strict";(self.webpackChunkmempool=self.webpackChunkmempool||[]).push([[647],{7436:(oe,w,r)=>{r.d(w,{r:()=>F});var _=r(4438);let F=(()=>{class m{constructor(){this.type=0}ngOnChanges(){this.label=this.getLabelFromType(this.type)}getLabelFromType(k){switch(k){case 1:return{label:"\u092A\u0930\u0938\u094D\u092A\u0930 \u092C\u0902\u0926",class:"success"};case 2:return{label:"\u092C\u0932\u092A\u0942\u0930\u094D\u0935\u0915 \u092C\u0902\u0926",class:"warning"};case 3:return{label:"\u0926\u0902\u0921 \u0915\u0947 \u0938\u093E\u0925 \u092C\u0932\u092A\u0942\u0930\u094D\u0935\u0915 \u092C\u0902\u0926 \u0915\u093F\u092F\u093E \u0917\u092F\u093E",class:"danger"};default:return{label:"\u0905\u091C\u094D\u091E\u093E\u0924",class:"secondary"}}}static#e=this.\u0275fac=function(R){return new(R||m)};static#t=this.\u0275cmp=_.VBU({type:m,selectors:[["app-closing-type"]],inputs:{type:"type"},features:[_.OA$],decls:2,vars:4,template:function(R,e){1&R&&(_.j41(0,"span"),_.EFF(1),_.k0s()),2&R&&(_.ZvI("badge badge-pill badge-",e.label.class,""),_.R7$(),_.JRh(e.label.label))},changeDetection:0})}return m})()},5647:(oe,w,r)=>{r.r(w),r.d(w,{LightningModule:()=>ks});var _=r(177),F=r(9267),m=r(8357),T=r(8185),k=r(7786),R=r(7647),e=r(4438),E=r(2251),B=r(1954),M=r(2083),y=r(60),f=r(1760),$=r(5326),I=r(4799),v=r(5131);let H=(()=>{class n{constructor(){}ngOnChanges(){this.change=this.previous?(this.current-this.previous)/this.previous*100:0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-change"]],inputs:{current:"current",previous:"previous"},features:[e.OA$],decls:3,vars:6,template:function(i,o){1&i&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"amountShortener"),e.k0s()),2&i&&(e.Aen(o.change>=0?"color: #42B747":"color: #B74242"),e.R7$(),e.Lme(" \u200e",o.change>=0?"+":"","",e.bMT(2,4,o.change),"%\n"))},dependencies:[v.x],changeDetection:0})}return n})();function ze(n,s){if(1&n&&(e.j41(0,"span",18),e.nrm(1,"app-fiat",19),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.Y8G("value",null==t.latest?null:t.latest.total_capacity)}}function Be(n,s){if(1&n&&(e.j41(0,"span",18),e.nrm(1,"app-change",20),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.Y8G("current",null==t.latest?null:t.latest.node_count)("previous",null==t.previous?null:t.previous.node_count)}}function Ue(n,s){if(1&n&&(e.j41(0,"span",18),e.nrm(1,"app-change",20),e.k0s()),2&n){const t=e.XpG().ngIf;e.R7$(),e.Y8G("current",null==t.latest?null:t.latest.channel_count)("previous",null==t.previous?null:t.previous.channel_count)}}function Je(n,s){if(1&n&&(e.j41(0,"div",8)(1,"div",9)(2,"div",10)(3,"h5",11),e.pXf(4,1),e.k0s(),e.j41(5,"div",12)(6,"div",13),e.nrm(7,"app-amount",14),e.k0s(),e.DNE(8,ze,2,1,"span",15),e.k0s()(),e.j41(9,"div",10)(10,"h5",11),e.pXf(11,2),e.k0s(),e.j41(12,"div",16)(13,"div",13),e.EFF(14),e.nI1(15,"number"),e.k0s(),e.DNE(16,Be,2,2,"span",15),e.k0s()(),e.j41(17,"div",10)(18,"h5",11),e.pXf(19,3),e.k0s(),e.j41(20,"div",17)(21,"div",13),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.DNE(24,Ue,2,2,"span",15),e.k0s()()()()),2&n){const t=s.ngIf;e.R7$(2),e.HbH(t.previous?"":"more-padding"),e.R7$(3),e.Y8G("disableTooltip",!t.previous),e.R7$(),e.HbH(t.previous?"":"no-border"),e.R7$(),e.Y8G("satoshis",null==t.latest?null:t.latest.total_capacity)("noFiat",!0),e.R7$(),e.Y8G("ngIf",t.previous),e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(3),e.Y8G("disableTooltip",!t.previous),e.R7$(),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.bMT(15,22,(null==t.latest?null:t.latest.node_count)||0)," "),e.R7$(2),e.Y8G("ngIf",t.previous),e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(3),e.Y8G("disableTooltip",!t.previous),e.R7$(),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.bMT(23,24,(null==t.latest?null:t.latest.channel_count)||0)," "),e.R7$(2),e.Y8G("ngIf",t.previous)}}function Ve(n,s){1&n&&(e.j41(0,"div",21)(1,"div",10)(2,"h5",11),e.pXf(3,4),e.k0s(),e.j41(4,"div",22),e.nrm(5,"div",23)(6,"div",23),e.k0s()(),e.j41(7,"div",10)(8,"h5",11),e.pXf(9,5),e.k0s(),e.j41(10,"div",22),e.nrm(11,"div",23)(12,"div",23),e.k0s()(),e.j41(13,"div",10)(14,"h5",11),e.pXf(15,6),e.k0s(),e.j41(16,"div",22),e.nrm(17,"div",23)(18,"div",23),e.k0s()()())}let qe=(()=>{class n{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-node-statistics"]],inputs:{statistics$:"statistics$"},decls:4,vars:4,consts:()=>{let t,i,o,a,l,c,g,d,C;return t="\u092A\u093F\u091B\u0932\u0947 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u094D\u0930\u0924\u093F\u0936\u0924 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928",i="\u092A\u093F\u091B\u0932\u0947 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u094D\u0930\u0924\u093F\u0936\u0924 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928",o="\u092A\u093F\u091B\u0932\u0947 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u094D\u0930\u0924\u093F\u0936\u0924 \u092A\u0930\u093F\u0935\u0930\u094D\u0924\u0928",a="\u0915\u094D\u0937\u092E\u0924\u093E",l="\u0928\u094B\u0921\u094D\u0938",c="\u091A\u0948\u0928\u0932",g="\u0915\u094D\u0937\u092E\u0924\u093E",d="\u0928\u094B\u0921\u094D\u0938",C="\u091A\u0948\u0928\u0932",[["loadingReward",""],a,l,c,g,d,C,["class","fee-estimation-wrapper",4,"ngIf","ngIfElse"],[1,"fee-estimation-wrapper"],[1,"fee-estimation-container"],[1,"item"],[1,"card-title"],["ngbTooltip",t,"placement","bottom",1,"card-text",3,"disableTooltip"],[1,"fee-text"],["digitsInfo","1.2-2",3,"satoshis","noFiat"],["class","fiat",4,"ngIf"],["ngbTooltip",i,1,"card-text",3,"disableTooltip"],["ngbTooltip",o,1,"card-text",3,"disableTooltip"],[1,"fiat"],["digitsInfo","1.0-0",3,"value"],[3,"current","previous"],[1,"fee-estimation-container","loading-container"],[1,"card-text"],[1,"skeleton-loader"]]},template:function(i,o){if(1&i&&(e.DNE(0,Je,25,26,"div",7),e.nI1(1,"async"),e.DNE(2,Ve,19,0,"ng-template",null,0,e.C5r)),2&i){const a=e.sdS(3);e.Y8G("ngIf",e.bMT(1,2,o.statistics$))("ngIfElse",a)}},dependencies:[_.bT,f.md,$.k,I.Y,H,_.Jj,_.QX],styles:[".card-title[_ngcontent-%COMP%]{color:var(--title-fg);font-size:10px;margin-bottom:4px;font-size:1rem}.card-text[_ngcontent-%COMP%]{font-size:22px}.card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;position:relative;top:-2px;display:inline-flex}.card-text[_ngcontent-%COMP%]   .green-color[_ngcontent-%COMP%]{display:block}.fee-estimation-wrapper[_ngcontent-%COMP%]{min-height:77px}.fee-estimation-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (min-width: 376px){.fee-estimation-container[_ngcontent-%COMP%]{flex-direction:row}}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{max-width:150px;margin:0;width:-webkit-fill-available}@media (min-width: 376px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0 auto}}.fee-estimation-container[_ngcontent-%COMP%]   .item.more-padding[_ngcontent-%COMP%]{padding-top:10px}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{margin-bottom:0;display:none}@media (min-width: 485px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{display:block}}@media (min-width: 768px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{display:none}}@media (min-width: 992px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{display:block}}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px;top:0}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .fee-text[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1098039216);width:-moz-fit-content;width:fit-content;margin:auto;line-height:1.45;padding:0 2px}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .fee-text.no-border[_ngcontent-%COMP%]{border-bottom:none}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .fiat[_ngcontent-%COMP%]{display:block;font-size:14px!important}.loading-container[_ngcontent-%COMP%]{min-height:76px}.card-text[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{width:100%;display:block}.card-text[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:first-child{max-width:90px;margin:15px auto 3px}.card-text[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:last-child{margin:10px auto 3px;max-width:55px}"],changeDetection:0})}return n})();var Ke=r(562),We=r(9303);const Se=n=>({inactive:n});function Qe(n,s){if(1&n&&(e.j41(0,"span",32),e.nrm(1,"app-fiat",33),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("value",null==t.latest?null:t.latest.avg_capacity)}}function Ze(n,s){if(1&n&&(e.j41(0,"span",32),e.nrm(1,"app-change",34),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("current",null==t.latest?null:t.latest.avg_fee_rate)("previous",null==t.previous?null:t.previous.avg_fee_rate)}}function et(n,s){if(1&n&&(e.j41(0,"span",32),e.nrm(1,"app-change",34),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("current",null==t.latest?null:t.latest.avg_base_fee_mtokens)("previous",null==t.previous?null:t.previous.avg_base_fee_mtokens)}}function tt(n,s){if(1&n&&(e.j41(0,"div",24)(1,"div",25)(2,"h5",26),e.pXf(3,3),e.k0s(),e.j41(4,"div",27)(5,"div",28),e.EFF(6),e.nI1(7,"number"),e.j41(8,"span"),e.pXf(9,4),e.k0s()(),e.DNE(10,Qe,2,1,"span",29),e.k0s()(),e.j41(11,"div",25)(12,"h5",26),e.pXf(13,5),e.k0s(),e.j41(14,"div",30)(15,"div",28),e.EFF(16),e.nI1(17,"number"),e.j41(18,"span"),e.pXf(19,6),e.k0s()(),e.DNE(20,Ze,2,2,"span",29),e.k0s()(),e.j41(21,"div",25)(22,"h5",26),e.pXf(23,7),e.k0s(),e.j41(24,"div",31)(25,"div",27)(26,"div",28),e.EFF(27),e.nI1(28,"number"),e.j41(29,"span"),e.pXf(30,8),e.k0s()(),e.DNE(31,et,2,2,"span",29),e.k0s()()()()),2&n){const t=e.XpG().ngIf;e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(4),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.i5U(7,18,(null==t.latest?null:t.latest.avg_capacity)||0,"1.0-0")," "),e.R7$(4),e.Y8G("ngIf",t.previous),e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(4),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.i5U(17,21,(null==t.latest?null:t.latest.avg_fee_rate)||0,"1.0-0")," "),e.R7$(4),e.Y8G("ngIf",t.previous),e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(5),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.i5U(28,24,(null==t.latest?null:t.latest.avg_base_fee_mtokens)||0,"1.0-0")," "),e.R7$(4),e.Y8G("ngIf",t.previous)}}function nt(n,s){if(1&n&&(e.j41(0,"span",32),e.nrm(1,"app-fiat",33),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("value",null==t.latest?null:t.latest.med_capacity)}}function it(n,s){if(1&n&&(e.j41(0,"span",32),e.nrm(1,"app-change",34),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("current",null==t.latest?null:t.latest.med_fee_rate)("previous",null==t.previous?null:t.previous.med_fee_rate)}}function ot(n,s){if(1&n&&(e.j41(0,"span",32),e.nrm(1,"app-change",34),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("current",null==t.latest?null:t.latest.med_base_fee_mtokens)("previous",null==t.previous?null:t.previous.med_base_fee_mtokens)}}function st(n,s){if(1&n&&(e.j41(0,"div",24)(1,"div",25)(2,"h5",26),e.pXf(3,9),e.k0s(),e.j41(4,"div",27)(5,"div",28),e.EFF(6),e.nI1(7,"number"),e.j41(8,"span"),e.pXf(9,10),e.k0s()(),e.DNE(10,nt,2,1,"span",29),e.k0s()(),e.j41(11,"div",25)(12,"h5",26),e.pXf(13,11),e.k0s(),e.j41(14,"div",35)(15,"div",28),e.EFF(16),e.nI1(17,"number"),e.j41(18,"span"),e.pXf(19,12),e.k0s()(),e.DNE(20,it,2,2,"span",29),e.k0s()(),e.j41(21,"div",25)(22,"h5",26),e.pXf(23,13),e.k0s(),e.j41(24,"div",36)(25,"div",27)(26,"div",28),e.EFF(27),e.nI1(28,"number"),e.j41(29,"span"),e.pXf(30,14),e.k0s()()(),e.DNE(31,ot,2,2,"span",29),e.k0s()()()),2&n){const t=e.XpG().ngIf;e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(4),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.i5U(7,18,(null==t.latest?null:t.latest.med_capacity)||0,"1.0-0")," "),e.R7$(4),e.Y8G("ngIf",t.previous),e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(4),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.i5U(17,21,(null==t.latest?null:t.latest.med_fee_rate)||0,"1.0-0")," "),e.R7$(4),e.Y8G("ngIf",t.previous),e.R7$(),e.HbH(t.previous?"":"more-padding"),e.R7$(5),e.HbH(t.previous?"":"no-border"),e.R7$(),e.SpI(" ",e.i5U(28,24,(null==t.latest?null:t.latest.med_base_fee_mtokens)||0,"1.0-0")," "),e.R7$(4),e.Y8G("ngIf",t.previous)}}function at(n,s){if(1&n&&(e.j41(0,"div",22),e.DNE(1,tt,32,27,"div",23)(2,st,32,27,"div",23),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngIf","avg"===t.mode),e.R7$(),e.Y8G("ngIf","med"===t.mode)}}function _t(n,s){1&n&&(e.j41(0,"div",37)(1,"div",25)(2,"h5",26),e.pXf(3,15),e.k0s(),e.j41(4,"div",27),e.nrm(5,"div",38)(6,"div",38),e.k0s()(),e.j41(7,"div",25)(8,"h5",26),e.pXf(9,16),e.k0s(),e.j41(10,"div",27),e.nrm(11,"div",38)(12,"div",38),e.k0s()(),e.j41(13,"div",25)(14,"h5",26),e.pXf(15,17),e.k0s(),e.j41(16,"div",27),e.nrm(17,"div",38)(18,"div",38),e.k0s()()())}let lt=(()=>{class n{constructor(){this.mode="avg"}ngOnInit(){}switchMode(t){return this.mode=t,!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-channels-statistics"]],inputs:{statistics$:"statistics$"},decls:13,vars:10,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P,S,b,p,G,V,q,K,W,Q;return t="\u0914\u0938\u0924",i="\u092E\u0947\u0921",o="\u0930\u0942\u091F\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0926\u094D\u0935\u093E\u0930\u093E \u0932\u0940 \u091C\u093E\u0928\u0947 \u0935\u093E\u0932\u0940 \u0914\u0938\u0924 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930, 0.5% \u092F\u093E 5000ppm \u0938\u0947 \u0905\u0927\u093F\u0915 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930\u094B\u0902 \u0915\u094B \u0905\u0928\u0926\u0947\u0916\u093E \u0915\u0930\u0924\u0947 \u0939\u0941\u090F",a="\u0930\u0942\u091F\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0926\u094D\u0935\u093E\u0930\u093E \u0932\u093F\u092F\u093E \u091C\u093E\u0928\u0947 \u0935\u093E\u0932\u093E \u0914\u0938\u0924 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915, 5000ppm \u0938\u0947 \u0905\u0927\u093F\u0915 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915 \u0915\u094B \u0905\u0928\u0926\u0947\u0916\u093E \u0915\u0930\u0924\u0947 \u0939\u0941\u090F",l="\u0914\u0938\u0924 \u0915\u094D\u0937\u092E\u0924\u093E",c="\u0938\u0948\u091F\u094D\u0938",g="\u0914\u0938\u0924 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930",d="\u092A\u0940\u092A\u0940\u090F\u092E",C="\u0914\u0938\u0924 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",N="\u090F\u092E\u0938\u0948\u091F\u094D\u0938",u="\u0930\u0942\u091F\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0926\u094D\u0935\u093E\u0930\u093E \u0932\u0940 \u091C\u093E\u0928\u0947 \u0935\u093E\u0932\u0940 \u092E\u093E\u0927\u094D\u092F\u0915 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930, 0.5% \u092F\u093E 5000ppm \u0938\u0947 \u0905\u0927\u093F\u0915 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930\u094B\u0902 \u0915\u094B \u0905\u0928\u0926\u0947\u0916\u093E \u0915\u0930\u0924\u0947 \u0939\u0941\u090F",P="\u0930\u0942\u091F\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0926\u094D\u0935\u093E\u0930\u093E \u0932\u093F\u092F\u093E \u091C\u093E\u0928\u0947 \u0935\u093E\u0932\u093E \u092E\u093E\u0927\u094D\u092F\u0915 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915, 5000ppm \u0938\u0947 \u0905\u0927\u093F\u0915 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915 \u0915\u094B \u0905\u0928\u0926\u0947\u0916\u093E \u0915\u0930\u0924\u0947 \u0939\u0941\u090F",S="\u092E\u0927\u094D\u092F\u092E \u0915\u094D\u0937\u092E\u0924\u093E",b="\u0938\u0948\u091F\u094D\u0938",p="\u092E\u0947\u0921 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930",G="\u092A\u0940\u092A\u0940\u090F\u092E",V="\u092E\u0947\u0921 \u092C\u0947\u0938 \u0936\u0941\u0932\u094D\u0915",q="\u090F\u092E\u0938\u0948\u091F\u094D\u0938",K="\u0914\u0938\u0924 \u0915\u094D\u0937\u092E\u0924\u093E",W="\u0914\u0938\u0924 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930",Q="\u0914\u0938\u0924 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",[["loadingReward",""],t,i,l,c,g,d,C,N,S,b,p,G,V,q,K,W,Q,[1,"widget-toggler"],["href","",1,"toggler-option",3,"click","ngClass"],[2,"color","var(--transparent-fg)","font-size","8px"],["class","fee-estimation-wrapper",4,"ngIf","ngIfElse"],[1,"fee-estimation-wrapper"],["class","fee-estimation-container",4,"ngIf"],[1,"fee-estimation-container"],[1,"item"],[1,"card-title"],[1,"card-text"],[1,"fee-text"],["class","fiat",4,"ngIf"],["ngbTooltip",o,"placement","bottom",1,"card-text"],["ngbTooltip",a,"placement","bottom",1,"card-text"],[1,"fiat"],["digitsInfo","1.0-0",3,"value"],[3,"current","previous"],["ngbTooltip",u,"placement","bottom",1,"card-text"],["ngbTooltip",P,"placement","bottom",1,"card-text"],[1,"fee-estimation-container","loading-container"],[1,"skeleton-loader"]]},template:function(i,o){if(1&i){const a=e.RV6();e.j41(0,"div",18)(1,"a",19),e.bIt("click",function(){return e.eBV(a),e.Njj(o.switchMode("avg"))}),e.j41(2,"small"),e.pXf(3,1),e.k0s()(),e.j41(4,"span",20),e.EFF(5," | "),e.k0s(),e.j41(6,"a",19),e.bIt("click",function(){return e.eBV(a),e.Njj(o.switchMode("med"))}),e.j41(7,"small"),e.pXf(8,2),e.k0s()()(),e.DNE(9,at,3,2,"div",21),e.nI1(10,"async"),e.DNE(11,_t,19,0,"ng-template",null,0,e.C5r)}if(2&i){const a=e.sdS(12);e.R7$(),e.Y8G("ngClass",e.eq3(6,Se,"avg"===o.mode)),e.R7$(5),e.Y8G("ngClass",e.eq3(8,Se,"med"===o.mode)),e.R7$(3),e.Y8G("ngIf",e.bMT(10,4,o.statistics$))("ngIfElse",a)}},dependencies:[_.YU,_.bT,f.md,$.k,H,_.Jj,_.QX],styles:[".card-title[_ngcontent-%COMP%]{color:var(--title-fg);font-size:10px;margin-bottom:4px;font-size:1rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card-text[_ngcontent-%COMP%]{font-size:22px}.card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:11px;position:relative;top:-2px;display:inline-flex}.card-text[_ngcontent-%COMP%]   .green-color[_ngcontent-%COMP%]{display:block}.fee-estimation-wrapper[_ngcontent-%COMP%]{min-height:77px}.fee-estimation-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}@media (min-width: 376px){.fee-estimation-container[_ngcontent-%COMP%]{flex-direction:row}}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{max-width:150px;margin:0;width:-webkit-fill-available}@media (min-width: 376px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:0 auto}}.fee-estimation-container[_ngcontent-%COMP%]   .item.more-padding[_ngcontent-%COMP%]{padding-top:10px}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:first-child{display:none}@media (min-width: 485px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:first-child{display:block}}@media (min-width: 768px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:first-child{display:none}}@media (min-width: 992px){.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:first-child{display:block}}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:last-child{margin-bottom:0}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px;top:0}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .fee-text[_ngcontent-%COMP%]{border-bottom:1px solid rgba(255,255,255,.1098039216);width:-moz-fit-content;width:fit-content;margin:auto;line-height:1.45;padding:0 2px}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .fee-text.no-border[_ngcontent-%COMP%]{border-bottom:none}.fee-estimation-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .fiat[_ngcontent-%COMP%]{display:block;font-size:14px!important}.loading-container[_ngcontent-%COMP%]{min-height:76px}.card-text[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]{width:100%;display:block}.card-text[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:first-child{max-width:90px;margin:15px auto 3px}.card-text[_ngcontent-%COMP%]   .skeleton-loader[_ngcontent-%COMP%]:last-child{margin:10px auto 3px;max-width:55px}.widget-toggler[_ngcontent-%COMP%]{font-size:12px;position:absolute;top:-20px;right:3px;text-align:right}.toggler-option[_ngcontent-%COMP%]{text-decoration:none}.inactive[_ngcontent-%COMP%]{color:var(--transparent-fg)}"],changeDetection:0})}return n})();var ct=r(8184),se=r(2589),U=r(4572),L=r(6354),Y=r(3417),X=r(9862);function dt(n,s){if(1&n&&e.nrm(0,"span",4),2&n){const t=e.XpG();e.Y8G("innerHTML",t.formattedLocation,e.npT)}}function rt(n,s){}let z=(()=>{class n{constructor(){this.formattedLocation=""}ngOnChanges(){if(!this.data)return void(this.formattedLocation="-");const t=this.data.city?this.data.city:"",i=this.data.city===this.data.subdivision;let o=this.data.subdivision;if(!1===["US","CA"].includes(this.data.iso)||"node"===this.type&&i?this.data.subdivision=void 0:!0===["list-isp","list-country"].includes(this.type)&&(o=(0,X.Mf)(this.data.subdivision,"abbreviated")),"list-country"===this.type&&(this.data.city?this.data.city&&(this.formattedLocation+=" "+t,this.data.subdivision&&(this.formattedLocation+=", "+o)):this.formattedLocation="-"),"list-isp"===this.type&&(this.data.country||this.data.city?(this.formattedLocation=this.data.country?(0,X.tO)(this.data.iso):"",this.data.city?(this.formattedLocation+=" "+t,this.data.subdivision&&(this.formattedLocation+=", "+o)):this.formattedLocation+=" "+this.data.country):this.formattedLocation="-"),"node"===this.type){const a=this.data.city?this.data.city:"";return a&&a===this.data?.country?void(this.formattedLocation=`${this.data.country} ${(0,X.tO)(this.data.iso)}`):(this.formattedLocation=`${a}`,this.formattedLocation.length>0&&!i&&(this.formattedLocation+=", "),i||(this.formattedLocation+=`${o}`),void(this.data?.country.length&&(this.formattedLocation?.length&&!i?this.formattedLocation+="<br>":this.data.city&&(this.formattedLocation+=", "),this.formattedLocation+=`${this.data.country} ${(0,X.tO)(this.data.iso)}`)))}}isEllipsisActive(t){return t.offsetWidth<t.scrollWidth}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-geolocation"]],inputs:{data:"data",type:"type"},features:[e.OA$],decls:5,vars:3,consts:[["formattedLocationHtml",""],["formattedLocationEl",""],[1,"d-block","text-truncate",3,"ngbTooltip","disableTooltip"],[3,"ngTemplateOutlet"],[3,"innerHTML"]],template:function(i,o){if(1&i&&(e.DNE(0,dt,1,1,"ng-template",null,0,e.C5r),e.j41(2,"span",2,1),e.DNE(4,rt,0,0,"ng-template",3),e.k0s()),2&i){const a=e.sdS(1),l=e.sdS(3);e.R7$(2),e.Y8G("ngbTooltip",a)("disableTooltip",!o.isEllipsisActive(l)),e.R7$(2),e.Y8G("ngTemplateOutlet",a)}},dependencies:[_.T3,f.md]})}return n})();var x=r(6631);const gt=(n,s)=>({widget:n,"full-height":s}),pt=n=>({widget:n}),Nt=(n,s)=>[n,s];function ft(n,s){1&n&&(e.j41(0,"h1",20),e.pXf(1,3),e.k0s())}function Ct(n,s){1&n&&(e.j41(0,"th",21),e.pXf(1,4),e.k0s())}function Tt(n,s){if(1&n&&(e.j41(0,"th",22),e.EFF(1),e.nI1(2,"async"),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.JRh(e.bMT(2,1,t.currency$))}}function ut(n,s){1&n&&(e.j41(0,"th",23),e.pXf(1,5),e.k0s())}function St(n,s){1&n&&(e.j41(0,"th",23),e.pXf(1,6),e.k0s())}function ht(n,s){if(1&n&&(e.j41(0,"td",35),e.nrm(1,"app-amount",36),e.j41(2,"span",30),e.EFF(3),e.nI1(4,"number"),e.k0s()()),2&n){const t=e.XpG().$implicit,i=e.XpG().ngIf;e.R7$(),e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0),e.R7$(2),e.SpI("\xa0(",e.i5U(4,4,t.capacity/i.statistics.totalCapacity*100,"1.1-1"),"%)")}}function mt(n,s){if(1&n&&(e.j41(0,"td",37),e.nrm(1,"app-fiat",38),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("value",t.capacity)}}function Et(n,s){if(1&n&&(e.j41(0,"td",22),e.nrm(1,"app-timestamp",39),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.firstSeen)("hideTimeSince",!0)}}function It(n,s){if(1&n&&(e.j41(0,"td",22),e.nrm(1,"app-timestamp",39),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.updatedAt)("hideTimeSince",!0)}}function Ot(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",25)(2,"div",26)(3,"a",27),e.nI1(4,"relativeUrl"),e.j41(5,"span",28),e.EFF(6),e.k0s()()()(),e.j41(7,"td",29),e.EFF(8),e.nI1(9,"number"),e.j41(10,"span",30),e.EFF(11),e.nI1(12,"number"),e.k0s()(),e.DNE(13,ht,5,7,"td",31)(14,mt,2,1,"td",32)(15,Et,2,3,"td",15)(16,It,2,3,"td",15),e.j41(17,"td",33),e.nrm(18,"app-geolocation",34),e.k0s()()),2&n){const t=s.$implicit,i=e.XpG().ngIf,o=e.XpG();e.R7$(3),e.Y8G("routerLink",e.l_i(17,Nt,e.bMT(4,10,"/lightning/node"),t.publicKey)),e.R7$(3),e.JRh(t.alias),e.R7$(2),e.SpI(" ",t.channels?e.bMT(9,12,t.channels):"~"," "),e.R7$(3),e.SpI("\xa0(",e.i5U(12,14,(null==t?null:t.channels)/i.statistics.totalChannels*100,"1.1-1"),"%)"),e.R7$(2),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(2),e.Y8G("data",t.geolocation)("type","list-isp")}}function Pt(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Ot,19,20,"tr",24),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngForOf",t.nodes)}}function Gt(n,s){1&n&&e.nrm(0,"div",9)(1,"br")}let ae=(()=>{class n{constructor(t,i,o){this.apiService=t,this.stateService=i,this.seoService=o,this.widget=!1,this.skeletonRows=[]}ngOnInit(){this.currency$=this.stateService.fiatCurrency$;for(let t=1;t<=(this.widget?6:100);++t)this.skeletonRows.push(t);!1===this.widget?(this.seoService.setTitle("\u0915\u0928\u0947\u0915\u094D\u091F\u093F\u0935\u093F\u091F\u0940 \u0930\u0948\u0902\u0915\u093F\u0902\u0917"),this.seoService.setDescription("\u0938\u092C\u0938\u0947 \u0905\u0927\u093F\u0915 \u091A\u0948\u0928\u0932 \u0916\u094B\u0932\u0928\u0947 \u0935\u093E\u0932\u0947 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0915\u094B \u0926\u0947\u0916\u0947\u0902, \u0938\u093E\u0925 \u0939\u0940 \u0909\u091A\u094D\u091A-\u0938\u094D\u0924\u0930\u0940\u092F \u0906\u0901\u0915\u0921\u093C\u0947 \u091C\u0948\u0938\u0947 \u0915\u0941\u0932 \u0928\u094B\u0921 \u0915\u094D\u0937\u092E\u0924\u093E, \u0928\u094B\u0921 \u0906\u092F\u0941, \u0906\u0926\u093F \u0926\u0947\u0916\u0947\u0902\u0964"),this.topNodesPerChannels$=(0,U.z)([this.apiService.getTopNodesByChannels$(),this.statistics$]).pipe((0,L.T)(([t,i])=>{for(const o in t)t[o].geolocation={country:t[o].country?.en,city:t[o].city?.en,subdivision:t[o].subdivision?.en,iso:t[o].iso_code};return{nodes:t,statistics:{totalChannels:i.latest.channel_count,totalCapacity:i.latest.total_capacity}}}))):this.topNodesPerChannels$=(0,U.z)([this.nodes$,this.statistics$]).pipe((0,L.T)(([t,i])=>{for(const o in t.topByChannels)t.topByChannels[o].geolocation={country:t.topByChannels[o].country?.en,city:t.topByChannels[o].city?.en,subdivision:t.topByChannels[o].subdivision?.en,iso:t.topByChannels[o].iso_code};return{nodes:t.topByChannels.slice(0,6),statistics:{totalChannels:i.latest.channel_count}}}))}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(M.d),e.rXU(E.B))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-top-nodes-per-channels"]],inputs:{nodes$:"nodes$",statistics$:"statistics$",widget:"widget"},decls:19,vars:16,consts:()=>{let t,i,o,a,l,c,g;return t="\u0909\u092A\u0928\u093E\u092E",i="\u091A\u0948\u0928\u0932",o="\u091C\u0917\u0939",a="\u0915\u0928\u0947\u0915\u094D\u091F\u093F\u0935\u093F\u091F\u0940 \u0930\u0948\u0902\u0915\u093F\u0902\u0917",l="\u0915\u094D\u0937\u092E\u0924\u093E",c="\u092A\u094D\u0930\u0925\u092E \u0926\u0947\u0916\u093E",g="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",[t,i,o,a,l,c,g,[1,"container-xl",2,"min-height","335px",3,"ngClass"],["class","float-left",4,"ngIf"],[1,"clearfix"],[2,"min-height","295px"],[1,"table","table-borderless"],[1,"pool","text-left",3,"ngClass"],[1,"liquidity","text-right"],["class","d-none d-md-table-cell channels text-right",4,"ngIf"],["class","d-none d-md-table-cell text-right",4,"ngIf"],["class","d-none d-md-table-cell timestamp text-right",4,"ngIf"],[1,"geolocation","d-table-cell","text-right"],[4,"ngIf"],[3,"ngIf"],[1,"float-left"],[1,"d-none","d-md-table-cell","channels","text-right"],[1,"d-none","d-md-table-cell","text-right"],[1,"d-none","d-md-table-cell","timestamp","text-right"],[4,"ngFor","ngForOf"],[1,"pool","text-left"],[1,"tooltip-custom","d-block","w-100"],[1,"link","d-block","w-100",3,"routerLink"],[1,"pool-name","w-100"],[1,"text-right"],[1,"capacity-ratio"],["class","d-none d-md-table-cell capacity text-right",4,"ngIf"],["class","fiat d-none d-md-table-cell text-right",4,"ngIf"],[1,"geolocation","d-table-cell","text-right","text-truncate"],[3,"data","type"],[1,"d-none","d-md-table-cell","capacity","text-right"],[3,"satoshis","digitsInfo","noFiat"],[1,"fiat","d-none","d-md-table-cell","text-right"],[3,"value"],[3,"customFormat","unixTime","hideTimeSince"]]},template:function(i,o){1&i&&(e.j41(0,"div",7),e.DNE(1,ft,2,0,"h1",8),e.nrm(2,"div",9),e.j41(3,"div",10)(4,"table",11)(5,"thead")(6,"th",12),e.pXf(7,0),e.k0s(),e.j41(8,"th",13),e.pXf(9,1),e.k0s(),e.DNE(10,Ct,2,0,"th",14)(11,Tt,3,3,"th",15)(12,ut,2,0,"th",16)(13,St,2,0,"th",16),e.j41(14,"th",17),e.pXf(15,2),e.k0s()(),e.DNE(16,Pt,2,1,"tbody",18),e.nI1(17,"async"),e.k0s(),e.DNE(18,Gt,2,0,"ng-template",19),e.k0s()()),2&i&&(e.Y8G("ngClass",e.l_i(11,gt,o.widget,!o.widget)),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(5),e.Y8G("ngClass",e.eq3(14,pt,o.widget)),e.R7$(4),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(3),e.Y8G("ngIf",e.bMT(17,9,o.topNodesPerChannels$)),e.R7$(2),e.Y8G("ngIf",!o.widget))},dependencies:[_.YU,_.Sq,_.bT,T.Wk,$.k,I.Y,Y.m,z,_.Jj,_.QX,x.U],styles:[".container-xl[_ngcontent-%COMP%]{max-width:1400px}.container-xl.widget[_ngcontent-%COMP%]{padding-right:0;padding-left:0;padding-bottom:0}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:0px;padding-top:.65rem!important;padding-bottom:.7rem!important}.clear-link[_ngcontent-%COMP%]{color:#fff}.pool[_ngcontent-%COMP%]{width:15%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:160px}@media (max-width: 576px){.pool[_ngcontent-%COMP%]{width:75%}}.pool-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top;text-overflow:ellipsis;overflow:hidden}.pool.widget[_ngcontent-%COMP%]{width:45%}.liquidity[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.liquidity[_ngcontent-%COMP%]{width:25%}}.capacity-ratio[_ngcontent-%COMP%]{font-size:12px;color:#a9a9a9}@media (min-width: 768px) and (max-width: 991px){.geolocation[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 575px){.geolocation[_ngcontent-%COMP%]{display:none!important}}"],changeDetection:0})}return n})();const Mt=(n,s)=>({widget:n,"full-height":s}),he=n=>({widget:n}),Rt=(n,s)=>[n,s];function bt(n,s){1&n&&(e.j41(0,"h1",20),e.pXf(1,2),e.k0s())}function $t(n,s){1&n&&(e.j41(0,"th",21),e.pXf(1,3),e.k0s())}function Lt(n,s){1&n&&(e.j41(0,"th",22),e.pXf(1,4),e.k0s())}function At(n,s){1&n&&(e.j41(0,"th",22),e.pXf(1,5),e.k0s())}function yt(n,s){1&n&&(e.j41(0,"th",23),e.pXf(1,6),e.k0s())}function vt(n,s){if(1&n&&(e.j41(0,"td",23),e.EFF(1),e.nI1(2,"number"),e.j41(3,"span",31),e.EFF(4),e.nI1(5,"number"),e.k0s()()),2&n){const t=e.XpG().$implicit,i=e.XpG().ngIf;e.R7$(),e.SpI(" ",e.bMT(2,2,t.channels)," "),e.R7$(3),e.SpI("\xa0(",e.i5U(5,4,(null==t?null:t.channels)/i.statistics.totalChannels*100,"1.1-1"),"%)")}}function xt(n,s){if(1&n&&(e.j41(0,"td",23),e.nrm(1,"app-timestamp",35),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.firstSeen)("hideTimeSince",!0)}}function kt(n,s){if(1&n&&(e.j41(0,"td",23),e.nrm(1,"app-timestamp",35),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.updatedAt)("hideTimeSince",!0)}}function Ht(n,s){if(1&n&&(e.j41(0,"td",36),e.nrm(1,"app-geolocation",37),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("data",t.geolocation)("type","list-isp")}}function Xt(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",25)(2,"div",26)(3,"a",27),e.nI1(4,"relativeUrl"),e.j41(5,"span",28),e.EFF(6),e.k0s()()()(),e.j41(7,"td",29),e.nrm(8,"app-amount",30),e.j41(9,"span",31),e.EFF(10),e.nI1(11,"number"),e.k0s()(),e.j41(12,"td",32),e.nrm(13,"app-fiat",33),e.k0s(),e.DNE(14,vt,6,7,"td",17)(15,xt,2,3,"td",17)(16,kt,2,3,"td",17)(17,Ht,2,2,"td",34),e.k0s()),2&n){const t=s.$implicit,i=e.XpG().ngIf,o=e.XpG();e.R7$(3),e.Y8G("routerLink",e.l_i(17,Rt,e.bMT(4,12,"/lightning/node"),t.publicKey)),e.R7$(3),e.JRh(t.alias),e.R7$(2),e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0),e.R7$(2),e.SpI("\xa0(",e.i5U(11,14,(null==t?null:t.capacity)/i.statistics.totalCapacity*100,"1.1-1"),"%)"),e.R7$(2),e.Y8G("ngClass",e.eq3(20,he,o.widget)),e.R7$(),e.Y8G("value",t.capacity),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget)}}function Dt(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Xt,18,22,"tr",24),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngForOf",t.nodes)}}function jt(n,s){1&n&&e.nrm(0,"div",9)(1,"br")}let _e=(()=>{class n{constructor(t,i,o){this.apiService=t,this.seoService=i,this.stateService=o,this.widget=!1,this.skeletonRows=[]}ngOnInit(){this.currency$=this.stateService.fiatCurrency$,this.widget||(this.seoService.setTitle("\u0924\u0930\u0932\u0924\u093E \u0930\u0948\u0902\u0915\u093F\u0902\u0917"),this.seoService.setDescription("\u0938\u092C\u0938\u0947 \u0905\u0927\u093F\u0915 BTC \u0924\u0930\u0932\u0924\u093E \u0935\u093E\u0932\u0947 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0926\u0947\u0916\u0947\u0902, \u0938\u093E\u0925 \u0939\u0940 \u0909\u091A\u094D\u091A-\u0938\u094D\u0924\u0930\u0940\u092F \u0906\u0901\u0915\u0921\u093C\u0947 \u091C\u0948\u0938\u0947 \u0916\u0941\u0932\u0947 \u091A\u0948\u0928\u0932\u094B\u0902 \u0915\u0940 \u0938\u0902\u0916\u094D\u092F\u093E, \u0938\u094D\u0925\u093E\u0928, \u0928\u094B\u0921 \u0906\u092F\u0941, \u0914\u0930 \u092C\u0939\u0941\u0924 \u0915\u0941\u091B \u0926\u0947\u0916\u0947\u0902\u0964"));for(let t=1;t<=(this.widget?6:100);++t)this.skeletonRows.push(t);this.topNodesPerCapacity$=!1===this.widget?(0,U.z)([this.apiService.getTopNodesByCapacity$(),this.statistics$]).pipe((0,L.T)(([t,i])=>{for(const o in t)t[o].geolocation={country:t[o].country?.en,city:t[o].city?.en,subdivision:t[o].subdivision?.en,iso:t[o].iso_code};return{nodes:t,statistics:{totalCapacity:i.latest.total_capacity,totalChannels:i.latest.channel_count}}})):(0,U.z)([this.nodes$,this.statistics$]).pipe((0,L.T)(([t,i])=>({nodes:t.topByCapacity.slice(0,6),statistics:{totalCapacity:i.latest.total_capacity}})))}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(E.B),e.rXU(M.d))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-top-nodes-per-capacity"]],inputs:{nodes$:"nodes$",statistics$:"statistics$",widget:"widget"},decls:20,vars:20,consts:()=>{let t,i,o,a,l,c,g;return t="\u0909\u092A\u0928\u093E\u092E",i="\u0932\u093F\u0915\u094D\u0935\u093F\u0921\u093F\u091F\u0940",o="\u0924\u0930\u0932\u0924\u093E \u0930\u0948\u0902\u0915\u093F\u0902\u0917",a="\u091A\u0948\u0928\u0932",l="\u092A\u094D\u0930\u0925\u092E \u0926\u0947\u0916\u093E",c="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",g="\u091C\u0917\u0939",[t,i,o,a,l,c,g,[1,"container-xl",2,"min-height","335px",3,"ngClass"],["class","float-left",4,"ngIf"],[1,"clearfix"],[2,"min-height","295px"],[1,"table","table-borderless"],[1,"text-left"],[1,"liquidity","text-right"],[1,"d-table-cell","fiat","text-right"],["class","d-none d-md-table-cell channels text-right",4,"ngIf"],["class","d-none d-md-table-cell timestamp text-right",4,"ngIf"],["class","d-none d-md-table-cell text-right",4,"ngIf"],[4,"ngIf"],[3,"ngIf"],[1,"float-left"],[1,"d-none","d-md-table-cell","channels","text-right"],[1,"d-none","d-md-table-cell","timestamp","text-right"],[1,"d-none","d-md-table-cell","text-right"],[4,"ngFor","ngForOf"],[1,"pool","text-left"],[1,"tooltip-custom","d-block","w-100"],[1,"link","d-block","w-100",3,"routerLink"],[1,"pool-name","w-100"],[1,"text-right"],[3,"satoshis","digitsInfo","noFiat"],[1,"capacity-ratio"],[1,"d-table-cell","fiat","text-right",3,"ngClass"],[3,"value"],["class","d-none d-md-table-cell text-right text-truncate",4,"ngIf"],[3,"customFormat","unixTime","hideTimeSince"],[1,"d-none","d-md-table-cell","text-right","text-truncate"],[3,"data","type"]]},template:function(i,o){1&i&&(e.j41(0,"div",7),e.DNE(1,bt,2,0,"h1",8),e.nrm(2,"div",9),e.j41(3,"div",10)(4,"table",11)(5,"thead")(6,"th",12),e.pXf(7,0),e.k0s(),e.j41(8,"th",13),e.pXf(9,1),e.k0s(),e.j41(10,"th",14),e.EFF(11),e.nI1(12,"async"),e.k0s(),e.DNE(13,$t,2,0,"th",15)(14,Lt,2,0,"th",16)(15,At,2,0,"th",16)(16,yt,2,0,"th",17),e.k0s(),e.DNE(17,Dt,2,1,"tbody",18),e.nI1(18,"async"),e.k0s(),e.DNE(19,jt,2,0,"ng-template",19),e.k0s()()),2&i&&(e.Y8G("ngClass",e.l_i(15,Mt,o.widget,!o.widget)),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(9),e.HbH(e.eq3(18,he,o.widget)),e.R7$(),e.JRh(e.bMT(12,11,o.currency$)),e.R7$(2),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",e.bMT(18,13,o.topNodesPerCapacity$)),e.R7$(2),e.Y8G("ngIf",!o.widget))},dependencies:[_.YU,_.Sq,_.bT,T.Wk,$.k,I.Y,Y.m,z,_.Jj,_.QX,x.U],styles:[".container-xl[_ngcontent-%COMP%]{max-width:1400px}.container-xl.widget[_ngcontent-%COMP%]{padding-right:0;padding-left:0;padding-bottom:0}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:0px;padding-top:.65rem!important;padding-bottom:.7rem!important}.clear-link[_ngcontent-%COMP%]{color:#fff}.pool[_ngcontent-%COMP%]{width:15%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:160px}@media (max-width: 575px){.pool[_ngcontent-%COMP%]{width:75%}}.pool-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top;text-overflow:ellipsis;overflow:hidden}.liquidity[_ngcontent-%COMP%]{width:10%}@media (max-width: 575px){.liquidity[_ngcontent-%COMP%]{width:25%}}.capacity-ratio[_ngcontent-%COMP%]{font-size:12px;color:#a9a9a9}.fiat[_ngcontent-%COMP%]{width:15%}@media (min-width: 768px) and (max-width: 991px){.fiat[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 575px){.fiat[_ngcontent-%COMP%]{display:none!important}}"],changeDetection:0})}return n})();const Z=n=>[n],me=()=>["fas","external-link-alt"];let wt=(()=>{class n{constructor(t,i,o,a,l){this.lightningApiService=t,this.seoService=i,this.ogService=o,this.stateService=a,this.cd=l,this.officialMempoolSpace=this.stateService.env.OFFICIAL_MEMPOOL_SPACE,this.graphHeight=300}ngOnInit(){this.onResize(),this.seoService.setTitle("\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u090F\u0915\u094D\u0938\u092A\u094D\u0932\u094B\u0930\u0930"),this.seoService.setDescription("\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u0947\u091F\u0935\u0930\u094D\u0915 (\u0938\u092E\u0917\u094D\u0930 \u0915\u094D\u0937\u092E\u0924\u093E, \u0915\u0928\u0947\u0915\u094D\u091F\u093F\u0935\u093F\u091F\u0940, \u0906\u0926\u093F), \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 (\u091A\u0948\u0928\u0932, \u0924\u0930\u0932\u0924\u093E, \u0906\u0926\u093F) \u0914\u0930 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u091A\u0948\u0928\u0932 (\u0938\u094D\u0925\u093F\u0924\u093F, \u0936\u0941\u0932\u094D\u0915, \u0906\u0926\u093F) \u092A\u0930 \u0906\u0901\u0915\u0921\u093C\u0947 \u092A\u094D\u0930\u093E\u092A\u094D\u0924 \u0915\u0930\u0947\u0902\u0964"),this.ogService.setManualOgImage("lightning.jpg"),this.nodesRanking$=this.lightningApiService.getNodesRanking$().pipe((0,R.u)()),this.statistics$=this.lightningApiService.getLatestStatistics$().pipe((0,R.u)()),this.stateService.isBrowser||(0,k.h)(this.nodesRanking$,this.statistics$).subscribe(()=>{this.cd.markForCheck()})}ngAfterViewInit(){this.stateService.focusSearchInputDesktop()}onResize(){this.graphHeight=window.innerWidth>=992?340:window.innerWidth>=768?245:210}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(E.B),e.rXU(B.m),e.rXU(M.d),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-lightning-dashboard"]],hostBindings:function(i,o){1&i&&e.bIt("resize",function(l){return o.onResize(l)},!1,e.tSv)},decls:64,vars:43,consts:()=>{let t,i,o,a,l,c,g;return t="\u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0938\u093E\u0902\u0916\u094D\u092F\u093F\u0915\u0940",i="\u091A\u0948\u0928\u0932 \u0938\u093E\u0902\u0916\u094D\u092F\u093F\u0915\u0940",o="\u0914\u0930 \u0926\u0947\u0916\u0947\u0902 \xBB",a="\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0907\u0924\u093F\u0939\u093E\u0938",l="\u0914\u0930 \u0926\u0947\u0916\u0947\u0902 \xBB",c="\u0924\u0930\u0932\u0924\u093E \u0930\u0948\u0902\u0915\u093F\u0902\u0917",g="\u0915\u0928\u0947\u0915\u094D\u091F\u093F\u0935\u093F\u091F\u0940 \u0930\u0948\u0902\u0915\u093F\u0902\u0917",[t,i,o,a,l,c,g,[1,"container-xl","dashboard-container"],[1,"row","row-cols-1","row-cols-md-2"],[1,"col"],[1,"main-title"],[1,"card-wrapper"],[1,"card",2,"height","123px"],[1,"card-body","more-padding"],[3,"statistics$"],[1,"col",2,"margin-bottom","1.47rem"],[1,"card"],[1,"card-body","pl-2","pr-2"],[1,"mempool-graph"],[3,"height","widget"],[2,"margin-top","5px"],[3,"routerLink"],[1,"card-body","pl-2","pr-2","pt-1"],[1,"card-title","mt-3"],[1,"col",2,"max-height","410px"],[1,"card-body"],["href","",1,"title-link",3,"routerLink"],[1,"card-title","d-inline"],[2,"vertical-align","text-top","font-size","13px","color","var(--title-fg)",3,"icon","fixedWidth"],[3,"nodes$","statistics$","widget"]]},template:function(i,o){1&i&&(e.nrm(0,"app-nodes-channels-map"),e.j41(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",10)(5,"span"),e.pXf(6,0),e.k0s(),e.EFF(7,"\xa0 "),e.k0s(),e.j41(8,"div",11)(9,"div",12)(10,"div",13),e.nrm(11,"app-node-statistics",14),e.k0s()()()(),e.j41(12,"div",9)(13,"div",10)(14,"span"),e.pXf(15,1),e.k0s(),e.EFF(16,"\xa0 "),e.k0s(),e.j41(17,"div",11)(18,"div",12)(19,"div",13),e.nrm(20,"app-channels-statistics",14),e.k0s()()()(),e.j41(21,"div",15)(22,"div",16)(23,"div",17)(24,"div",18),e.nrm(25,"app-nodes-per-isp-chart",19),e.k0s(),e.j41(26,"div",20)(27,"a",21),e.nI1(28,"relativeUrl"),e.pXf(29,2),e.k0s()()()()(),e.j41(30,"div",9)(31,"div",16)(32,"div",22)(33,"div",18)(34,"h5",23),e.pXf(35,3),e.k0s(),e.nrm(36,"app-lightning-statistics-chart",19)(37,"app-nodes-networks-chart",19),e.k0s(),e.j41(38,"div")(39,"a",21),e.nI1(40,"relativeUrl"),e.pXf(41,4),e.k0s()()()()(),e.j41(42,"div",24)(43,"div",16)(44,"div",25)(45,"a",26),e.nI1(46,"relativeUrl"),e.j41(47,"h5",27),e.pXf(48,5),e.k0s(),e.j41(49,"span"),e.EFF(50,"\xa0"),e.k0s(),e.nrm(51,"fa-icon",28),e.k0s(),e.nrm(52,"app-top-nodes-per-capacity",29),e.k0s()()(),e.j41(53,"div",24)(54,"div",16)(55,"div",25)(56,"a",26),e.nI1(57,"relativeUrl"),e.j41(58,"h5",27),e.pXf(59,6),e.k0s(),e.j41(60,"span"),e.EFF(61,"\xa0"),e.k0s(),e.nrm(62,"fa-icon",28),e.k0s(),e.nrm(63,"app-top-nodes-per-channels",29),e.k0s()()()()()),2&i&&(e.Aen("widget"),e.R7$(11),e.Y8G("statistics$",o.statistics$),e.R7$(9),e.Y8G("statistics$",o.statistics$),e.R7$(5),e.Y8G("height",o.graphHeight)("widget",!0),e.R7$(2),e.Y8G("routerLink",e.eq3(33,Z,e.bMT(28,25,"/graphs/lightning/nodes-per-isp"))),e.BMQ("data-cy","pool-distribution-view-more"),e.R7$(9),e.Y8G("height",o.graphHeight/1.7)("widget",!0),e.R7$(),e.Y8G("height",o.graphHeight/1.7)("widget",!0),e.R7$(2),e.Y8G("routerLink",e.eq3(35,Z,e.bMT(40,27,"/graphs/lightning/nodes-networks"))),e.R7$(6),e.Y8G("routerLink",e.eq3(37,Z,e.bMT(46,29,"/lightning/nodes/rankings/liquidity"))),e.R7$(6),e.Y8G("icon",e.lJ4(39,me))("fixedWidth",!0),e.R7$(),e.Y8G("nodes$",o.nodesRanking$)("statistics$",o.statistics$)("widget",!0),e.R7$(4),e.Y8G("routerLink",e.eq3(40,Z,e.bMT(57,31,"/lightning/nodes/rankings/connectivity"))),e.R7$(6),e.Y8G("icon",e.lJ4(42,me))("fixedWidth",!0),e.R7$(),e.Y8G("nodes$",o.nodesRanking$)("statistics$",o.statistics$)("widget",!0))},dependencies:[T.Wk,y.aY,qe,Ke.D,We.c,lt,ct.G,se.E,ae,_e,x.U],styles:[".dashboard-container[_ngcontent-%COMP%]{text-align:center;margin-top:18px}@media (min-width: 992px){.dashboard-container[_ngcontent-%COMP%]{padding-bottom:0}}.dashboard-container[_ngcontent-%COMP%]   .col[_ngcontent-%COMP%]{margin-bottom:1.5rem}.card[_ngcontent-%COMP%]{background-color:var(--bg)}.graph-card[_ngcontent-%COMP%]{height:100%}@media (min-width: 992px){.graph-card[_ngcontent-%COMP%]{height:385px}}.fixed-mempool-graph[_ngcontent-%COMP%]{height:330px}@media (min-width: 768px){.mempool-graph[_ngcontent-%COMP%], .fixed-mempool-graph[_ngcontent-%COMP%]{height:345px}}@media (min-width: 992px){.mempool-graph[_ngcontent-%COMP%], .fixed-mempool-graph[_ngcontent-%COMP%]{height:439px}}.card-title[_ngcontent-%COMP%]{font-size:1rem;color:var(--title-fg)}.card-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:var(--title-fg)}.card-body.pool-ranking[_ngcontent-%COMP%]{padding:1.25rem .25rem .75rem}#blockchain-container[_ngcontent-%COMP%]{position:relative;overflow-x:scroll;overflow-y:hidden;scrollbar-width:none;-ms-overflow-style:none}#blockchain-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.fade-border[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(to right,transparent 0%,black 10%,black 80%,transparent 100%)}.main-title[_ngcontent-%COMP%]{position:relative;color:var(--fg);opacity:var(--opacity);margin-top:-13px;font-size:10px;text-transform:uppercase;font-weight:500;text-align:center;padding-bottom:3px}.more-padding[_ngcontent-%COMP%]{padding:24px 20px!important}.card-wrapper[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{height:auto!important}.card-wrapper[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex:inherit;text-align:center;flex-direction:column;justify-content:space-around;padding:22px 20px}.skeleton-loader[_ngcontent-%COMP%]{width:100%;display:block}.skeleton-loader[_ngcontent-%COMP%]:first-child{max-width:90px;margin:15px auto 3px}.skeleton-loader[_ngcontent-%COMP%]:last-child{margin:10px auto 3px;max-width:55px}.card-text[_ngcontent-%COMP%]{font-size:22px}.title-link[_ngcontent-%COMP%], .title-link[_ngcontent-%COMP%]:hover, .title-link[_ngcontent-%COMP%]:focus, .title-link[_ngcontent-%COMP%]:active{display:block;margin-bottom:10px;text-decoration:none;color:inherit}"],changeDetection:0})}return n})();var Ft=r(6491);let Yt=(()=>{class n{constructor(t,i,o){this.websocketService=t,this.router=i,this.route=o}ngOnInit(){this.websocketService.want(["blocks"]),(0,X.ol)(this.route,this.router)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(Ft.H),e.rXU(T.Ix),e.rXU(T.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-lightning-wrapper"]],decls:1,vars:0,template:function(i,o){1&i&&e.nrm(0,"router-outlet")},dependencies:[T.n3],changeDetection:0})}return n})();var j=r(5558),D=r(8141),le=r(9437);function zt(n){if(!n||n.length<20||n.length>28)return!1;try{const s={funding_weight:parseInt(n.slice(0,4),16),lease_fee_basis:parseInt(n.slice(4,8),16),channel_fee_max_rate:parseInt(n.slice(8,12),16),lease_fee_base_sat:parseInt(n.slice(12,20),16),channel_fee_max_base:n.length>20?parseInt(n.slice(20),16):0};return!!Object.values(s).reduce((t,i)=>t&&!isNaN(i)&&i>=0,!0)&&(s.compact_lease=n,s)}catch{return!1}}var ce=r(3366),Bt=r(8031),J=r(9181),Ee=r(9279),ee=r(3089),te=r(715),Ut=r(7291),de=r(7435),re=r(4972);function Jt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",3),e.bIt("chartInit",function(o){e.eBV(t);const a=e.XpG();return e.Njj(a.onChartInit(o))}),e.k0s()}if(2&n){const t=e.XpG();e.HbH(t.widget?"chart-widget":"chart"),e.Y8G("initOpts",t.chartInitOptions)("options",t.chartOptions)}}function Vt(n,s){1&n&&(e.j41(0,"div",4),e.nrm(1,"div",5),e.k0s())}let qt=(()=>{class n{constructor(t,i,o,a,l){this.locale=t,this.lightningApiService=i,this.storageService=o,this.stateService=a,this.activatedRoute=l,this.right=65,this.left=45,this.widget=!1,this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.dir="ltr",this.isLoading=!0,this.formatNumber=_.ZV,this.timespan="",this.chartInstance=void 0}ngOnInit(){this.activatedRoute.paramMap.pipe((0,j.n)(t=>(this.isLoading=!0,this.lightningApiService.listNodeStats$(t.get("public_key")).pipe((0,D.M)(i=>{this.prepareChartOptions({channels:i.map(o=>[1e3*o.added,o.channels]),capacity:i.map(o=>[1e3*o.added,o.capacity])}),this.isLoading=!1}))))).subscribe(()=>{})}prepareChartOptions(t){let i;t.channels.length<2&&(i={textStyle:{color:"grey",fontSize:15},text:"\u0905\u092D\u0940 \u092A\u094D\u0930\u0926\u0930\u094D\u0936\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0915\u094B\u0908 \u0921\u0947\u091F\u093E \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964",left:"center",top:"center"}),this.chartOptions={title:i,animation:!1,color:["#FDD835","#D81B60"],grid:{top:30,bottom:20,right:this.right,left:this.left},tooltip:{show:!this.isMobile(),trigger:"axis",axisPointer:{type:"line"},backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)",align:"left"},borderColor:"#000",formatter:o=>{let a="",l="";for(const d of o)0===d.seriesIndex?a=`${d.marker} ${d.seriesName}: ${(0,_.ZV)(d.data[1],this.locale,"1.0-0")}`:1===d.seriesIndex&&(l=`${d.marker} ${d.seriesName}: ${(0,_.ZV)(d.data[1]/1e8,this.locale,"1.0-0")} EAC`);return`<b style="color: white; margin-left: 18px">${new Date(o[0].data[0]).toLocaleDateString(this.locale,{year:"numeric",month:"short",day:"numeric"})}</b><br>\n            <span>${a}</span><br>\n            <span>${l}</span>`}},xAxis:t.channels.length<2?void 0:{type:"time",splitNumber:this.isMobile()?5:10,axisLabel:{hideOverlap:!0}},legend:t.channels.length<2?void 0:{padding:10,data:[{name:"\u091A\u0948\u0928\u0932",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"},{name:"\u0915\u094D\u0937\u092E\u0924\u093E",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"}],selected:JSON.parse(this.storageService.getValue("sizes_ln_legend"))??{Channels:!0,Capacity:!0}},yAxis:t.channels.length<2?void 0:[{type:"value",axisLabel:{color:"rgb(110, 112, 121)",formatter:o=>`${Math.round(o)}`},splitLine:{lineStyle:{type:"dotted",color:"var(--transparent-fg)",opacity:.25}}},{type:"value",position:"right",axisLabel:{color:"rgb(110, 112, 121)",formatter:o=>o/1e8+" EAC"},splitLine:{show:!1}}],series:t.channels.length<2?[]:[{zlevel:1,name:"\u091A\u0948\u0928\u0932",showSymbol:!1,symbol:"none",data:t.channels,type:"line",step:"middle",lineStyle:{width:2},markLine:{silent:!0,symbol:"none",lineStyle:{type:"solid",color:"var(--transparent-fg)",opacity:1,width:1}}},{zlevel:0,yAxisIndex:1,name:"\u0915\u094D\u0937\u092E\u0924\u093E",showSymbol:!1,symbol:"none",stack:"Total",data:t.capacity,areaStyle:{},type:"line",step:"middle"}]}}onChartInit(t){void 0===this.chartInstance&&(this.chartInstance=t,this.chartInstance.on("legendselectchanged",i=>{this.storageService.setValue("sizes_ln_legend",JSON.stringify(i.selected))}))}isMobile(){return window.innerWidth<=767.98}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.xe9),e.rXU(m.C),e.rXU(Ut.n),e.rXU(M.d),e.rXU(T.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-node-statistics-chart"]],hostVars:1,hostBindings:function(i,o){2&i&&e.BMQ("dir",o.dir)},inputs:{publicKey:"publicKey",right:"right",left:"left",widget:"widget"},decls:3,vars:1,consts:[[1,"full-container"],["echarts","",3,"class","initOpts","options","chartInit",4,"browserOnly"],["class","text-center loadingGraphs",4,"ngIf"],["echarts","",3,"chartInit","initOpts","options"],[1,"text-center","loadingGraphs"],[1,"spinner-border","text-light"]],template:function(i,o){1&i&&(e.j41(0,"div",0),e.DNE(1,Jt,1,4,"div",1)(2,Vt,2,0,"div",2),e.k0s()),2&i&&(e.R7$(2),e.Y8G("ngIf",!o.stateService.isBrowser||o.isLoading))},dependencies:[_.bT,de.e,re.$P],styles:[".full-container[_ngcontent-%COMP%]{margin-top:25px;margin-bottom:25px;min-height:100%}",".loadingGraphs[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}"]})}return n})();function Kt(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",4),e.bIt("chartInit",function(o){e.eBV(t);const a=e.XpG();return e.Njj(a.onChartInit(o))}),e.k0s()}if(2&n){const t=e.XpG();e.Y8G("initOpts",t.chartInitOptions)("options",t.chartOptions)}}function Wt(n,s){1&n&&(e.j41(0,"div",5),e.nrm(1,"div",6),e.k0s())}let Qt=(()=>{class n{constructor(t,i,o,a,l){this.locale=t,this.lightningApiService=i,this.stateService=o,this.activatedRoute=a,this.amountShortenerPipe=l,this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.dir="ltr",this.isLoading=!0,this.chartInstance=void 0}ngOnInit(){this.activatedRoute.paramMap.pipe((0,j.n)(t=>(this.isLoading=!0,this.lightningApiService.getNodeFeeHistogram$(t.get("public_key"))))).subscribe(t=>{if(t&&t.incoming&&t.outgoing){const i=this.bucketsToHistogram(t.outgoing),o=this.bucketsToHistogram(t.incoming);this.prepareChartOptions(i,o)}this.isLoading=!1})}bucketsToHistogram(t){const i=[];let c,o=1,a=-o,l=0;for(t.length&&t[0]&&null==t[0].bucket&&(c=t.shift());l<=5e3;){let d;t.length&&t[0]&&l>=Number(t[0].bucket)&&(d=t.shift()),i.push({label:0===l?"0 ppm":`${a} - ${l} ppm`,count:Number(d?.count||0)+(0===l?Number(c?.count||0):0),capacity:Number(d?.capacity||0)+(0===l?Number(c?.capacity||0):0)}),l>=10*o?(o*=10,a=o,l=o+o):(a+=o,l+=o)}const g=t.reduce((d,C)=>(d.count+=Number(C.count),d.capacity+=Number(C.capacity),d),{count:0,capacity:0});return i.push({label:"5000+ ppm",count:g.count,capacity:g.capacity}),i}prepareChartOptions(t,i){let a,o=t.reduce((l,c)=>l+c.count,0);o+=i.reduce((l,c)=>l+c.count,0),0===o&&(a={textStyle:{color:"grey",fontSize:15},text:"\u0905\u092D\u0940 \u092A\u094D\u0930\u0926\u0930\u094D\u0936\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0915\u094B\u0908 \u0921\u0947\u091F\u093E \u0928\u0939\u0940\u0902 \u0939\u0948\u0964 \u092C\u093E\u0926 \u092E\u0947\u0902 \u092A\u0941\u0928\u0903 \u092A\u094D\u0930\u092F\u093E\u0938 \u0915\u0930\u0947\u0902\u0964",left:"center",top:"center"}),this.chartOptions={title:0===o?a:void 0,animation:!1,grid:{top:30,bottom:20,right:20,left:65},tooltip:{show:!this.isMobile(),trigger:"axis",axisPointer:{type:"line"},backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)",align:"left"},borderColor:"#000",formatter:l=>`\n            <b style="color: white; margin-left: 2px">${l[0].data.label}</b><br>\n            <br>\n            <b style="color: white; margin-left: 2px">${l[0].marker} Outgoing</b><br>\n            <span>Capacity: ${this.amountShortenerPipe.transform(l[0].data.capacity,2,void 0,!0)} sats</span><br>\n            <span>Channels: ${l[0].data.count}</span><br>\n            <br>\n            <b style="color: white; margin-left: 2px">${l[1].marker} Incoming</b><br>\n            <span>Capacity: ${this.amountShortenerPipe.transform(l[1].data.capacity,2,void 0,!0)} sats</span><br>\n            <span>Channels: ${l[1].data.count}</span><br>\n          `},xAxis:0===o?void 0:{type:"category",axisLine:{onZero:!0},axisLabel:{align:"center",fontSize:11,lineHeight:12,hideOverlap:!0,padding:[0,5]},data:t.map(l=>l.label)},legend:0===o?void 0:{padding:10,data:[{name:"\u0906\u0909\u091F\u0917\u094B\u0907\u0902\u0917 \u092B\u0940\u0938",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"},{name:"\u0906\u0928\u0947 \u0935\u093E\u0932\u0940 \u092B\u0940\u0938",inactiveColor:"rgb(110, 112, 121)",textStyle:{color:"white"},icon:"roundRect"}]},yAxis:0===o?void 0:[{type:"value",axisLabel:{color:"rgb(110, 112, 121)",formatter:l=>`${this.amountShortenerPipe.transform(Math.abs(l),2,void 0,!0)} sats`},splitLine:{lineStyle:{type:"dotted",color:"var(--transparent-fg)",opacity:.25}}}],series:0===o?void 0:[{zlevel:0,name:"\u0906\u0909\u091F\u0917\u094B\u0907\u0902\u0917 \u092B\u0940\u0938",data:t.map(l=>({value:l.capacity,label:l.label,capacity:l.capacity,count:l.count})),type:"bar",barWidth:"90%",barMaxWidth:50,stack:"fees"},{zlevel:0,name:"\u0906\u0928\u0947 \u0935\u093E\u0932\u0940 \u092B\u0940\u0938",data:i.map(l=>({value:-l.capacity,label:l.label,capacity:l.capacity,count:l.count})),type:"bar",barWidth:"90%",barMaxWidth:50,stack:"fees"}]}}onChartInit(t){void 0===this.chartInstance&&(this.chartInstance=t)}isMobile(){return window.innerWidth<=767.98}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.xe9),e.rXU(m.C),e.rXU(M.d),e.rXU(T.nX),e.rXU(v.x))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-node-fee-chart"]],hostVars:1,hostBindings:function(i,o){2&i&&e.BMQ("dir",o.dir)},decls:5,vars:1,consts:()=>{let t;return t="\u0936\u0941\u0932\u094D\u0915 \u0935\u093F\u0924\u0930\u0923",[t,[1,"full-container"],["class","chart","echarts","",3,"initOpts","options","chartInit",4,"browserOnly"],["class","text-center loadingGraphs",4,"ngIf"],["echarts","",1,"chart",3,"chartInit","initOpts","options"],[1,"text-center","loadingGraphs"],[1,"spinner-border","text-light"]]},template:function(i,o){1&i&&(e.j41(0,"div",1)(1,"h2"),e.pXf(2,0),e.k0s(),e.DNE(3,Kt,1,2,"div",2)(4,Wt,2,0,"div",3),e.k0s()),2&i&&(e.R7$(4),e.Y8G("ngIf",!o.stateService.isBrowser||o.isLoading))},dependencies:[_.bT,de.e,re.$P],styles:[".full-container[_ngcontent-%COMP%]{position:relative;margin-top:25px;margin-bottom:25px;min-height:100%;min-height:450px}",".loadingGraphs[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:99}"]})}return n})();var ge=r(4412),A=r(9417),pe=r(7436);const Zt=(n,s)=>({$implicit:n,node:s}),Ie=(n,s)=>[n,s],en=n=>({$implicit:n}),tn=()=>[1,2,3,4,5,6,7,8,9,10];function nn(n,s){1&n&&e.eu8(0)}function on(n,s){1&n&&e.eu8(0)}function sn(n,s){if(1&n&&(e.j41(0,"tr"),e.DNE(1,on,1,0,"ng-container",36),e.k0s()),2&n){const t=s.$implicit;e.XpG(3);const i=e.sdS(5);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.l_i(2,Zt,t,t.node))}}function an(n,s){if(1&n&&(e.j41(0,"table",33),e.DNE(1,nn,1,0,"ng-container",34),e.j41(2,"tbody"),e.DNE(3,sn,2,5,"tr",35),e.k0s()()),2&n){const t=e.XpG().ngIf,i=e.XpG(),o=e.sdS(3);e.Aen(i.isLoading?"opacity: 0.75":""),e.R7$(),e.Y8G("ngTemplateOutlet",o),e.R7$(2),e.Y8G("ngForOf",t.channels)}}function _n(n,s){if(1&n){const t=e.RV6();e.j41(0,"ngb-pagination",37),e.mxI("pageChange",function(o){e.eBV(t);const a=e.XpG(2);return e.DH7(a.page,o)||(a.page=o),e.Njj(o)}),e.bIt("pageChange",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.pageChange(o.page))}),e.k0s()}if(2&n){const t=e.XpG().ngIf,i=e.XpG();e.Y8G("size",i.paginationSize)("collectionSize",t.totalItems)("rotate",!0)("pageSize",i.itemsPerPage),e.R50("page",i.page),e.Y8G("maxSize",i.paginationMaxSize)("boundaryLinks",!0)("ellipses",!1)}}function ln(n,s){1&n&&(e.j41(0,"table",33)(1,"div",38),e.pXf(2,9),e.k0s()())}function cn(n,s){if(1&n&&(e.j41(0,"div",23)(1,"form",24)(2,"div",25)(3,"label",26),e.nrm(4,"input",27),e.j41(5,"span"),e.pXf(6,7),e.k0s()(),e.j41(7,"label",26),e.nrm(8,"input",28),e.j41(9,"span"),e.pXf(10,8),e.k0s()()()(),e.DNE(11,an,4,4,"table",29)(12,_n,1,8,"ngb-pagination",30)(13,ln,3,0,"table",31),e.nrm(14,"div",32)(15,"br"),e.k0s()),2&n){const t=s.ngIf,i=e.XpG();e.R7$(),e.Y8G("formGroup",i.channelStatusForm),e.R7$(2),e.AVh("active","open"===i.channelStatusForm.get("status").value),e.R7$(),e.Y8G("value","open"),e.R7$(3),e.AVh("active","closed"===i.channelStatusForm.get("status").value),e.R7$(),e.Y8G("value","closed"),e.R7$(3),e.Y8G("ngIf",t.channels.length>0),e.R7$(),e.Y8G("ngIf",t.channels.length>0),e.R7$(),e.Y8G("ngIf",0===t.channels.length)}}function dn(n,s){1&n&&(e.j41(0,"th",45),e.pXf(1,14),e.k0s())}function rn(n,s){1&n&&(e.j41(0,"th",45),e.pXf(1,15),e.k0s())}function gn(n,s){if(1&n&&(e.j41(0,"thead")(1,"th",39),e.pXf(2,10),e.k0s(),e.j41(3,"th",40),e.EFF(4,"\xa0"),e.k0s(),e.j41(5,"th",41),e.pXf(6,11),e.k0s(),e.DNE(7,dn,2,0,"th",42)(8,rn,2,0,"th",42),e.j41(9,"th",43),e.pXf(10,12),e.k0s(),e.j41(11,"th",44),e.pXf(12,13),e.k0s()()),2&n){const t=e.XpG();e.R7$(7),e.Y8G("ngIf","closed"!==t.status),e.R7$(),e.Y8G("ngIf","closed"===t.status)}}function pn(n,s){1&n&&e.eu8(0)}function Nn(n,s){if(1&n&&e.nrm(0,"app-amount",56),2&n){const t=e.XpG().node;e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function fn(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",57),e.pXf(3,16),e.k0s()),2&n){const t=e.XpG().node;e.SpI(" ",e.i5U(1,1,t.capacity,1)," ")}}function Cn(n,s){1&n&&(e.j41(0,"span",58),e.pXf(1,17),e.k0s())}function Tn(n,s){1&n&&(e.j41(0,"span",59),e.pXf(1,18),e.k0s())}function un(n,s){1&n&&(e.j41(0,"span",58),e.pXf(1,19),e.k0s())}function Sn(n,s){if(1&n&&e.nrm(0,"app-closing-type",61),2&n){const t=e.XpG(2).$implicit;e.Y8G("type",t.closing_reason)}}function hn(n,s){if(1&n&&e.DNE(0,un,2,0,"span",60)(1,Sn,1,1,"ng-template",null,6,e.C5r),2&n){const t=e.sdS(2),i=e.XpG().$implicit;e.Y8G("ngIf",!i.closing_reason)("ngIfElse",t)}}function mn(n,s){if(1&n&&(e.j41(0,"td",45),e.EFF(1),e.j41(2,"span",62),e.EFF(3),e.nI1(4,"number"),e.k0s()()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",t.fee_rate," "),e.R7$(2),e.SpI("ppm (",e.bMT(4,2,t.fee_rate/1e4),"%)")}}function En(n,s){if(1&n&&(e.j41(0,"td",45),e.nrm(1,"app-timestamp",63),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("unixTime",t.closing_date)}}function In(n,s){if(1&n&&e.nrm(0,"app-amount",56),2&n){const t=e.XpG().$implicit;e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function On(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",57),e.pXf(3,20),e.k0s()),2&n){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.capacity,1)," ")}}function Pn(n,s){if(1&n&&(e.j41(0,"td",39),e.nrm(1,"app-truncate",46),e.j41(2,"div",47)(3,"app-truncate",48),e.nI1(4,"relativeUrl"),e.nrm(5,"app-clipboard",49),e.k0s()()(),e.j41(6,"td",40)(7,"div",47),e.DNE(8,pn,1,0,"ng-container",36),e.k0s(),e.j41(9,"div",47),e.DNE(10,Nn,1,3,"app-amount",50)(11,fn,4,4,"ng-template",null,4,e.C5r),e.k0s()(),e.j41(13,"td",51),e.DNE(14,Cn,2,0,"span",52)(15,Tn,2,0,"span",53)(16,hn,3,2,"ng-template",54),e.k0s(),e.DNE(17,mn,5,4,"td",42)(18,En,2,1,"td",42),e.j41(19,"td",43),e.DNE(20,In,1,3,"app-amount",50)(21,On,4,4,"ng-template",null,5,e.C5r),e.k0s(),e.j41(23,"td",44)(24,"a",55),e.nI1(25,"relativeUrl"),e.EFF(26),e.k0s()()),2&n){const t=s.$implicit,i=s.node,o=e.sdS(12),a=e.sdS(22),l=e.XpG(),c=e.sdS(9);e.R7$(),e.Y8G("text",i.alias||"?")("maxWidth",200)("lastChars",6),e.R7$(2),e.Y8G("text",i.public_key)("maxWidth",200)("lastChars",6)("link",e.l_i(25,Ie,e.bMT(4,21,"/lightning/node"),i.public_key)),e.R7$(2),e.Y8G("text",i.public_key),e.R7$(3),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.eq3(28,en,i.channels)),e.R7$(2),e.Y8G("ngIf",i.capacity>1e8)("ngIfElse",o),e.R7$(4),e.Y8G("ngIf",0===t.status),e.R7$(),e.Y8G("ngIf",1===t.status),e.R7$(),e.Y8G("ngIf",2===t.status),e.R7$(),e.Y8G("ngIf","closed"!==l.status),e.R7$(),e.Y8G("ngIf","closed"===l.status),e.R7$(2),e.Y8G("ngIf",t.capacity>1e8)("ngIfElse",a),e.R7$(4),e.Y8G("routerLink",e.l_i(30,Ie,e.bMT(25,23,"/lightning/channel"),t.id)),e.R7$(2),e.JRh(t.short_id)}}function Gn(n,s){1&n&&e.eu8(0)}function Mn(n,s){1&n&&(e.j41(0,"tr")(1,"td",64),e.nrm(2,"span",65),e.k0s(),e.j41(3,"td",40),e.nrm(4,"span",65),e.k0s(),e.j41(5,"td",41),e.nrm(6,"span",65),e.k0s(),e.j41(7,"td",45),e.nrm(8,"span",65),e.k0s(),e.j41(9,"td",43),e.nrm(10,"span",65),e.k0s(),e.j41(11,"td",66),e.nrm(12,"span",65),e.k0s()())}function Rn(n,s){if(1&n&&(e.j41(0,"table",33),e.DNE(1,Gn,1,0,"ng-container",34),e.j41(2,"tbody"),e.DNE(3,Mn,13,0,"tr",35),e.k0s()()),2&n){e.XpG();const t=e.sdS(3);e.R7$(),e.Y8G("ngTemplateOutlet",t),e.R7$(2),e.Y8G("ngForOf",e.lJ4(2,tn))}}function bn(n,s){1&n&&e.pXf(0,21),2&n&&(e.uP7(s.$implicit),e.nnv(0))}let $n=(()=>{class n{constructor(t,i){this.lightningApiService=t,this.formBuilder=i,this.channelsStatusChangedEvent=new e.bkB,this.loadingEvent=new e.bkB(!1),this.paginationSize="md",this.paginationMaxSize=10,this.itemsPerPage=10,this.page=1,this.channelsPage$=new ge.t(1),this.defaultStatus="open",this.status="open",this.publicKeySize=25,this.isLoading=!1,this.channelStatusForm=this.formBuilder.group({status:[this.defaultStatus]}),(0,X.Fr)()&&(this.publicKeySize=12)}ngOnInit(){document.body.clientWidth<670&&(this.paginationSize="sm",this.paginationMaxSize=3)}ngOnChanges(){this.channelStatusForm.get("status").setValue(this.defaultStatus,{emitEvent:!0}),this.channelsPage$.next(1),this.channels$=(0,k.h)(this.channelsPage$,this.channelStatusForm.get("status").valueChanges).pipe((0,D.M)(t=>{this.isLoading=!0,this.loadingEvent.emit(!0),"string"==typeof t?(this.status=t,this.page=1):"number"==typeof t&&(this.page=t)}),(0,j.n)(()=>(this.channelsStatusChangedEvent.emit(this.status),this.lightningApiService.getChannelsByNodeId$(this.publicKey,(this.page-1)*this.itemsPerPage,this.status))),(0,L.T)(t=>(this.isLoading=!1,this.loadingEvent.emit(!1),{channels:t.body,totalItems:parseInt(t.headers.get("x-total-count"),10)})))}pageChange(t){this.channelsPage$.next(t)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(A.ze))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-channels-list"]],inputs:{publicKey:"publicKey"},outputs:{channelsStatusChangedEvent:"channelsStatusChangedEvent",loadingEvent:"loadingEvent"},features:[e.OA$],decls:10,vars:4,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P,S,b,p;return t="\u0916\u0941\u0932\u093E",i="\u092C\u0902\u0926 \u0915\u093F\u092F\u093E \u0939\u0941\u0906",o="\u092A\u094D\u0930\u0926\u0930\u094D\u0936\u093F\u0924 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0915\u094B\u0908 \u091A\u0948\u0928\u0932 \u0928\u0939\u0940\u0902",a="\u0909\u092A\u0928\u093E\u092E",l="\u0938\u094D\u0925\u093F\u0924\u093F",c="\u0915\u094D\u0937\u092E\u0924\u093E",g="\u091A\u0948\u0928\u0932 \u0906\u0908\u0921\u0940",d="\u0936\u0941\u0932\u094D\u0915 \u0926\u0930",C="\u0905\u0902\u0924\u093F\u092E \u0924\u093F\u0925\u093F",N="\u0938\u0948\u091F\u094D\u0938",u="\u0928\u093F\u0937\u094D\u0915\u094D\u0930\u093F\u092F",P="\u0938\u0915\u094D\u0930\u093F\u092F",S="\u092C\u0902\u0926 \u0915\u093F\u092F\u093E \u0939\u0941\u0906",b="\u0938\u0948\u091F\u094D\u0938",p="" + "\ufffd0\ufffd" + " \u091A\u0948\u0928\u0932",[["tableHeader",""],["tableTemplate",""],["skeleton",""],["xChannels",""],["smallnode",""],["smallchannel",""],["closingReason",""],t,i,o,a,l,c,g,d,C,N,u,P,S,b,p,["style","position: relative;",4,"ngIf","ngIfElse"],[2,"position","relative"],[1,"formRadioGroup",3,"formGroup"],["name","radioBasic",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary","btn-sm"],["type","radio","fragment","open","formControlName","status",3,"value"],["type","radio","fragment","closed","formControlName","status",3,"value"],["class","table table-borderless",3,"style",4,"ngIf"],["class","pagination-container float-right",3,"size","collectionSize","rotate","pageSize","page","maxSize","boundaryLinks","ellipses","pageChange",4,"ngIf"],["class","table table-borderless",4,"ngIf"],[1,"clearfix"],[1,"table","table-borderless"],[4,"ngTemplateOutlet"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"pagination-container","float-right",3,"pageChange","size","collectionSize","rotate","pageSize","page","maxSize","boundaryLinks","ellipses"],[1,"d-flex","justify-content-center"],[1,"alias","text-left"],[1,"nodedetails","text-left"],[1,"status","text-left"],["class","feerate text-left",4,"ngIf"],[1,"liquidity","text-right"],[1,"channelid","text-right"],[1,"feerate","text-left"],[3,"text","maxWidth","lastChars"],[1,"second-line"],[3,"text","maxWidth","lastChars","link"],["size","small",3,"text"],[3,"satoshis","digitsInfo","noFiat",4,"ngIf","ngIfElse"],[1,"status"],["class","badge rounded-pill badge-secondary",4,"ngIf"],["class","badge rounded-pill badge-success",4,"ngIf"],[3,"ngIf"],[3,"routerLink"],[3,"satoshis","digitsInfo","noFiat"],[1,"sats"],[1,"badge","rounded-pill","badge-secondary"],[1,"badge","rounded-pill","badge-success"],["class","badge rounded-pill badge-secondary",4,"ngIf","ngIfElse"],[3,"type"],[1,"symbol"],[3,"unixTime"],[1,"alias","text-left",2,"width","370px"],[1,"skeleton-loader"],[1,"channelid","text-left"]]},template:function(i,o){if(1&i&&(e.DNE(0,cn,16,10,"div",22),e.nI1(1,"async"),e.DNE(2,gn,13,2,"ng-template",null,0,e.C5r)(4,Pn,27,33,"ng-template",null,1,e.C5r)(6,Rn,4,3,"ng-template",null,2,e.C5r)(8,bn,1,1,"ng-template",null,3,e.C5r)),2&i){const a=e.sdS(7);e.Y8G("ngIf",e.bMT(1,2,o.channels$))("ngIfElse",a)}},dependencies:[_.Sq,_.bT,_.T3,T.Wk,A.qT,A.me,A.Fm,A.BC,A.cb,A.j4,A.JD,f.s5,J.w,I.Y,te.o,Y.m,pe.r,_.Jj,_.QX,x.U,v.x],styles:[".second-line[_ngcontent-%COMP%]{font-size:12px}.sats[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px;top:0}@media (min-width: 435px){.formRadioGroup[_ngcontent-%COMP%]{position:absolute;right:0;top:-46px}}@media (max-width: 435px){.formRadioGroup[_ngcontent-%COMP%]{display:flex}}.rtl-layout[_nghost-%COMP%]   .formRadioGroup[_ngcontent-%COMP%], .rtl-layout   [_nghost-%COMP%]   .formRadioGroup[_ngcontent-%COMP%]{direction:ltr}@media (min-width: 435px){.rtl-layout[_nghost-%COMP%]   .formRadioGroup[_ngcontent-%COMP%], .rtl-layout   [_nghost-%COMP%]   .formRadioGroup[_ngcontent-%COMP%]{right:unset;left:0}}@media (max-width: 435px){.btn-group[_ngcontent-%COMP%]{flex-grow:1}}.alias[_ngcontent-%COMP%]{padding-left:0}@media (max-width: 815px){.feerate[_ngcontent-%COMP%]{display:none}}@media (max-width: 710px){.status[_ngcontent-%COMP%]{display:none}}@media (max-width: 600px){.nodedetails[_ngcontent-%COMP%]{display:none}}@media (max-width: 500px){.liquidity[_ngcontent-%COMP%]{display:none}}.channelid[_ngcontent-%COMP%]{padding-right:0}"],changeDetection:0})}return n})();var Ln=r(6078);function An(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",6),e.bIt("chartInit",function(o){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onChartInit(o))}),e.k0s()}if(2&n){const t=e.XpG(2);e.Y8G("initOpts",t.chartInitOptions)("options",t.chartOptions)}}function yn(n,s){1&n&&(e.j41(0,"div",4)(1,"h2"),e.pXf(2,0),e.k0s(),e.DNE(3,An,1,2,"div",5),e.k0s())}function vn(n,s){1&n&&(e.j41(0,"div",7),e.nrm(1,"div",8),e.k0s())}let xn=(()=>{class n{constructor(t,i,o,a,l,c){this.locale=t,this.lightningApiService=i,this.amountShortenerPipe=o,this.zone=a,this.router=l,this.stateService=c,this.chartOptions={},this.chartInitOptions={renderer:"svg"},this.isLoading=!0}ngOnChanges(){this.prepareChartOptions(null),this.channelsObservable$=this.lightningApiService.getChannelsByNodeId$(this.publicKey,-1,"active").pipe((0,j.n)(t=>(this.isLoading=!0,(t.body?.length??0)<=0?(this.isLoading=!1,[""]):[t.body])),(0,D.M)(t=>{if(0===t.length||0===t[0].length)return;const i=t[0].capacity;this.prepareChartOptions(t.map(o=>({name:o.node.alias,value:o.capacity,shortId:o.short_id,id:o.id,itemStyle:{color:(0,Ln.tV)("#1E88E5","#D81B60",Math.pow(o.capacity/i,.4))}}))),this.isLoading=!1}),(0,R.u)())}prepareChartOptions(t){this.chartOptions={tooltip:{trigger:"item",textStyle:{align:"left"}},series:[{left:0,right:0,bottom:0,top:0,roam:!1,type:"treemap",data:t,nodeClick:"link",progressive:100,tooltip:{show:!0,backgroundColor:"rgba(17, 19, 31, 1)",borderRadius:4,shadowColor:"rgba(0, 0, 0, 0.5)",textStyle:{color:"var(--tooltip-grey)"},borderColor:"#000",formatter:i=>{if(void 0===i.data.name)return"";let o="";return o=i.data.value>1e8?(0,_.ZV)(Math.round(i.data.value/1e8),this.locale,"1.2-2")+" EAC":this.amountShortenerPipe.transform(i.data.value,2)+" sats",`\n                <b style="color: white; margin-left: 2px">${i.data.shortId}</b><br>\n                <span>Node: ${i.name}</span><br>\n                <span>Capacity: ${o}</span>\n              `}},itemStyle:{borderColor:"black",borderWidth:1},breadcrumb:{show:!1}}]}}onChartInit(t){this.chartInstance=t,this.chartInstance.on("click",i=>{i.data.id&&this.zone.run(()=>{const o=new x.U(this.stateService).transform(`/lightning/channel/${i.data.id}`);this.router.navigate([o])})})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(e.xe9),e.rXU(m.C),e.rXU(v.x),e.rXU(e.SKi),e.rXU(T.Ix),e.rXU(M.d))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-node-channels"]],inputs:{publicKey:"publicKey"},features:[e.OA$],decls:4,vars:4,consts:()=>{let t;return t="\u0938\u0915\u094D\u0930\u093F\u092F \u091A\u0948\u0928\u0932 \u092E\u093E\u0928\u091A\u093F\u0924\u094D\u0930",[t,[1,"node-channels-container"],["style","min-height: 455px",4,"ngIf"],["class","text-center loading-spinner",4,"ngIf"],[2,"min-height","455px"],["echarts","",3,"initOpts","options","chartInit",4,"browserOnly"],["echarts","",3,"chartInit","initOpts","options"],[1,"text-center","loading-spinner"],[1,"spinner-border","text-light"]]},template:function(i,o){1&i&&(e.j41(0,"div",1),e.DNE(1,yn,4,0,"div",2),e.nI1(2,"async"),e.DNE(3,vn,2,0,"div",3),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngIf",e.bMT(2,2,o.channelsObservable$)),e.R7$(2),e.Y8G("ngIf",!o.stateService.isBrowser||o.isLoading))},dependencies:[_.bT,de.e,re.$P,_.Jj],styles:[".node-channels-container[_ngcontent-%COMP%]{position:relative}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;width:100%;z-index:99}.spinner-border[_ngcontent-%COMP%]{position:relative;top:225px}"],changeDetection:0})}return n})();var kn=r(1892),Hn=r(7302);const Oe=(n,s)=>[n,s],Xn=n=>({color:n}),Ne=n=>({bits:n}),Pe=()=>["fas","qrcode"];function Dn(n,s){if(1&n&&(e.qex(0),e.j41(1,"h5",45),e.pXf(2,5),e.k0s(),e.j41(3,"div",46)(4,"div",47)(5,"h1",48),e.EFF(6),e.k0s()(),e.j41(7,"span",49)(8,"span",50)(9,"app-truncate",51),e.nI1(10,"relativeUrl"),e.nrm(11,"app-clipboard",52),e.k0s()()()(),e.bVm()),2&n){const t=e.XpG().ngIf;e.R7$(6),e.JRh(t.alias),e.R7$(3),e.Y8G("text",t.public_key)("lastChars",8)("link",e.l_i(7,Oe,e.bMT(10,5,"/lightning/node"),t.public_key)),e.R7$(2),e.Y8G("text",t.public_key)}}function jn(n,s){if(1&n&&(e.j41(0,"div",53)(1,"span",54),e.EFF(2),e.nI1(3,"shortenString"),e.k0s()()),2&n){const t=e.XpG().ngIf;e.R7$(2),e.SpI('No node found for public key "',e.i5U(3,1,t.public_key,12),'"')}}function wn(n,s){if(1&n&&(e.j41(0,"td"),e.nrm(1,"app-geolocation",70),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("data",t.geolocation)("type","node")}}function Fn(n,s){1&n&&(e.j41(0,"td")(1,"span"),e.pXf(2,14),e.k0s()())}function Yn(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",63),e.pXf(2,15),e.k0s(),e.j41(3,"td",71),e.EFF(4),e.nI1(5,"amountShortener"),e.j41(6,"span",72),e.EFF(7,"km"),e.k0s(),e.j41(8,"span",73),e.EFF(9,"\xb7"),e.k0s(),e.EFF(10),e.nI1(11,"amountShortener"),e.j41(12,"span",72),e.EFF(13,"mi"),e.k0s()()()),2&n){const t=s.ngIf,i=e.XpG(3);e.R7$(4),e.SpI("",e.i5U(5,2,t,1)," "),e.R7$(6),e.SpI("",e.i5U(11,5,i.kmToMiles(t),1)," ")}}function zn(n,s){1&n&&e.eu8(0)}function Bn(n,s){if(1&n&&(e.j41(0,"tr",74),e.DNE(1,zn,1,0,"ng-container",75),e.k0s()),2&n){const t=e.XpG(2).ngIf,i=e.sdS(6);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,Ne,t.featuresBits))}}function Un(n,s){if(1&n&&(e.j41(0,"td")(1,"a",76),e.nI1(2,"relativeUrl"),e.EFF(3),e.k0s()()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("routerLink",e.l_i(5,Oe,e.bMT(2,3,"/lightning/nodes/isp"),t.as_number)),e.R7$(2),e.Lme(" ",t.as_organization," [ASN ",t.as_number,"] ")}}function Jn(n,s){1&n&&(e.j41(0,"td")(1,"span",77),e.pXf(2,16),e.k0s()())}function Vn(n,s){1&n&&(e.j41(0,"td")(1,"span"),e.pXf(2,17),e.k0s()())}function qn(n,s){if(1&n&&e.DNE(0,Jn,3,0,"td",37)(1,Vn,3,0,"td",37),2&n){const t=e.XpG(2).ngIf,i=e.XpG();e.Y8G("ngIf",0===i.clearnetSocketCount&&i.torSocketCount>0),e.R7$(),e.Y8G("ngIf",0===t.sockets.length)}}function Kn(n,s){1&n&&e.eu8(0)}function Wn(n,s){if(1&n&&(e.j41(0,"tr"),e.DNE(1,Kn,1,0,"ng-container",75),e.k0s()),2&n){const t=e.XpG(2).ngIf,i=e.sdS(6);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,Ne,t.featuresBits))}}function Qn(n,s){1&n&&e.eu8(0)}function Zn(n,s){if(1&n&&(e.j41(0,"tr",78),e.DNE(1,Qn,1,0,"ng-container",75),e.k0s()),2&n){const t=e.XpG(2).ngIf,i=e.sdS(6);e.R7$(),e.Y8G("ngTemplateOutlet",i)("ngTemplateOutletContext",e.eq3(2,Ne,t.featuresBits))}}function ei(n,s){if(1&n&&(e.j41(0,"div",55)(1,"div",56)(2,"div",57)(3,"table",58)(4,"tbody")(5,"tr")(6,"td",59),e.pXf(7,6),e.k0s(),e.j41(8,"td"),e.nrm(9,"app-sats",60)(10,"app-fiat",61),e.k0s()(),e.j41(11,"tr")(12,"td",59),e.pXf(13,7),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s()(),e.j41(16,"tr")(17,"td",62),e.pXf(18,8),e.k0s(),e.j41(19,"td"),e.nrm(20,"app-sats",60)(21,"app-fiat",61),e.k0s()(),e.j41(22,"tr")(23,"td",63),e.pXf(24,9),e.k0s(),e.DNE(25,wn,2,2,"td",37)(26,Fn,3,0,"td",37),e.k0s(),e.DNE(27,Yn,14,8,"tr",37),e.nI1(28,"async"),e.DNE(29,Bn,2,4,"tr",64),e.k0s()()(),e.nrm(30,"div",65),e.j41(31,"div",57)(32,"table",58)(33,"tbody")(34,"tr")(35,"td",59),e.pXf(36,10),e.k0s(),e.j41(37,"td"),e.nrm(38,"app-timestamp",66),e.k0s()(),e.j41(39,"tr")(40,"td",59),e.pXf(41,11),e.k0s(),e.j41(42,"td"),e.nrm(43,"app-timestamp",66),e.k0s()(),e.j41(44,"tr")(45,"td",59),e.pXf(46,12),e.k0s(),e.j41(47,"td")(48,"div",67),e.EFF(49),e.k0s()()(),e.j41(50,"tr")(51,"td",59),e.pXf(52,13),e.k0s(),e.DNE(53,Un,4,8,"td",68)(54,qn,2,2,"ng-template",null,2,e.C5r),e.k0s(),e.DNE(56,Wn,2,4,"tr",37)(57,Zn,2,4,"tr",69),e.k0s()()()()()),2&n){const t=e.sdS(55),i=e.XpG().ngIf,o=e.XpG();e.R7$(9),e.Y8G("satoshis",i.capacity),e.R7$(),e.Y8G("value",i.capacity),e.R7$(5),e.SpI(" ",i.active_channel_count," "),e.R7$(5),e.Y8G("satoshis",i.avgCapacity),e.R7$(),e.Y8G("value",i.avgCapacity),e.R7$(4),e.Y8G("ngIf",i.geolocation),e.R7$(),e.Y8G("ngIf",!i.geolocation),e.R7$(),e.Y8G("ngIf",e.bMT(28,17,o.avgChannelDistance$)),e.R7$(2),e.Y8G("ngIf",!i.geolocation),e.R7$(9),e.Y8G("unixTime",i.first_seen),e.R7$(5),e.Y8G("unixTime",i.updated_at),e.R7$(5),e.Y8G("ngStyle",e.eq3(19,Xn,i.color)),e.R7$(),e.JRh(i.color),e.R7$(4),e.Y8G("ngIf",i.as_number)("ngIfElse",t),e.R7$(3),e.Y8G("ngIf",i.geolocation&&i.featuresBits),e.R7$(),e.Y8G("ngIf",!i.geolocation&&i.featuresBits)}}function ti(n,s){if(1&n){const t=e.RV6();e.j41(0,"td",59),e.pXf(1,18),e.k0s(),e.j41(2,"td",79)(3,"span",80),e.EFF(4),e.k0s(),e.j41(5,"button",81),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.toggleFeatures())}),e.pXf(6,19),e.k0s()()}if(2&n){const t=s.bits;e.R7$(4),e.JRh(t)}}function ni(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",85),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",86),e.EFF(6),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.bit),e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.is_required)}}function ii(n,s){if(1&n&&(e.j41(0,"div",82)(1,"div",56)(2,"div",57)(3,"div",83)(4,"h5"),e.EFF(5,"Raw bits"),e.k0s(),e.j41(6,"span",84)(7,"small"),e.EFF(8),e.k0s()()(),e.j41(9,"h5"),e.pXf(10,20),e.k0s(),e.j41(11,"table",58)(12,"thead")(13,"th",85),e.EFF(14,"Bit"),e.k0s(),e.j41(15,"th"),e.pXf(16,21),e.k0s(),e.j41(17,"th",86),e.EFF(18,"Required"),e.k0s()(),e.j41(19,"tbody"),e.DNE(20,ni,7,3,"tr",87),e.k0s()()()()()),2&n){const t=e.XpG().ngIf;e.R7$(8),e.JRh(t.featuresBits),e.R7$(12),e.Y8G("ngForOf",t.features)}}function oi(n,s){if(1&n){const t=e.RV6();e.j41(0,"button",101),e.bIt("click",function(){const o=e.eBV(t).index,a=e.XpG(4);return e.Njj(a.changeSocket(o))}),e.EFF(1),e.k0s()}if(2&n){const t=s.$implicit;e.R7$(),e.JRh(t.label)}}function si(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",96,4)(2,"button",97),e.bIt("focus",function(){e.eBV(t);const o=e.sdS(1);return e.Njj(o.open())}),e.j41(3,"div",98),e.EFF(4),e.k0s()(),e.j41(5,"div",99),e.DNE(6,oi,2,1,"button",100),e.k0s()()}if(2&n){const t=e.XpG(2).ngIf,i=e.XpG();e.R7$(4),e.JRh(t.socketsObject[i.selectedSocketIndex].label),e.R7$(2),e.Y8G("ngForOf",t.socketsObject)}}function ai(n,s){if(1&n&&(e.j41(0,"span",102),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).ngIf,i=e.XpG();e.R7$(),e.JRh(t.socketsObject[i.selectedSocketIndex].label)}}function _i(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",88),e.DNE(1,si,7,2,"div",89)(2,ai,2,1,"ng-template",null,3,e.C5r),e.nrm(4,"input",90),e.j41(5,"button",91),e.bIt("mouseover",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.qrCodeVisible=!0)})("mouseout",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.qrCodeVisible=!1)}),e.nrm(6,"fa-icon",92),e.j41(7,"div",93),e.nrm(8,"app-qrcode",94),e.k0s()(),e.nrm(9,"app-clipboard",95),e.k0s()}if(2&n){const t=e.sdS(3),i=e.XpG().ngIf,o=e.XpG();e.R7$(),e.Y8G("ngIf",i.socketsObject.length>1)("ngIfElse",t),e.R7$(3),e.Y8G("value",i.socketsObject[o.selectedSocketIndex].socket),e.R7$(2),e.Y8G("icon",e.lJ4(11,Pe))("fixedWidth",!0),e.R7$(),e.Y8G("hidden",!o.qrCodeVisible),e.R7$(),e.Y8G("size",200)("data",i.socketsObject[o.selectedSocketIndex].socket),e.R7$(),e.Y8G("button",!0)("text",i.socketsObject[o.selectedSocketIndex].socket)("leftPadding",!1)}}function li(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"amountShortener"),e.j41(3,"span",72),e.pXf(4,29),e.k0s()()),2&n){const t=e.XpG(4);e.R7$(),e.SpI(" ",e.i5U(2,1,t.liquidityAd.channel_fee_max_base,0)," ")}}function ci(n,s){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function di(n,s){if(1&n&&(e.j41(0,"div",105)(1,"h5",83),e.pXf(2,22),e.k0s(),e.j41(3,"div",56)(4,"div",57)(5,"table",106)(6,"tbody")(7,"tr")(8,"td",107),e.pXf(9,23),e.k0s(),e.j41(10,"td")(11,"span",108),e.EFF(12),e.nI1(13,"amountShortener"),e.j41(14,"span",72),e.EFF(15),e.nI1(16,"amountShortener"),e.k0s()()()(),e.j41(17,"tr")(18,"td",107),e.pXf(19,24),e.k0s(),e.j41(20,"td"),e.nrm(21,"app-sats",109),e.k0s()(),e.j41(22,"tr")(23,"td",107),e.pXf(24,25),e.k0s(),e.nrm(25,"td",110),e.nI1(26,"wuBytes"),e.k0s()()()(),e.j41(27,"div",57)(28,"table",106)(29,"tbody")(30,"tr")(31,"td",107),e.pXf(32,26),e.k0s(),e.j41(33,"td")(34,"span",108),e.EFF(35),e.nI1(36,"amountShortener"),e.j41(37,"span",72),e.EFF(38),e.nI1(39,"amountShortener"),e.k0s()()()(),e.j41(40,"tr")(41,"td",107),e.pXf(42,27),e.k0s(),e.j41(43,"td"),e.DNE(44,li,5,4,"span",37)(45,ci,2,0,"span",37),e.k0s()(),e.j41(46,"tr")(47,"td",107),e.pXf(48,28),e.k0s(),e.j41(49,"td",111),e.EFF(50),e.k0s()()()()()()()),2&n){const t=e.XpG(3);e.R7$(12),e.SpI(" ",null!==t.liquidityAd.lease_fee_basis?e.ii3(13,10,1e3*t.liquidityAd.lease_fee_basis,2,void 0,!0):"-"," "),e.R7$(3),e.SpI("ppm ",null!==t.liquidityAd.lease_fee_basis?"("+e.ii3(16,15,t.liquidityAd.lease_fee_basis/10,2,void 0,!0)+"%)":"",""),e.R7$(6),e.Y8G("valueOverride",null===t.liquidityAd.lease_fee_base_sat?"- ":void 0)("satoshis",t.liquidityAd.lease_fee_base_sat),e.R7$(4),e.Y8G("innerHTML","\u200e"+e.i5U(26,20,t.liquidityAd.funding_weight,2),e.npT),e.R7$(10),e.SpI(" ",null!==t.liquidityAd.channel_fee_max_rate?e.ii3(36,23,1e3*t.liquidityAd.channel_fee_max_rate,2,void 0,!0):"-"," "),e.R7$(3),e.SpI("ppm ",null!==t.liquidityAd.channel_fee_max_rate?"("+e.ii3(39,28,t.liquidityAd.channel_fee_max_rate/10,2,void 0,!0)+"%)":"",""),e.R7$(6),e.Y8G("ngIf",null!==t.liquidityAd.channel_fee_max_base),e.R7$(),e.Y8G("ngIf",null===t.liquidityAd.channel_fee_max_base),e.R7$(5),e.JRh(t.liquidityAd.compact_lease)}}function ri(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",113),e.EFF(2),e.k0s(),e.j41(3,"td",114),e.EFF(4),e.k0s()()),2&n){const t=s.$implicit;e.R7$(2),e.JRh(t.type),e.R7$(2),e.JRh(t.payload)}}function gi(n,s){if(1&n&&(e.j41(0,"div",105)(1,"h5",83),e.pXf(2,30),e.k0s(),e.j41(3,"div",56)(4,"div",112)(5,"table",106)(6,"tbody"),e.DNE(7,ri,5,2,"tr",87),e.k0s()()()()()),2&n){const t=e.XpG(3);e.R7$(7),e.Y8G("ngForOf",t.tlvRecords)}}function pi(n,s){if(1&n&&(e.j41(0,"div",103)(1,"div",55),e.DNE(2,di,51,33,"ng-template",104)(3,gi,8,1,"ng-template",104),e.k0s()()),2&n){const t=e.XpG(2);e.Y8G("hidden",!t.showDetails),e.R7$(2),e.Y8G("ngIf",t.liquidityAd),e.R7$(),e.Y8G("ngIf",null==t.tlvRecords?null:t.tlvRecords.length)}}function Ni(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",115)(1,"button",116),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.toggleShowDetails())}),e.pXf(2,31),e.k0s()()}}function fi(n,s){if(1&n&&(e.j41(0,"div",56)(1,"div",123),e.nrm(2,"app-nodes-channels-map",124),e.k0s(),e.j41(3,"div",123),e.nrm(4,"app-node-statistics-chart",125),e.k0s()()),2&n){const t=e.XpG(2).ngIf;e.R7$(2),e.Aen("nodepage"),e.Y8G("publicKey",t.public_key)("hasLocation",!!t.as_number),e.R7$(2),e.Y8G("publicKey",t.public_key)}}function Ci(n,s){if(1&n&&(e.j41(0,"div"),e.nrm(1,"app-node-statistics-chart",125),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(),e.Y8G("publicKey",t.public_key)}}function Ti(n,s){if(1&n&&(e.j41(0,"h2")(1,"span"),e.pXf(2,32),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(2).ngIf;e.R7$(4),e.SpI(" (",t.opened_channel_count,")")}}function ui(n,s){if(1&n&&(e.j41(0,"h2")(1,"span"),e.pXf(2,33),e.k0s(),e.j41(3,"span"),e.EFF(4),e.k0s()()),2&n){const t=e.XpG(2).ngIf;e.R7$(4),e.SpI(" (",t.closed_channel_count,")")}}function Si(n,s){1&n&&e.nrm(0,"div",126)}function hi(n,s){if(1&n){const t=e.RV6();e.j41(0,"div"),e.DNE(1,fi,5,5,"div",117)(2,Ci,2,1,"div",37),e.nrm(3,"app-node-channels",118)(4,"app-node-fee-chart",119),e.j41(5,"div",120),e.DNE(6,Ti,5,1,"h2",37)(7,ui,5,1,"h2",37)(8,Si,1,0,"div",121),e.k0s(),e.j41(9,"app-channels-list",122),e.bIt("channelsStatusChangedEvent",function(o){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onChannelsListStatusChanged(o))})("loadingEvent",function(o){e.eBV(t);const a=e.XpG(2);return e.Njj(a.onLoadingEvent(o))}),e.k0s()()}if(2&n){const t=e.XpG().ngIf,i=e.XpG();e.R7$(),e.Y8G("ngIf",t.as_number&&t.active_channel_count),e.R7$(),e.Y8G("ngIf",!t.as_number||!t.active_channel_count),e.R7$(),e.Y8G("publicKey",t.public_key),e.R7$(3),e.Y8G("ngIf","open"===i.channelsListStatus),e.R7$(),e.Y8G("ngIf","closed"===i.channelsListStatus),e.R7$(),e.Y8G("ngIf",i.channelListLoading),e.R7$(),e.Y8G("publicKey",t.public_key)}}function mi(n,s){if(1&n&&(e.j41(0,"div",36),e.DNE(1,Dn,12,10,"ng-container",37),e.nrm(2,"div",38),e.DNE(3,jn,4,4,"div",39)(4,ei,58,21,"div",40)(5,ti,7,1,"ng-template",null,1,e.C5r)(7,ii,21,2,"div",41)(8,_i,10,12,"div",42)(9,pi,4,3,"div",43)(10,Ni,3,0,"div",44)(11,hi,10,7,"div",37),e.k0s()),2&n){const t=s.ngIf,i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.error),e.R7$(2),e.Y8G("ngIf",i.error),e.R7$(),e.Y8G("ngIf",!i.error),e.R7$(3),e.Y8G("ngIf",!i.error&&i.showFeatures),e.R7$(),e.Y8G("ngIf",!i.error&&t.socketsObject.length),e.R7$(),e.Y8G("ngIf",i.hasDetails),e.R7$(),e.Y8G("ngIf",i.hasDetails),e.R7$(),e.Y8G("ngIf",!i.error)}}function Ei(n,s){1&n&&(e.j41(0,"div",36)(1,"h5",45),e.pXf(2,34),e.k0s(),e.j41(3,"div",46)(4,"h1",127),e.nrm(5,"span",128),e.k0s(),e.j41(6,"span",129),e.nrm(7,"span",130),e.k0s()(),e.nrm(8,"div",38),e.j41(9,"div",55)(10,"div",56)(11,"div",57)(12,"table",106)(13,"tbody")(14,"tr")(15,"td"),e.nrm(16,"span",131),e.k0s(),e.j41(17,"td"),e.nrm(18,"span",131),e.k0s()(),e.j41(19,"tr")(20,"td"),e.nrm(21,"span",131),e.k0s(),e.j41(22,"td"),e.nrm(23,"span",131),e.k0s()(),e.j41(24,"tr")(25,"td"),e.nrm(26,"span",131),e.k0s(),e.j41(27,"td"),e.nrm(28,"span",131),e.k0s()(),e.j41(29,"tr")(30,"td"),e.nrm(31,"span",131),e.k0s(),e.j41(32,"td"),e.nrm(33,"span",131),e.k0s()()()()(),e.nrm(34,"div",65),e.j41(35,"div",57)(36,"table",106)(37,"tbody")(38,"tr")(39,"td"),e.nrm(40,"span",131),e.k0s(),e.j41(41,"td"),e.nrm(42,"span",131),e.k0s()(),e.j41(43,"tr")(44,"td"),e.nrm(45,"span",131),e.k0s(),e.j41(46,"td"),e.nrm(47,"span",131),e.k0s()(),e.j41(48,"tr")(49,"td"),e.nrm(50,"span",131),e.k0s(),e.j41(51,"td"),e.nrm(52,"span",131),e.k0s()(),e.j41(53,"tr")(54,"td"),e.nrm(55,"span",131),e.k0s(),e.j41(56,"td"),e.nrm(57,"span",131),e.k0s()()()()()()(),e.j41(58,"div",88)(59,"span",102),e.nrm(60,"span",132),e.k0s(),e.nrm(61,"input",133),e.j41(62,"button",134),e.nrm(63,"fa-icon",92),e.k0s(),e.nrm(64,"app-clipboard",135),e.k0s(),e.nrm(65,"br"),e.j41(66,"div",56)(67,"div",123)(68,"div",136)(69,"div",137),e.nrm(70,"div",138),e.k0s()()(),e.j41(71,"div",123)(72,"div",136)(73,"div",137),e.nrm(74,"div",138),e.k0s()()()()()),2&n&&(e.R7$(62),e.Y8G("disabled",!0),e.R7$(),e.Y8G("icon",e.lJ4(5,Pe))("fixedWidth",!0),e.R7$(),e.Y8G("button",!0)("text",""))}let Ii=(()=>{class n{constructor(t,i,o,a,l,c){this.apiService=t,this.servicesApiService=i,this.lightningApiService=o,this.activatedRoute=a,this.seoService=l,this.cd=c,this.selectedSocketIndex=0,this.qrCodeVisible=!1,this.channelListLoading=!1,this.clearnetSocketCount=0,this.torSocketCount=0,this.hasDetails=!1,this.showDetails=!1,this.showFeatures=!1,this.kmToMiles=X.aB}ngOnInit(){this.node$=this.activatedRoute.paramMap.pipe((0,j.n)(t=>(this.publicKey=t.get("public_key"),this.tlvRecords=[],this.liquidityAd=null,this.lightningApiService.getNode$(t.get("public_key")))),(0,L.T)(t=>{this.seoService.setTitle("\u0928\u094B\u0921: " + t.alias + ""),this.seoService.setDescription("" + t.alias + " \u0928\u093E\u092E\u0915 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0928\u094B\u0921 \u0915\u093E \u0905\u0935\u0932\u094B\u0915\u0928\u0964 \u091A\u0948\u0928\u0932, \u0915\u094D\u0937\u092E\u0924\u093E, \u0938\u094D\u0925\u093E\u0928, \u0936\u0941\u0932\u094D\u0915 \u0906\u0901\u0915\u0921\u093C\u0947 \u0914\u0930 \u0905\u0927\u093F\u0915 \u0926\u0947\u0916\u0947\u0902\u0964"),this.clearnetSocketCount=0,this.torSocketCount=0;const i=[];for(const o of t.sockets.split(",")){if(""===o)continue;let a="";o.match(/(?:[0-9]{1,3}\.){3}[0-9]{1,3}/)?(a="IPv4",this.clearnetSocketCount++):o.indexOf("[")>-1?(a="IPv6",this.clearnetSocketCount++):o.indexOf("onion")>-1&&(a="Tor",this.torSocketCount++),i.push({label:a,socket:t.public_key+"@"+o})}return t.socketsObject=i,t.avgCapacity=t.capacity/Math.max(1,t.active_channel_count),t.geolocation=t?.country||t?.city||t?.subdivision||t?.iso?{country:t.country?.en,city:t.city?.en,subdivision:t.subdivision?.en,iso:t.iso_code}:null,t}),(0,D.M)(t=>{this.hasDetails=Object.keys(t.custom_records).length>0;for(const[i,o]of Object.entries(t.custom_records)){if("string"!=typeof o)break;let a=!1;if("1"===i){const l=zt(o);l&&(a=!0,this.liquidityAd=l)}a||this.tlvRecords.push({type:i,payload:o})}}),(0,le.W)(t=>(this.error=t,this.seoService.logSoft404(),[{alias:this.publicKey,public_key:this.publicKey}]))),this.avgChannelDistance$=this.activatedRoute.paramMap.pipe((0,j.n)(t=>this.apiService.getChannelsGeo$(t.get("public_key"),"nodepage")),(0,L.T)(t=>t?.length?t.reduce((o,a)=>o+(0,X.$7)(a[3],a[2],a[7],a[6]),0)/t.length:null),(0,le.W)(()=>null))}toggleShowDetails(){this.showDetails=!this.showDetails}changeSocket(t){this.selectedSocketIndex=t}onChannelsListStatusChanged(t){this.channelsListStatus=t}onLoadingEvent(t){this.channelListLoading=t}toggleFeatures(){return this.showFeatures=!this.showFeatures,!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(ce.G),e.rXU(Bt.z),e.rXU(m.C),e.rXU(T.nX),e.rXU(E.B),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-node"]],decls:4,vars:4,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P,S,b,p,G,V,q,K,W,Q,O,ke,He,Xe,De,je,we,Fe,Ye;return t="\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921",i="\u0938\u0915\u094D\u0930\u093F\u092F \u0915\u094D\u0937\u092E\u0924\u093E",o="\u0938\u0915\u094D\u0930\u093F\u092F \u091A\u0948\u0928\u0932",a="\u0914\u0938\u0924 \u091A\u0948\u0928\u0932 \u0938\u093E\u0907\u091C\xA0",l="\u091C\u0917\u0939",c="\u092A\u094D\u0930\u0925\u092E \u0926\u0947\u0916\u093E",g="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",d="\u0930\u0902\u0917",C="\u0906\u0908\u090F\u0938\u092A\u0940",N="\u0905\u091C\u094D\u091E\u093E\u0924",u="\u0914\u0938\u0924 \u091A\u0948\u0928\u0932 \u0926\u0942\u0930\u0940",P="\u0935\u093F\u0936\u0947\u0937 \u0930\u0942\u092A \u0938\u0947 Tor \u092A\u0930",S="\u0905\u091C\u094D\u091E\u093E\u0924",b="\u0935\u093F\u0936\u0947\u0937\u0924\u093E\u090F\u0902",p="\u0935\u093F\u0935\u0930\u0923",G="\u0921\u0940\u0915\u094B\u0921 \u0915\u093F\u092F\u093E \u0917\u092F\u093E\xA0",V="\u0928\u093E\u092E",q="\u0924\u0930\u0932\u0924\u093E \u0935\u093F\u091C\u094D\u091E\u093E\u092A\u0928",K="\u092A\u091F\u094D\u091F\u093E \u0936\u0941\u0932\u094D\u0915 \u0926\u0930",W="\u092A\u091F\u094D\u091F\u093E \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",Q="\u0935\u093F\u0924\u094D\u0924\u092A\u094B\u0937\u0923 \u092D\u093E\u0930",O="\u091A\u0948\u0928\u0932 \u0936\u0941\u0932\u094D\u0915 \u0926\u0930",ke="\u091A\u0948\u0928\u0932 \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",He="\u0915\u0949\u092E\u094D\u092A\u0948\u0915\u094D\u091F \u0932\u0940\u091C\u093C",Xe="\u090F\u092E\u0938\u0948\u091F\u094D\u0938",De="\u091F\u0940\u090F\u0932\u0935\u0940 \u090F\u0915\u094D\u0938\u091F\u0947\u0902\u0936\u0928 \u0930\u093F\u0915\u0949\u0930\u094D\u0921",je="\u0935\u093F\u0935\u0930\u0923",we="\u0916\u0941\u0932\u0947 \u091A\u0948\u0928\u0932",Fe="\u092C\u0902\u0926 \u091A\u0948\u0928\u0932",Ye="\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921",[["skeletonLoader",""],["featurebits",""],["unknownAS",""],["noDropdown",""],["myDrop","ngbDropdown"],t,i,o,a,l,c,g,d,C,N,u,P,S,b,p,G,V,q,K,W,Q,O,ke,He,Xe,De,je,we,Fe,Ye,["class","container-xl",4,"ngIf","ngIfElse"],[1,"container-xl"],[4,"ngIf"],[1,"clearfix"],["class","d-flex flex-column justify-content-around align-items-center mt-5 w-100","style","min-height: 100px",4,"ngIf"],["class","box",4,"ngIf"],["class","box mt-2",4,"ngIf"],["class","input-group mt-3",4,"ngIf"],["id","details","class","details mt-3",3,"hidden",4,"ngIf"],["class","text-right mt-3",4,"ngIf"],[1,"mb-0",2,"color","var(--transparent-fg)"],[1,"title-container","mb-2"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0","text-truncate"],[1,"tx-link","justify-content-between","align-items-center"],[1,"node-id"],[3,"text","lastChars","link"],[3,"text"],[1,"d-flex","flex-column","justify-content-around","align-items-center","mt-5","w-100",2,"min-height","100px"],[1,"text-center"],[1,"box"],[1,"row"],[1,"col-md"],[1,"table","table-borderless","table-striped","table-fixed"],[1,"text-truncate","label"],[3,"satoshis"],["digitsInfo","1.0-0",3,"value"],[1,"text-wrap","label"],[1,"text-truncate"],["class","d-none d-md-table-row",4,"ngIf"],[1,"w-100","d-block","d-md-none"],[3,"unixTime"],[3,"ngStyle"],[4,"ngIf","ngIfElse"],["class","d-table-row d-md-none",4,"ngIf"],[3,"data","type"],[1,"direction-ltr"],[1,"symbol"],[1,"separator"],[1,"d-none","d-md-table-row"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-block","text-wrap",3,"routerLink"],["placement","bottom",1,"badge","badge-success"],[1,"d-table-row","d-md-none"],[1,"d-flex","justify-content-between"],[1,"text-truncate","w-90"],["type","button",1,"btn","btn-outline-info","btn-xs",3,"click"],[1,"box","mt-2"],[1,"mb-3"],[1,"text-wrap","w-100"],[2,"width","13%"],[2,"width","25%","text-align","right"],[4,"ngFor","ngForOf"],[1,"input-group","mt-3"],["class","d-inline-block","ngbDropdown","",4,"ngIf","ngIfElse"],["type","text","aria-label","Text input with dropdown button",1,"form-control",3,"value"],["type","button","id","inputGroupFileAddon04",1,"btn","btn-secondary","ml-1",3,"mouseover","mouseout"],[3,"icon","fixedWidth"],[1,"qr-wrapper",3,"hidden"],[3,"size","data"],[3,"button","text","leftPadding"],["ngbDropdown","",1,"d-inline-block"],["type","button","aria-expanded","false","ngbDropdownAnchor","",1,"btn","btn-secondary","dropdown-toggle",3,"focus"],[1,"dropdownLabel"],["ngbDropdownMenu","","aria-labelledby","dropdownManual"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click"],["id","basic-addon3",1,"input-group-text"],["id","details",1,"details","mt-3",3,"hidden"],[3,"ngIf"],[1,"detail-section"],[1,"table","table-borderless","table-striped"],[1,"label"],[1,"d-inline-block"],[3,"valueOverride","satoshis"],[3,"innerHTML"],[1,"compact-lease"],[1,"col"],[1,"tlv-type"],[1,"tlv-payload"],[1,"text-right","mt-3"],["type","button",1,"btn","btn-outline-info","btn-sm","btn-details",3,"click"],["class","row",4,"ngIf"],[2,"display","block","margin-bottom","40px",3,"publicKey"],[2,"display","block","margin-bottom","40px"],[1,"d-flex"],["class","spinner-border ml-3","role","status",4,"ngIf"],[3,"channelsStatusChangedEvent","loadingEvent","publicKey"],[1,"col-sm"],[3,"publicKey","hasLocation"],[3,"publicKey"],["role","status",1,"spinner-border","ml-3"],[1,"mb-0"],[1,"skeleton-loader",2,"width","250px","height","36px","margin-top","5px","margin-bottom","5px"],[1,"tx-link"],[1,"skeleton-loader",2,"margin-bottom","3px","width","80%"],[1,"skeleton-loader"],[1,"skeleton-loader",2,"width","75px"],["type","text","disabled","",1,"form-control",2,"opacity","0.3"],["type","button","id","inputGroupFileAddon04",1,"btn","btn-secondary","ml-1",3,"disabled"],[3,"button","text"],[2,"height","400px"],[1,"text-center","loadingGraphs"],[1,"spinner-border","text-light"]]},template:function(i,o){if(1&i&&(e.DNE(0,mi,12,8,"div",35),e.nI1(1,"async"),e.DNE(2,Ei,75,6,"ng-template",null,0,e.C5r)),2&i){const a=e.sdS(3);e.Y8G("ngIf",e.bMT(1,2,o.node$))("ngIfElse",a)}},dependencies:[_.Sq,_.bT,_.T3,_.B3,T.Wk,f.tg,f.E5,f.U0,f._H,f.Eu,y.aY,J.w,Ee.q,$.k,ee.z,te.o,Y.m,z,qt,Qt,$n,se.E,xn,_.Jj,x.U,kn.g,Hn.l,v.x],styles:[".title-container[_ngcontent-%COMP%]{display:flex;flex-direction:column}.tx-link[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.node-id[_ngcontent-%COMP%]{width:0;flex-grow:1}.qr-wrapper[_ngcontent-%COMP%]{background-color:var(--fg);padding:10px 10px 5px;display:inline-block;position:absolute;bottom:50px;left:-175px;z-index:100}.dropdownLabel[_ngcontent-%COMP%]{min-width:50px;display:inline-block}#inputGroupFileAddon04[_ngcontent-%COMP%]{position:relative}app-fiat[_ngcontent-%COMP%]{display:block;font-size:13px}@media (min-width: 768px){app-fiat[_ngcontent-%COMP%]{font-size:14px;display:inline-block;margin-left:10px}}@media (min-width: 768px){.spinner-border[_ngcontent-%COMP%]{margin-top:6.5px;width:1.75rem;height:1.75rem}}@media (max-width: 768px){.spinner-border[_ngcontent-%COMP%]{margin-top:2.3px;width:1.5rem;height:1.5rem}}.loadingGraphs[_ngcontent-%COMP%]{position:absolute;top:50%;left:calc(50% - 15px);z-index:100}.label[_ngcontent-%COMP%]{width:50%}@media (min-width: 576px){.label[_ngcontent-%COMP%]{width:40%}}@media (max-width: 767.98px){h1[_ngcontent-%COMP%] > .skeleton-loader[_ngcontent-%COMP%]{height:28px!important}}.details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.details[_ngcontent-%COMP%]   .detail-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.details[_ngcontent-%COMP%]   .tlv-type[_ngcontent-%COMP%]{font-size:12px;color:var(--transparent-fg)}.details[_ngcontent-%COMP%]   .tlv-payload[_ngcontent-%COMP%]{font-size:12px;width:100%;word-break:break-all;white-space:normal;font-family:Courier New,Courier,monospace}.details[_ngcontent-%COMP%]   .compact-lease[_ngcontent-%COMP%]{word-break:break-all;white-space:normal;font-family:Courier New,Courier,monospace}.separator[_ngcontent-%COMP%]{margin:0 .25em;color:#708090}.claim-btn[_ngcontent-%COMP%]{max-height:32px}@media (min-width: 850px){.claim-btn[_ngcontent-%COMP%]{display:none}}.claim-btn-mobile[_ngcontent-%COMP%]{max-height:32px}@media (max-width: 850px){.claim-btn-mobile[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return n})();var Ge=r(4437),ne=r(7673),Oi=r(4668),Me=r(4163),Re=r(3454);const Pi=(n,s)=>[n,s],be=n=>({$implicit:n});function Gi(n,s){1&n&&e.eu8(0)}function Mi(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"amountShortener"),e.j41(3,"span",25),e.pXf(4,8),e.k0s()()),2&n){const t=e.XpG();e.R7$(),e.SpI(" ",e.i5U(2,1,t.channel.base_fee_mtokens,0)," ")}}function Ri(n,s){1&n&&(e.j41(0,"span"),e.EFF(1," - "),e.k0s())}function bi(n,s){1&n&&(e.j41(0,"span",33),e.pXf(1,9),e.k0s())}function $i(n,s){if(1&n&&e.DNE(0,bi,2,0,"span",32),2&n){const t=e.XpG(),i=e.sdS(41);e.Y8G("ngIf",0===t.channel.base_fee_mtokens)("ngIfElse",i)}}function Li(n,s){1&n&&(e.j41(0,"span",34),e.pXf(1,10),e.k0s())}function Ai(n,s){1&n&&e.eu8(0)}function yi(n,s){if(1&n&&(e.PLo(0,11),e.nrm(1,"span",35),e.YFu()),2&n){const t=s.$implicit;e.R7$(),e.uP7(t),e.nnv(0)}}function vi(n,s){1&n&&e.pXf(0,12),2&n&&(e.uP7(s.$implicit),e.nnv(0))}let xi=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-channel-box"]],inputs:{channel:"channel"},decls:61,vars:45,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P;return t="\u0936\u0941\u0932\u094D\u0915 \u0926\u0930",i="\u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",o="\u0928\u094D\u092F\u0942\u0928\u0924\u092E \u090F\u091A\u091F\u0940\u090F\u0932\u0938\u0940",a="\u0905\u0927\u093F\u0915\u0924\u092E \u090F\u091A\u091F\u0940\u090F\u0932\u0938\u0940",l="\u091F\u093E\u0907\u092E\u0932\u0949\u0915 \u0921\u0947\u0932\u094D\u091F\u093E",c="\u090F\u092E\u0938\u0948\u091F\u094D\u0938",g="\u092F\u0939 \u091A\u0948\u0928\u0932 \u0936\u0942\u0928\u094D\u092F \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915 \u0930\u0942\u091F\u093F\u0902\u0917 \u0915\u093E \u0938\u092E\u0930\u094D\u0925\u0928 \u0915\u0930\u0924\u093E \u0939\u0948",d="\u0936\u0942\u0928\u094D\u092F \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",C="\u092F\u0939 \u091A\u0948\u0928\u0932 \u0936\u0942\u0928\u094D\u092F \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915 \u0930\u0942\u091F\u093F\u0902\u0917 \u0915\u093E \u0938\u092E\u0930\u094D\u0925\u0928 \u0928\u0939\u0940\u0902 \u0915\u0930\u0924\u093E \u0939\u0948",N="\u0917\u0948\u0930-\u0936\u0942\u0928\u094D\u092F \u0906\u0927\u093E\u0930 \u0936\u0941\u0932\u094D\u0915",u="" + "\ufffd0\ufffd" + " " + "\ufffd#1\ufffd" + "\u092C\u094D\u0932\u0949\u0915" + "\ufffd/#1\ufffd" + "",P="" + "\ufffd0\ufffd" + " \u091A\u0948\u0928\u0932",[["nonZeroBaseFee",""],["blocksPlural",""],["xChannels",""],t,i,o,a,l,c,d,N,u,P,[1,"mb-2","box-top"],[1,"box-left","text-truncate"],[1,"mb-0","text-truncate"],[3,"text","lastChars","link"],[3,"text"],[1,"box-right"],[1,"second-line"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["digitsInfo","1.2-2",3,"satoshis","noFiat"],[1,"box"],[1,"table","table-borderless","table-striped"],[1,"d-inline-block","d-md-none"],[1,"symbol"],[1,"d-none","d-md-inline-block"],[1,"base-fee"],[1,"d-flex","justify-content-between","align-items-center"],[4,"ngIf"],[3,"ngIf"],[3,"valueOverride","satoshis"],["class","badge badge-success","ngbTooltip",g,"placement","bottom",4,"ngIf","ngIfElse"],["ngbTooltip",g,"placement","bottom",1,"badge","badge-success"],["ngbTooltip",C,"placement","bottom",1,"badge","badge-danger"],[1,"shared-block"]]},template:function(i,o){if(1&i&&(e.j41(0,"div",13)(1,"div",14)(2,"h3",15),e.EFF(3),e.k0s(),e.j41(4,"app-truncate",16),e.nI1(5,"relativeUrl"),e.nrm(6,"app-clipboard",17),e.k0s()(),e.j41(7,"div",18)(8,"div",19),e.DNE(9,Gi,1,0,"ng-container",20),e.k0s(),e.j41(10,"div",19),e.nrm(11,"app-amount",21),e.k0s()()(),e.j41(12,"div",22)(13,"table",23)(14,"tbody")(15,"tr")(16,"td"),e.pXf(17,3),e.k0s(),e.j41(18,"td")(19,"span",24),e.EFF(20),e.nI1(21,"amountShortener"),e.j41(22,"span",25),e.EFF(23),e.nI1(24,"amountShortener"),e.k0s()(),e.j41(25,"span",26),e.EFF(26),e.nI1(27,"number"),e.j41(28,"span",25),e.EFF(29),e.nI1(30,"number"),e.k0s()()()(),e.j41(31,"tr")(32,"td"),e.pXf(33,4),e.k0s(),e.j41(34,"td",27)(35,"span",28)(36,"span"),e.DNE(37,Mi,5,4,"span",29)(38,Ri,2,0,"span",29),e.k0s(),e.DNE(39,$i,1,2,"ng-template",30)(40,Li,2,0,"ng-template",null,0,e.C5r),e.k0s()()(),e.j41(42,"tr")(43,"td"),e.pXf(44,5),e.k0s(),e.j41(45,"td"),e.nrm(46,"app-sats",31),e.k0s()(),e.j41(47,"tr")(48,"td"),e.pXf(49,6),e.k0s(),e.j41(50,"td"),e.nrm(51,"app-sats",31),e.k0s()(),e.j41(52,"tr")(53,"td"),e.pXf(54,7),e.k0s(),e.j41(55,"td"),e.DNE(56,Ai,1,0,"ng-container",20),e.k0s()()()()(),e.DNE(57,yi,2,1,"ng-template",null,1,e.C5r)(59,vi,1,1,"ng-template",null,2,e.C5r)),2&i){let a;const l=e.sdS(58),c=e.sdS(60);e.R7$(3),e.JRh(o.channel.alias||"?"),e.R7$(),e.Y8G("text",o.channel.public_key)("lastChars",6)("link",e.l_i(38,Pi,e.bMT(5,22,"/lightning/node"),o.channel.public_key)),e.R7$(2),e.Y8G("text",o.channel.public_key),e.R7$(3),e.Y8G("ngTemplateOutlet",c)("ngTemplateOutletContext",e.eq3(41,be,o.channel.channels)),e.R7$(2),e.Y8G("satoshis",o.channel.capacity)("noFiat",!0),e.R7$(9),e.SpI(" ",null!==o.channel.fee_rate?e.ii3(21,24,o.channel.fee_rate,2,void 0,!0):"-"," "),e.R7$(3),e.SpI("ppm ",null!==o.channel.fee_rate?"("+e.ii3(24,29,o.channel.fee_rate/1e4,2,void 0,!0)+"%)":"",""),e.R7$(3),e.SpI(" ",null!==o.channel.fee_rate?e.bMT(27,34,o.channel.fee_rate):"-"," "),e.R7$(3),e.SpI("ppm ",null!==o.channel.fee_rate?"("+e.bMT(30,36,o.channel.fee_rate/1e4)+"%)":"",""),e.R7$(8),e.Y8G("ngIf",null!==o.channel.base_fee_mtokens),e.R7$(),e.Y8G("ngIf",null===o.channel.base_fee_mtokens),e.R7$(),e.Y8G("ngIf",null!==o.channel.base_fee_mtokens),e.R7$(7),e.Y8G("valueOverride",null===o.channel.min_htlc_mtokens?"- ":void 0)("satoshis",o.channel.min_htlc_mtokens/1e3),e.R7$(5),e.Y8G("valueOverride",null===o.channel.max_htlc_mtokens?"- ":void 0)("satoshis",o.channel.max_htlc_mtokens/1e3),e.R7$(5),e.Y8G("ngTemplateOutlet",l)("ngTemplateOutletContext",e.eq3(43,be,null!==(a=o.channel.cltv_delta)&&void 0!==a?a:"-"))}},dependencies:[_.bT,_.T3,f.md,J.w,I.Y,ee.z,te.o,_.QX,x.U,v.x],styles:[".box-top[_ngcontent-%COMP%]{display:flex}.box-left[_ngcontent-%COMP%]{width:100%}.box-right[_ngcontent-%COMP%]{text-align:right;margin:auto;white-space:nowrap}.shared-block[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px}@media (max-width: 768px){.box[_ngcontent-%COMP%]{margin-bottom:20px}}@media (max-width: 768px){.base-fee[_ngcontent-%COMP%]{padding-right:0}}"],changeDetection:0})}return n})();function ki(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"number"),e.nrm(4,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Lme("",e.i5U(2,2,t.minStartingBalance,"1.0-0")," - ",e.i5U(3,5,t.maxStartingBalance,"1.0-0"),"")}}function Hi(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nrm(3,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,t.minStartingBalance,"1.0-0"))}}function Xi(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"number"),e.nrm(4,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Lme("",e.i5U(2,2,t.channel.capacity-t.maxStartingBalance,"1.0-0")," - ",e.i5U(3,5,t.channel.capacity-t.minStartingBalance,"1.0-0"),"")}}function Di(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nrm(3,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,t.channel.capacity-t.maxStartingBalance,"1.0-0"))}}function ji(n,s){if(1&n&&(e.j41(0,"div",5)(1,"h5"),e.pXf(2,0),e.k0s(),e.j41(3,"div",6)(4,"h5",7),e.EFF(5),e.k0s(),e.j41(6,"h5",7),e.EFF(7),e.k0s()(),e.j41(8,"div",8)(9,"div",9),e.DNE(10,ki,5,8,"span",10)(11,Hi,4,4,"span",10),e.k0s(),e.j41(12,"div",11),e.DNE(13,Xi,5,8,"span",10)(14,Di,4,4,"span",10),e.k0s()(),e.j41(15,"div",12),e.nrm(16,"div",13)(17,"div",14)(18,"div",15),e.k0s()()),2&n){const t=e.XpG();e.R7$(5),e.JRh(t.left.alias),e.R7$(2),e.JRh(t.right.alias),e.R7$(3),e.Y8G("ngIf",t.minStartingBalance!==t.maxStartingBalance),e.R7$(),e.Y8G("ngIf",t.minStartingBalance===t.maxStartingBalance),e.R7$(2),e.Y8G("ngIf",t.minStartingBalance!==t.maxStartingBalance),e.R7$(),e.Y8G("ngIf",t.minStartingBalance===t.maxStartingBalance),e.R7$(2),e.Aen(t.startingBalanceStyle.left),e.AVh("hide-value",t.hideStartingLeft),e.R7$(),e.Aen(t.startingBalanceStyle.center),e.R7$(),e.Aen(t.startingBalanceStyle.right),e.AVh("hide-value",t.hideStartingRight)}}function wi(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"number"),e.nrm(4,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Lme("",e.i5U(2,2,t.minClosingBalance,"1.0-0")," - ",e.i5U(3,5,t.maxClosingBalance,"1.0-0"),"")}}function Fi(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nrm(3,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,t.minClosingBalance,"1.0-0"))}}function Yi(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nI1(3,"number"),e.nrm(4,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Lme("",e.i5U(2,2,t.channel.capacity-t.maxClosingBalance,"1.0-0")," - ",e.i5U(3,5,t.channel.capacity-t.minClosingBalance,"1.0-0"),"")}}function zi(n,s){if(1&n&&(e.j41(0,"span",16),e.EFF(1),e.nI1(2,"number"),e.nrm(3,"app-sats",17),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,t.channel.capacity-t.maxClosingBalance,"1.0-0"))}}function Bi(n,s){if(1&n&&(e.j41(0,"div",18)(1,"h5"),e.pXf(2,1),e.k0s(),e.j41(3,"div",8)(4,"div",9),e.DNE(5,wi,5,8,"span",10)(6,Fi,4,4,"span",10),e.k0s(),e.j41(7,"div",11),e.DNE(8,Yi,5,8,"span",10)(9,zi,4,4,"span",10),e.k0s()(),e.j41(10,"div",12),e.nrm(11,"div",13)(12,"div",14)(13,"div",15),e.k0s()()),2&n){const t=e.XpG();e.R7$(5),e.Y8G("ngIf",t.minClosingBalance!==t.maxClosingBalance),e.R7$(),e.Y8G("ngIf",t.minClosingBalance===t.maxClosingBalance),e.R7$(2),e.Y8G("ngIf",t.minClosingBalance!==t.maxClosingBalance),e.R7$(),e.Y8G("ngIf",t.minClosingBalance===t.maxClosingBalance),e.R7$(2),e.Aen(t.closingBalanceStyle.left),e.AVh("hide-value",t.hideClosingLeft),e.R7$(),e.Aen(t.closingBalanceStyle.center),e.R7$(),e.Aen(t.closingBalanceStyle.right),e.AVh("hide-value",t.hideClosingRight)}}let Ui=(()=>{class n{constructor(){this.showStartingBalance=!1,this.showClosingBalance=!1,this.startingBalanceStyle={left:"",center:"",right:""},this.closingBalanceStyle={left:"",center:"",right:""},this.hideStartingLeft=!1,this.hideStartingRight=!1,this.hideClosingLeft=!1,this.hideClosingRight=!1}ngOnChanges(t){let i;this.channel&&this.left&&this.right?(this.showStartingBalance=(this.left.funding_balance||this.right.funding_balance)&&this.channel.funding_ratio,this.showClosingBalance=this.left.closing_balance||this.right.closing_balance,this.channel.single_funded?this.left.funding_balance?(this.minStartingBalance=this.channel.capacity,this.maxStartingBalance=this.channel.capacity):this.right.funding_balance&&(this.minStartingBalance=0,this.maxStartingBalance=0):(this.minStartingBalance=ie(0,this.channel.capacity,this.left.funding_balance*this.channel.funding_ratio),this.maxStartingBalance=ie(0,this.channel.capacity,this.channel.capacity-this.right.funding_balance*this.channel.funding_ratio)),i=this.channel.capacity-this.channel.closing_fee,this.minClosingBalance=ie(0,i,this.left.closing_balance),this.maxClosingBalance=ie(0,i,i-this.right.closing_balance),Math.abs(this.minClosingBalance-this.maxClosingBalance)<=660&&(this.maxClosingBalance=this.minClosingBalance)):(this.showStartingBalance=!1,this.showClosingBalance=!1);const o=this.minStartingBalance/this.channel.capacity*100,a=this.maxStartingBalance/this.channel.capacity*100;this.startingBalanceStyle={left:`left: 0%; right: ${100-o}%;`,center:`left: ${o}%; right: ${100-a}%;`,right:`left: ${a}%; right: 0%;`},this.hideStartingLeft=o<15,this.hideStartingRight=a>85;const l=this.minClosingBalance/i*100,c=this.maxClosingBalance/i*100;this.closingBalanceStyle={left:`left: 0%; right: ${100-l}%;`,center:`left: ${l}%; right: ${100-c}%;`,right:`left: ${c}%; right: 0%;`},this.hideClosingLeft=l<15,this.hideClosingRight=c>85}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-channel-close-box"]],inputs:{channel:"channel",left:"left",right:"right"},features:[e.OA$],decls:4,vars:2,consts:()=>{let t,i;return t="\u0936\u0941\u0930\u0941\u0906\u0924\u0940 \u0936\u0947\u0937\xA0",i="\u091C\u092E\u093E \u0936\u0947\u0937",[t,i,[1,"box"],["class","starting-balance",4,"ngIf"],["class","closing-balance",4,"ngIf"],[1,"starting-balance"],[1,"nodes"],[1,"alias"],[1,"balances"],[1,"balance","left"],["class","value",4,"ngIf"],[1,"balance","right"],[1,"balance-bar"],[1,"bar","left"],[1,"bar","center"],[1,"bar","right"],[1,"value"],[3,"valueOverride"],[1,"closing-balance"]]},template:function(i,o){1&i&&(e.j41(0,"div",2),e.DNE(1,ji,19,16,"div",3),e.nrm(2,"br"),e.DNE(3,Bi,14,14,"div",4),e.k0s()),2&i&&(e.R7$(),e.Y8G("ngIf",o.showStartingBalance),e.R7$(2),e.Y8G("ngIf",o.showClosingBalance))},dependencies:[_.bT,ee.z,_.QX],styles:[".box[_ngcontent-%COMP%]{margin-top:20px}@media (max-width: 768px){.box[_ngcontent-%COMP%]{margin-bottom:20px}}.starting-balance[_ngcontent-%COMP%], .closing-balance[_ngcontent-%COMP%]{width:100%}.starting-balance[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .closing-balance[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{text-align:center}.nodes[_ngcontent-%COMP%]{display:none;flex-direction:row;align-items:baseline;justify-content:space-between}@media (max-width: 768px){.nodes[_ngcontent-%COMP%]{display:flex}}.balances[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;margin-bottom:8px}.balances[_ngcontent-%COMP%]   .balance.left[_ngcontent-%COMP%]{text-align:start}.balances[_ngcontent-%COMP%]   .balance.right[_ngcontent-%COMP%]{text-align:end}.balance-bar[_ngcontent-%COMP%]{width:100%;height:2em;position:relative}.balance-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;height:100%;display:flex;flex-direction:row;align-items:center;justify-content:center}.balance-bar[_ngcontent-%COMP%]   .bar.left[_ngcontent-%COMP%]{background:var(--primary)}.balance-bar[_ngcontent-%COMP%]   .bar.center[_ngcontent-%COMP%]{background:repeating-linear-gradient(60deg,var(--primary) 0,var(--primary) 12px,var(--success) 12px,var(--success) 24px)}.balance-bar[_ngcontent-%COMP%]   .bar.right[_ngcontent-%COMP%]{background:var(--success)}.balance-bar[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex:0;white-space:nowrap}.balance-bar[_ngcontent-%COMP%]   .bar.hide-value[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{display:none}@media (max-width: 768px){.balance-bar[_ngcontent-%COMP%]{height:1em}.balance-bar[_ngcontent-%COMP%]   .bar.center[_ngcontent-%COMP%]{background:repeating-linear-gradient(60deg,var(--primary) 0,var(--primary) 8px,var(--success) 8px,var(--success) 16px)}}"],changeDetection:0})}return n})();function ie(n,s,t){return Math.max(0,Math.min(s,Math.round(t)))}const $e=(n,s)=>[n,s],Le=n=>[n];function Ji(n,s){1&n&&(e.j41(0,"span",37),e.pXf(1,4),e.k0s())}function Vi(n,s){1&n&&(e.j41(0,"span",38),e.pXf(1,5),e.k0s())}function qi(n,s){1&n&&(e.j41(0,"span",39),e.pXf(1,6),e.k0s())}function Ki(n,s){if(1&n&&e.nrm(0,"app-closing-type",40),2&n){const t=e.XpG(2).ngIf;e.Y8G("type",t.closing_reason)}}function Wi(n,s){if(1&n&&(e.qex(0),e.j41(1,"h5",26),e.pXf(2,3),e.k0s(),e.j41(3,"div",27)(4,"h1",28),e.EFF(5),e.k0s(),e.j41(6,"span",29)(7,"a",30),e.nI1(8,"relativeUrl"),e.EFF(9),e.k0s(),e.nrm(10,"app-clipboard",31),e.k0s()(),e.j41(11,"div",32),e.DNE(12,Ji,2,0,"span",33)(13,Vi,2,0,"span",34)(14,qi,2,0,"span",35)(15,Ki,1,1,"app-closing-type",36),e.k0s(),e.bVm()),2&n){const t=e.XpG().ngIf;e.R7$(5),e.JRh(t.short_id),e.R7$(2),e.Y8G("routerLink",e.l_i(10,$e,e.bMT(8,8,"/lightning/channel"),t.id)),e.R7$(2),e.JRh(t.id),e.R7$(),e.Y8G("text",t.id),e.R7$(2),e.Y8G("ngIf",0===t.status),e.R7$(),e.Y8G("ngIf",1===t.status),e.R7$(),e.Y8G("ngIf",2===t.status),e.R7$(),e.Y8G("ngIf",t.closing_reason)}}function Qi(n,s){if(1&n&&(e.j41(0,"div",41)(1,"span",42),e.EFF(2),e.k0s()()),2&n){const t=e.XpG().ngIf;e.R7$(2),e.SpI('No channel found for ID "',t.short_id,'"')}}function Zi(n,s){if(1&n&&e.nrm(0,"app-nodes-channels-map",43),2&n){const t=s.ngIf;e.Aen("channelpage"),e.Y8G("channel",t)}}function eo(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,9),e.k0s(),e.j41(3,"td"),e.nrm(4,"app-timestamp",48),e.k0s()()),2&n){const t=e.XpG(2).ngIf;e.R7$(4),e.Y8G("dateString",t.updated_at)}}function to(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,10),e.k0s(),e.j41(3,"td"),e.nrm(4,"app-timestamp",48),e.k0s()()),2&n){const t=e.XpG(2).ngIf;e.R7$(4),e.Y8G("dateString",t.closing_date)}}function no(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3).ngIf;e.R7$(),e.JRh(t.node_left.alias)}}function io(n,s){if(1&n&&(e.qex(0),e.EFF(1),e.bVm()),2&n){const t=e.XpG(3).ngIf;e.R7$(),e.JRh(t.node_right.alias)}}function oo(n,s){if(1&n&&(e.j41(0,"tr")(1,"td"),e.pXf(2,11),e.k0s(),e.j41(3,"td")(4,"a",30),e.nI1(5,"relativeUrl"),e.DNE(6,no,2,1,"ng-container",19)(7,io,2,1,"ng-container",19),e.k0s()()()),2&n){const t=e.XpG(2).ngIf;e.R7$(4),e.Y8G("routerLink",e.l_i(5,$e,e.bMT(5,3,"/lightning/node"),t.closed_by)),e.R7$(2),e.Y8G("ngIf",t.closed_by===t.node_left.public_key),e.R7$(),e.Y8G("ngIf",t.closed_by===t.node_right.public_key)}}function so(n,s){if(1&n&&(e.j41(0,"div",44)(1,"div",45)(2,"div",46)(3,"table",47)(4,"tbody")(5,"tr")(6,"td"),e.pXf(7,7),e.k0s(),e.j41(8,"td"),e.nrm(9,"app-timestamp",48),e.k0s()(),e.DNE(10,eo,5,1,"tr",19)(11,to,5,1,"tr",19),e.k0s()()(),e.nrm(12,"div",49),e.j41(13,"div",46)(14,"table",47)(15,"tbody")(16,"tr")(17,"td"),e.pXf(18,8),e.k0s(),e.j41(19,"td"),e.nrm(20,"app-sats",50)(21,"app-fiat",51),e.k0s()(),e.DNE(22,oo,8,8,"tr",19),e.k0s()()()()()),2&n){const t=e.XpG().ngIf;e.R7$(9),e.Y8G("dateString",t.created),e.R7$(),e.Y8G("ngIf",2!==t.status),e.R7$(),e.Y8G("ngIf",2===t.status),e.R7$(9),e.Y8G("satoshis",t.capacity),e.R7$(),e.Y8G("value",t.capacity),e.R7$(),e.Y8G("ngIf",t.closed_by)}}function ao(n,s){if(1&n&&(e.j41(0,"div",52)(1,"div",53),e.nrm(2,"app-channel-box",43),e.k0s(),e.j41(3,"div",53),e.nrm(4,"app-channel-box",43),e.k0s()()),2&n){const t=e.XpG().ngIf;e.R7$(2),e.Y8G("channel",t.node_left),e.R7$(2),e.Y8G("channel",t.node_right)}}function _o(n,s){if(1&n&&e.nrm(0,"app-channel-close-box",54),2&n){const t=e.XpG().ngIf;e.Y8G("channel",t)("left",t.node_left)("right",t.node_right)}}function lo(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",56)(1,"h3"),e.pXf(2,12),e.k0s(),e.j41(3,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.sdS(6);return e.Njj(o.toggleDetails())}),e.pXf(4,13),e.k0s()(),e.nrm(5,"app-transactions-list",58,1)}if(2&n){const t=e.XpG().ngIf;e.R7$(5),e.Y8G("transactions",e.eq3(3,Le,t[0]))("showConfirmations",!0)("rowLimit",5)}}function co(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",59)(1,"h3",60),e.pXf(2,14),e.k0s(),e.EFF(3,"\xa0\xa0"),e.nrm(4,"app-closing-type",40),e.j41(5,"button",57),e.bIt("click",function(){e.eBV(t);const o=e.sdS(8);return e.Njj(o.toggleDetails())}),e.pXf(6,15),e.k0s()(),e.nrm(7,"app-transactions-list",58,2)}if(2&n){const t=e.XpG().ngIf,i=e.XpG().ngIf;e.R7$(4),e.Y8G("type",i.closing_reason),e.R7$(3),e.Y8G("transactions",e.eq3(4,Le,t[1]))("showConfirmations",!0)("rowLimit",5)}}function ro(n,s){if(1&n&&(e.qex(0),e.DNE(1,lo,7,5,"ng-template",55)(2,co,9,6,"ng-template",55),e.bVm()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngIf",t[0]),e.R7$(),e.Y8G("ngIf",t[1])}}function go(n,s){if(1&n&&(e.j41(0,"div",18),e.DNE(1,Wi,16,13,"ng-container",19),e.nrm(2,"div",20),e.DNE(3,Qi,3,1,"div",21)(4,Zi,1,3,"app-nodes-channels-map",22),e.nI1(5,"async"),e.DNE(6,so,23,6,"div",23),e.nrm(7,"br"),e.DNE(8,ao,5,2,"div",24)(9,_o,1,3,"app-channel-close-box",25),e.nrm(10,"br"),e.DNE(11,ro,3,2,"ng-container",19),e.nI1(12,"async"),e.k0s()),2&n){const t=s.ngIf,i=e.XpG();e.R7$(),e.Y8G("ngIf",!i.error),e.R7$(2),e.Y8G("ngIf",i.error),e.R7$(),e.Y8G("ngIf",!i.error&&e.bMT(5,7,i.channelGeo$)),e.R7$(2),e.Y8G("ngIf",!i.error),e.R7$(2),e.Y8G("ngIf",!i.error),e.R7$(),e.Y8G("ngIf",i.showCloseBoxes(t)),e.R7$(2),e.Y8G("ngIf",e.bMT(12,9,i.transactions$))}}function po(n,s){1&n&&(e.j41(0,"div",18)(1,"h5",26),e.pXf(2,16),e.k0s(),e.j41(3,"div",27)(4,"h1",28),e.nrm(5,"span",61),e.k0s(),e.j41(6,"span",29),e.nrm(7,"span",62),e.k0s()(),e.j41(8,"div",32),e.nrm(9,"span",63),e.k0s(),e.nrm(10,"div",20),e.j41(11,"div",64)(12,"div",65),e.nrm(13,"div",66),e.k0s()(),e.nrm(14,"br"),e.j41(15,"div",44)(16,"div",45)(17,"div",46)(18,"table",47)(19,"tbody")(20,"tr")(21,"td"),e.nrm(22,"span",67),e.k0s(),e.j41(23,"td"),e.nrm(24,"span",67),e.k0s()(),e.j41(25,"tr")(26,"td"),e.nrm(27,"span",67),e.k0s(),e.j41(28,"td"),e.nrm(29,"span",67),e.k0s()()()()(),e.nrm(30,"div",49),e.j41(31,"div",46)(32,"table",47)(33,"tbody")(34,"tr")(35,"td"),e.nrm(36,"span",67),e.k0s(),e.j41(37,"td"),e.nrm(38,"span",67),e.k0s()()()()()()()())}let No=(()=>{class n{constructor(t,i,o,a){this.lightningApiService=t,this.activatedRoute=i,this.seoService=o,this.electrsApiService=a,this.error=null}ngOnInit(){this.channel$=this.activatedRoute.paramMap.pipe((0,j.n)(t=>(this.error=null,this.lightningApiService.getChannel$(t.get("short_id")).pipe((0,D.M)(i=>{this.seoService.setTitle("\u091A\u0948\u0928\u0932: " + i.short_id + ""),this.seoService.setDescription("\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u091A\u0948\u0928\u0932 " + i.short_id + " \u0915\u093E \u0905\u0935\u0932\u094B\u0915\u0928\u0964 \u091A\u0948\u0928\u0932 \u0915\u094D\u0937\u092E\u0924\u093E, \u0936\u093E\u092E\u093F\u0932 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938, \u0938\u0902\u092C\u0902\u0927\u093F\u0924 \u0911\u0928-\u091A\u0947\u0928 \u0932\u0947\u0928\u0926\u0947\u0928 \u0914\u0930 \u092C\u0939\u0941\u0924 \u0915\u0941\u091B \u0926\u0947\u0916\u0947\u0902\u0964")}),(0,le.W)(i=>(this.error=i,this.seoService.logSoft404(),[{short_id:t.get("short_id")}]))))),(0,Oi.t)()),this.channelGeo$=this.channel$.pipe((0,L.T)(t=>t.node_left.longitude&&t.node_left.latitude&&t.node_right.longitude&&t.node_right.latitude?[t.node_left.public_key,t.node_left.alias,t.node_left.longitude,t.node_left.latitude,t.node_right.public_key,t.node_right.alias,t.node_right.longitude,t.node_right.latitude]:[])),this.transactions$=this.channel$.pipe((0,j.n)(t=>(0,Ge.y)([t.transaction_id?this.electrsApiService.getTransaction$(t.transaction_id):(0,ne.of)(null),t.closing_transaction_id?this.electrsApiService.getTransaction$(t.closing_transaction_id).pipe((0,L.T)(i=>(i._channels={inputs:{0:t},outputs:{}},i))):(0,ne.of)(null)])))}showCloseBoxes(t){return!!(t.node_left.funding_balance||t.node_left.closing_balance||t.node_right.funding_balance||t.node_right.closing_balance)}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(T.nX),e.rXU(E.B),e.rXU(Me.o))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-channel"]],decls:5,vars:4,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P,S,b;return t="\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u091A\u0948\u0928\u0932",i="\u0928\u093F\u0937\u094D\u0915\u094D\u0930\u093F\u092F",o="\u0938\u0915\u094D\u0930\u093F\u092F",a="\u092C\u0902\u0926 \u0915\u093F\u092F\u093E \u0939\u0941\u0906",l="\u092C\u0928\u093E\u092F\u093E \u0925\u093E",c="\u0915\u094D\u0937\u092E\u0924\u093E",g="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",d="\u0905\u0902\u0924\u093F\u092E \u0924\u093F\u0925\u093F",C="\u0926\u094D\u0935\u093E\u0930\u093E \u092C\u0902\u0926 \u0915\u093F\u092F\u093E \u0917\u092F\u093E",N="\u092A\u094D\u0930\u093E\u0930\u0902\u092D\u093F\u0915 \u0932\u0947\u0928\u0926\u0947\u0928",u="\u0935\u093F\u0935\u0930\u0923",P="\u0932\u0947\u0928\u0926\u0947\u0928 \u0938\u092E\u093E\u092A\u0928",S="\u0935\u093F\u0935\u0930\u0923",b="\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u091A\u0948\u0928\u0932",[["skeletonLoader",""],["txList1",""],["txList2",""],t,i,o,a,l,c,g,d,C,N,u,P,S,b,["class","container-xl",4,"ngIf","ngIfElse"],[1,"container-xl"],[4,"ngIf"],[1,"clearfix"],["class","d-flex flex-column justify-content-around align-items-center mt-5 w-100","style","min-height: 100px",4,"ngIf"],[3,"style","channel",4,"ngIf"],["class","box",4,"ngIf"],["class","row row-cols-1 row-cols-md-2",4,"ngIf"],[3,"channel","left","right",4,"ngIf"],[1,"mb-0",2,"color","var(--transparent-fg)"],[1,"title-container"],[1,"mb-0"],[1,"tx-link"],[3,"routerLink"],[3,"text"],[1,"badges","mb-2"],["class","badge rounded-pill badge-secondary",4,"ngIf"],["class","badge rounded-pill badge-success",4,"ngIf"],["class","badge rounded-pill badge-danger",4,"ngIf"],[3,"type",4,"ngIf"],[1,"badge","rounded-pill","badge-secondary"],[1,"badge","rounded-pill","badge-success"],[1,"badge","rounded-pill","badge-danger"],[3,"type"],[1,"d-flex","flex-column","justify-content-around","align-items-center","mt-5","w-100",2,"min-height","100px"],[1,"text-center"],[3,"channel"],[1,"box"],[1,"row"],[1,"col-md"],[1,"table","table-borderless","table-striped"],[3,"dateString"],[1,"w-100","d-block","d-md-none"],[3,"satoshis"],["digitsInfo","1.0-0",3,"value"],[1,"row","row-cols-1","row-cols-md-2"],[1,"col"],[3,"channel","left","right"],[3,"ngIf"],[1,"d-flex"],["type","button",1,"btn","btn-outline-info","details-button","btn-sm",3,"click"],[3,"transactions","showConfirmations","rowLimit"],[1,"closing-header","d-flex"],[2,"margin","0"],[1,"skeleton-loader",2,"width","275px","height","25px"],[1,"skeleton-loader",2,"margin-bottom","5px","width","210px"],[1,"skeleton-loader",2,"width","50px","height","22px","margin-top","5px"],[2,"height","413px","padding","15px"],[1,"text-center","loading-spinner"],[1,"spinner-border","text-light"],[1,"skeleton-loader"]]},template:function(i,o){if(1&i&&(e.DNE(0,go,13,11,"div",17),e.nI1(1,"async"),e.nrm(2,"br"),e.DNE(3,po,39,0,"ng-template",null,0,e.C5r)),2&i){const a=e.sdS(4);e.Y8G("ngIf",e.bMT(1,2,o.channel$))("ngIfElse",a)}},dependencies:[_.bT,T.Wk,J.w,$.k,Re.d,ee.z,Y.m,xi,Ui,pe.r,se.E,_.Jj,x.U],styles:[".title-container[_ngcontent-%COMP%]{display:flex;flex-direction:row}@media (max-width: 767.98px){.title-container[_ngcontent-%COMP%]{flex-direction:column}}.tx-link[_ngcontent-%COMP%]{display:flex;flex-grow:1}@media (min-width: 768px){.tx-link[_ngcontent-%COMP%]{top:1px;position:relative;align-self:end;margin-left:15px;margin-top:0;margin-bottom:4px}}@media (max-width: 768px){.tx-link[_ngcontent-%COMP%]{order:2}}.badges[_ngcontent-%COMP%]{font-size:20px}.badge[_ngcontent-%COMP%]{margin-right:5px}app-fiat[_ngcontent-%COMP%]{display:block;font-size:13px}@media (min-width: 768px){app-fiat[_ngcontent-%COMP%]{font-size:14px;display:inline-block;margin-left:10px}}.closing-header[_ngcontent-%COMP%]{flex-direction:row;margin-bottom:1rem;align-items:center}h3[_ngcontent-%COMP%]{margin-bottom:0rem}@media (max-width: 768px){h3[_ngcontent-%COMP%]{font-size:1.4rem;white-space:nowrap}.closing-header[_ngcontent-%COMP%]{flex-wrap:wrap}app-closing-type[_ngcontent-%COMP%]{flex-basis:100%;order:1}}.loading-spinner[_ngcontent-%COMP%]{position:absolute;top:400px;z-index:99;width:100%;left:0}@media (max-width: 767.98px){.loading-spinner[_ngcontent-%COMP%]{top:450px}}.details-button[_ngcontent-%COMP%]{align-self:center;margin-inline-start:auto}"],changeDetection:0})}return n})();var fe=r(9589);const Ae=(n,s)=>[n,s];function fo(n,s){if(1&n&&e.nrm(0,"app-amount",43),2&n){const t=e.XpG().ngIf;e.Y8G("satoshis",t.sumLiquidity)("digitsInfo","1.2-2")("noFiat",!1)}}function Co(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",44),e.pXf(3,15),e.k0s()),2&n){const t=e.XpG().ngIf;e.SpI(" ",e.i5U(1,1,t.sumLiquidity,1)," ")}}function To(n,s){if(1&n&&(e.j41(0,"div",31)(1,"div",32)(2,"table",33)(3,"tbody")(4,"tr")(5,"td"),e.pXf(6,10),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()(),e.j41(9,"tr")(10,"td"),e.pXf(11,11),e.k0s(),e.j41(12,"td"),e.DNE(13,fo,1,3,"app-amount",34)(14,Co,4,4,"ng-template",null,1,e.C5r),e.j41(16,"span",35),e.EFF(17,"\xa0"),e.k0s(),e.nrm(18,"span",36)(19,"app-fiat",37),e.k0s()(),e.j41(20,"tr")(21,"td"),e.pXf(22,12),e.k0s(),e.j41(23,"td"),e.EFF(24),e.k0s()(),e.j41(25,"tr")(26,"td"),e.pXf(27,13),e.k0s(),e.j41(28,"td"),e.EFF(29),e.k0s()(),e.j41(30,"tr")(31,"td"),e.pXf(32,14),e.k0s(),e.j41(33,"td",38)(34,"a",39),e.nI1(35,"relativeUrl"),e.EFF(36),e.k0s()()()()()(),e.j41(37,"div",40)(38,"div",41),e.nrm(39,"app-nodes-map",42),e.k0s()()()),2&n){const t=s.ngIf,i=e.sdS(15);e.R7$(8),e.JRh(t.nodes.length),e.R7$(5),e.Y8G("ngIf",t.sumLiquidity>1e8)("ngIfElse",i),e.R7$(6),e.Y8G("value",t.sumLiquidity),e.R7$(5),e.JRh(t.sumChannels),e.R7$(5),e.JRh(t.ispCount),e.R7$(5),e.Y8G("routerLink",e.l_i(13,Ae,e.bMT(35,11,"/lightning/nodes/isp"),t.topIsp.id)),e.R7$(2),e.Lme(" ",t.topIsp.name," [ASN ",t.topIsp.id,"] "),e.R7$(3),e.Y8G("widget",!0)("nodes",t.nodes)}}function uo(n,s){if(1&n&&e.nrm(0,"app-amount",43),2&n){const t=e.XpG().$implicit;e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function So(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",44),e.pXf(3,16),e.k0s()),2&n){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.capacity,1)," ")}}function ho(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",46)(2,"a",47),e.nI1(3,"relativeUrl"),e.EFF(4),e.k0s()(),e.j41(5,"td",24),e.nrm(6,"app-timestamp",48),e.k0s(),e.j41(7,"td",25),e.nrm(8,"app-timestamp",48),e.k0s(),e.j41(9,"td",26),e.DNE(10,uo,1,3,"app-amount",34)(11,So,4,4,"ng-template",null,2,e.C5r),e.k0s(),e.j41(13,"td",27),e.EFF(14),e.k0s(),e.j41(15,"td",49),e.nrm(16,"app-geolocation",50),e.k0s()()),2&n){const t=s.$implicit,i=e.sdS(12);e.R7$(2),e.Y8G("routerLink",e.l_i(13,Ae,e.bMT(3,11,"/lightning/node/"),t.public_key)),e.R7$(2),e.JRh(t.alias),e.R7$(2),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.first_seen),e.R7$(2),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.updated_at),e.R7$(2),e.Y8G("ngIf",t.capacity>1e8)("ngIfElse",i),e.R7$(4),e.SpI(" ",t.channels," "),e.R7$(2),e.Y8G("data",t.geolocation)("type","list-country")}}function mo(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,ho,17,16,"tr",45),e.k0s()),2&n){const t=s.ngIf,i=e.XpG();e.R7$(),e.Y8G("ngForOf",t)("ngForTrackBy",i.trackByPublicKey)}}function Eo(n,s){1&n&&(e.j41(0,"tr")(1,"td",46),e.nrm(2,"span",52),e.k0s(),e.j41(3,"td",24),e.nrm(4,"span",52),e.k0s(),e.j41(5,"td",25),e.nrm(6,"span",52),e.k0s(),e.j41(7,"td",26),e.nrm(8,"span",52),e.k0s(),e.j41(9,"td",27),e.nrm(10,"span",52),e.k0s(),e.j41(11,"td",49),e.nrm(12,"span",52),e.k0s()())}function Io(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Eo,13,0,"tr",51),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.skeletonLines)}}function Oo(n,s){if(1&n){const t=e.RV6();e.j41(0,"ngb-pagination",53),e.mxI("pageChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.page,o)||(a.page=o),e.Njj(o)}),e.bIt("pageChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChange(o.page))}),e.k0s()}if(2&n){const t=s.ngIf,i=e.XpG();e.HbH(i.isLoading?"disabled":""),e.Y8G("collectionSize",t.nodes.length)("rotate",!0)("maxSize",i.maxSize)("pageSize",i.pageSize),e.R50("page",i.page),e.Y8G("boundaryLinks",!0)("ellipses",!1)}}let Po=(()=>{class n{constructor(t,i,o,a){this.apiService=t,this.seoService=i,this.cd=o,this.route=a,this.startingIndexSubject=new ge.t(0),this.page=1,this.pageSize=15,this.maxSize=window.innerWidth<=767.98?3:5,this.isLoading=!0,this.skeletonLines=[];for(let l=0;l<this.pageSize;++l)this.skeletonLines.push(l)}ngOnInit(){this.nodes$=this.apiService.getNodeForCountry$(this.route.snapshot.params.country).pipe((0,D.M)(()=>this.isLoading=!0),(0,L.T)(t=>{this.seoService.setTitle("" + t.country.en + " \u092E\u0947\u0902 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938"),this.seoService.setDescription("" + t.country.en + " \u092E\u0947\u0902 \u0939\u094B\u0938\u094D\u091F \u0915\u093F\u090F \u0917\u090F \u0938\u092D\u0940 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938 \u0915\u093E \u0905\u0928\u094D\u0935\u0947\u0937\u0923 \u0915\u0930\u0947\u0902 \u0914\u0930 \u092A\u094D\u0930\u0924\u094D\u092F\u0947\u0915 \u0928\u094B\u0921 \u0915\u0940 \u0915\u094D\u0937\u092E\u0924\u093E, \u0916\u0941\u0932\u0947 \u091A\u0948\u0928\u0932\u094B\u0902 \u0915\u0940 \u0938\u0902\u0916\u094D\u092F\u093E \u0907\u0924\u094D\u092F\u093E\u0926\u093F \u0915\u093E \u0905\u0935\u0932\u094B\u0915\u0928 \u0915\u0930\u0947\u0902\u0964"),this.country={name:t.country.en,flag:(0,X.tO)(this.route.snapshot.params.country)};for(const c in t.nodes)t.nodes[c].geolocation={country:t.nodes[c].country?.en,city:t.nodes[c].city?.en,subdivision:t.nodes[c].subdivision?.en,iso:t.nodes[c].iso_code};const i=t.nodes.reduce((c,g)=>c+g.capacity,0),o=t.nodes.reduce((c,g)=>c+g.channels,0),a={},l={count:0,id:"",name:""};for(const c of t.nodes)c.isp&&(a[c.isp]||(a[c.isp]={count:0,asns:[]}),-1===a[c.isp].asns.indexOf(c.as_number)&&a[c.isp].asns.push(c.as_number),a[c.isp].count++,a[c.isp].count>l.count&&(l.count=a[c.isp].count,l.id=a[c.isp].asns.join(","),l.name=c.isp));return{nodes:t.nodes,sumLiquidity:i,sumChannels:o,topIsp:l,ispCount:Object.keys(a).length}}),(0,D.M)(()=>{this.isLoading=!1,this.cd.markForCheck()}),(0,R.u)()),this.nodesPagination$=(0,U.z)([this.nodes$,this.startingIndexSubject]).pipe((0,L.T)(([t,i])=>t.nodes.slice(i,i+this.pageSize)))}trackByPublicKey(t,i){return i.public_key}pageChange(t){this.startingIndexSubject.next((t-1)*this.pageSize),this.page=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(ce.G),e.rXU(E.B),e.rXU(e.gRc),e.rXU(T.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-nodes-per-country"]],decls:30,vars:12,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P,S,b;return t="" + "\ufffd0\ufffd" + " \u092E\u0947\u0902 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938",i="\u0909\u092A\u0928\u093E\u092E",o="\u092A\u094D\u0930\u0925\u092E \u0926\u0947\u0916\u093E",a="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",l="\u0915\u094D\u0937\u092E\u0924\u093E",c="\u091A\u0948\u0928\u0932",g="\u091C\u0917\u0939",d="\u0928\u094B\u0921\u094D\u0938",C="\u0932\u093F\u0915\u094D\u0935\u093F\u0921\u093F\u091F\u0940",N="\u091A\u0948\u0928\u0932",u="\u0906\u0908\u090F\u0938\u092A\u0940 \u0917\u0923\u0928\u093E",P="\u0936\u0940\u0930\u094D\u0937 \u0906\u0908\u090F\u0938\u092A\u0940",S="\u0938\u0948\u091F\u094D\u0938",b="\u0938\u0948\u091F\u094D\u0938",[["skeleton",""],["smallnode",""],["smallchannel",""],t,i,o,a,l,c,g,d,C,N,u,P,S,b,[1,"container-xl","full-height",2,"min-height","335px"],[2,"font-size","50px","vertical-align","sub"],[1,"box"],["class","row",4,"ngIf"],[2,"min-height","295px"],[1,"table","table-borderless"],[1,"alias","text-left"],[1,"timestamp-first","text-left"],[1,"timestamp-update","text-left"],[1,"capacity","text-right"],[1,"channels","text-right"],[1,"city","text-right"],[4,"ngIf","ngIfElse"],["class","pagination-container float-right mt-2",3,"class","collectionSize","rotate","maxSize","pageSize","page","boundaryLinks","ellipses","pageChange",4,"ngIf"],[1,"row"],[1,"col-12","col-md-6"],[1,"table","table-borderless","table-striped"],[3,"satoshis","digitsInfo","noFiat",4,"ngIf","ngIfElse"],[1,"d-none","d-md-inline-block"],[1,"d-block","d-md-none"],["digitsInfo","1.0-0",3,"value"],[1,"text-truncate"],[1,"d-block","text-wrap",3,"routerLink"],[1,"col-12","col-md-6","p-3","p-md-0","pr-md-3"],[2,"background-color","var(--stat-box-bg)"],["type","country",3,"widget","nodes"],[3,"satoshis","digitsInfo","noFiat"],[1,"sats"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"alias","text-left","text-truncate"],[3,"routerLink"],[3,"customFormat","unixTime"],[1,"city","text-right","text-truncate"],[3,"data","type"],[4,"ngFor","ngForOf"],[1,"skeleton-loader"],[1,"pagination-container","float-right","mt-2",3,"pageChange","collectionSize","rotate","maxSize","pageSize","page","boundaryLinks","ellipses"]]},template:function(i,o){if(1&i&&(e.j41(0,"div",17)(1,"h1")(2,"span"),e.pXf(3,3),e.k0s(),e.j41(4,"span",18),e.EFF(5),e.k0s()(),e.j41(6,"div",19),e.DNE(7,To,40,16,"div",20),e.nI1(8,"async"),e.k0s(),e.j41(9,"div",21)(10,"table",22)(11,"thead")(12,"th",23),e.pXf(13,4),e.k0s(),e.j41(14,"th",24),e.pXf(15,5),e.k0s(),e.j41(16,"th",25),e.pXf(17,6),e.k0s(),e.j41(18,"th",26),e.pXf(19,7),e.k0s(),e.j41(20,"th",27),e.pXf(21,8),e.k0s(),e.j41(22,"th",28),e.pXf(23,9),e.k0s()(),e.DNE(24,mo,2,2,"tbody",29),e.nI1(25,"async"),e.DNE(26,Io,2,1,"ng-template",null,0,e.C5r),e.k0s(),e.DNE(28,Oo,1,9,"ngb-pagination",30),e.nI1(29,"async"),e.k0s()()),2&i){const a=e.sdS(27);e.R7$(3),e.uP7(null==o.country?null:o.country.name),e.nnv(3),e.R7$(2),e.SpI(" ",null==o.country?null:o.country.flag,""),e.R7$(2),e.Y8G("ngIf",e.bMT(8,6,o.nodes$)),e.R7$(17),e.Y8G("ngIf",e.bMT(25,8,o.nodesPagination$))("ngIfElse",a),e.R7$(4),e.Y8G("ngIf",e.bMT(29,10,o.nodes$))}},dependencies:[_.Sq,_.bT,T.Wk,f.s5,$.k,I.Y,Y.m,z,fe.E,_.Jj,x.U,v.x],styles:[".container-xl[_ngcontent-%COMP%]{max-width:1400px;padding-bottom:100px}.sats[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px;top:0}.alias[_ngcontent-%COMP%]{width:30%;max-width:400px;padding-right:70px}@media (max-width: 576px){.alias[_ngcontent-%COMP%]{width:50%;max-width:150px;padding-right:0}}.timestamp-first[_ngcontent-%COMP%]{width:20%}@media (max-width: 1060px){.timestamp-first[_ngcontent-%COMP%]{display:none}}.timestamp-update[_ngcontent-%COMP%]{width:16%}@media (max-width: 1060px){.timestamp-update[_ngcontent-%COMP%]{display:none}}.capacity[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.capacity[_ngcontent-%COMP%]{width:25%}}.channels[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.channels[_ngcontent-%COMP%]{width:25%}}.city[_ngcontent-%COMP%]{max-width:150px}@media (max-width: 675px){.city[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return n})();const ye=(n,s)=>[n,s];function Go(n,s){if(1&n&&e.nrm(0,"app-amount",43),2&n){const t=e.XpG().ngIf;e.Y8G("satoshis",t.sumLiquidity)("digitsInfo","1.2-2")("noFiat",!1)}}function Mo(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",44),e.pXf(3,15),e.k0s()),2&n){const t=e.XpG().ngIf;e.SpI(" ",e.i5U(1,1,t.sumLiquidity,1)," ")}}function Ro(n,s){if(1&n&&(e.j41(0,"div",30)(1,"div",31)(2,"table",32)(3,"tbody")(4,"tr")(5,"td"),e.pXf(6,10),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()(),e.j41(9,"tr")(10,"td"),e.pXf(11,11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s()(),e.j41(14,"tr")(15,"td"),e.pXf(16,12),e.k0s(),e.j41(17,"td"),e.DNE(18,Go,1,3,"app-amount",33)(19,Mo,4,4,"ng-template",null,1,e.C5r),e.j41(21,"span",34),e.EFF(22,"\xa0"),e.k0s(),e.nrm(23,"span",35)(24,"app-fiat",36),e.k0s()(),e.j41(25,"tr")(26,"td"),e.pXf(27,13),e.k0s(),e.j41(28,"td"),e.EFF(29),e.k0s()(),e.j41(30,"tr")(31,"td"),e.pXf(32,14),e.k0s(),e.j41(33,"td",37)(34,"a",38),e.nI1(35,"relativeUrl"),e.j41(36,"span",39),e.EFF(37),e.k0s()()()()()()(),e.j41(38,"div",40)(39,"div",41),e.nrm(40,"app-nodes-map",42),e.k0s()()()),2&n){const t=s.ngIf,i=e.sdS(20),o=e.XpG();e.R7$(8),e.JRh(null==o.isp?null:o.isp.id),e.R7$(5),e.JRh(t.nodes.length),e.R7$(5),e.Y8G("ngIf",t.sumLiquidity>1e8)("ngIfElse",i),e.R7$(6),e.Y8G("value",t.sumLiquidity),e.R7$(5),e.JRh(t.sumChannels),e.R7$(5),e.Y8G("routerLink",e.l_i(13,ye,e.bMT(35,11,"/lightning/nodes/country"),t.topCountry.iso)),e.R7$(3),e.Lme("",t.topCountry.country," ",t.topCountry.flag,""),e.R7$(3),e.Y8G("widget",!0)("nodes",t.nodes)}}function bo(n,s){if(1&n&&e.nrm(0,"app-amount",43),2&n){const t=e.XpG().$implicit;e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function $o(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",44),e.pXf(3,16),e.k0s()),2&n){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.capacity,1)," ")}}function Lo(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",46)(2,"a",47),e.nI1(3,"relativeUrl"),e.EFF(4),e.k0s()(),e.j41(5,"td",23),e.nrm(6,"app-timestamp",48),e.k0s(),e.j41(7,"td",24),e.nrm(8,"app-timestamp",48),e.k0s(),e.j41(9,"td",25),e.DNE(10,bo,1,3,"app-amount",33)(11,$o,4,4,"ng-template",null,2,e.C5r),e.k0s(),e.j41(13,"td",26),e.EFF(14),e.k0s(),e.j41(15,"td",49),e.nrm(16,"app-geolocation",50),e.k0s()()),2&n){const t=s.$implicit,i=e.sdS(12);e.R7$(2),e.Y8G("routerLink",e.l_i(13,ye,e.bMT(3,11,"/lightning/node/"),t.public_key)),e.R7$(2),e.JRh(t.alias),e.R7$(2),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.first_seen),e.R7$(2),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.updated_at),e.R7$(2),e.Y8G("ngIf",t.capacity>1e8)("ngIfElse",i),e.R7$(4),e.SpI(" ",t.channels," "),e.R7$(2),e.Y8G("data",t.geolocation)("type","list-isp")}}function Ao(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Lo,17,16,"tr",45),e.k0s()),2&n){const t=s.ngIf,i=e.XpG();e.R7$(),e.Y8G("ngForOf",t)("ngForTrackBy",i.trackByPublicKey)}}function yo(n,s){1&n&&(e.j41(0,"tr")(1,"td",46),e.nrm(2,"span",52),e.k0s(),e.j41(3,"td",23),e.nrm(4,"span",52),e.k0s(),e.j41(5,"td",24),e.nrm(6,"span",52),e.k0s(),e.j41(7,"td",25),e.nrm(8,"span",52),e.k0s(),e.j41(9,"td",26),e.nrm(10,"span",52),e.k0s(),e.j41(11,"td",49),e.nrm(12,"span",52),e.k0s()())}function vo(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,yo,13,0,"tr",51),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.skeletonLines)}}function xo(n,s){if(1&n){const t=e.RV6();e.j41(0,"ngb-pagination",53),e.mxI("pageChange",function(o){e.eBV(t);const a=e.XpG();return e.DH7(a.page,o)||(a.page=o),e.Njj(o)}),e.bIt("pageChange",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.pageChange(o.page))}),e.k0s()}if(2&n){const t=s.ngIf,i=e.XpG();e.HbH(i.isLoading?"disabled":""),e.Y8G("collectionSize",t.nodes.length)("rotate",!0)("maxSize",i.maxSize)("pageSize",i.pageSize),e.R50("page",i.page),e.Y8G("boundaryLinks",!0)("ellipses",!1)}}let ko=(()=>{class n{constructor(t,i,o){this.apiService=t,this.seoService=i,this.route=o,this.startingIndexSubject=new ge.t(0),this.page=1,this.pageSize=15,this.maxSize=window.innerWidth<=767.98?3:5,this.isLoading=!0,this.skeletonLines=[];for(let a=0;a<this.pageSize;++a)this.skeletonLines.push(a)}ngOnInit(){this.nodes$=this.apiService.getNodeForISP$(this.route.snapshot.params.isp).pipe((0,D.M)(()=>this.isLoading=!0),(0,L.T)(t=>{this.isp={name:t.isp,id:this.route.snapshot.params.isp.split(",").join(", ")},this.seoService.setTitle("ISP \u092A\u0930 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938: " + t.isp + " [AS" + this.route.snapshot.params.isp + "]"),this.seoService.setDescription("" + t.isp + " [AS" + this.route.snapshot.params.isp + "] ISP \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0915\u0947 \u0938\u092D\u0940 Bitcoin Lightning \u0928\u094B\u0921\u094D\u0938 \u0915\u094B \u092C\u094D\u0930\u093E\u0909\u091C\u093C \u0915\u0930\u0947\u0902 \u0914\u0930 ISP \u0915\u0947 \u0932\u093F\u090F \u0928\u094B\u0921\u094D\u0938 \u0915\u0940 \u0915\u0941\u0932 \u0938\u0902\u0916\u094D\u092F\u093E, \u0915\u0941\u0932 \u0915\u094D\u0937\u092E\u0924\u093E \u0907\u0924\u094D\u092F\u093E\u0926\u093F \u091C\u0948\u0938\u0947 \u0938\u092E\u0917\u094D\u0930 \u0906\u0901\u0915\u0921\u093C\u0947 \u0926\u0947\u0916\u0947\u0902\u0964");for(const c in t.nodes)t.nodes[c].geolocation={country:t.nodes[c].country?.en,city:t.nodes[c].city?.en,subdivision:t.nodes[c].subdivision?.en,iso:t.nodes[c].iso_code};const i=t.nodes.reduce((c,g)=>c+g.capacity,0),o=t.nodes.reduce((c,g)=>c+g.channels,0),a={},l={count:0,country:"",iso:"",flag:""};for(const c of t.nodes)c.geolocation.iso&&(a[c.geolocation.iso]=a[c.geolocation.iso]??1,a[c.geolocation.iso]>l.count&&(l.count=a[c.geolocation.iso],l.country=c.geolocation.country,l.iso=c.geolocation.iso));return l.flag=(0,X.tO)(l.iso),{nodes:t.nodes,sumLiquidity:i,sumChannels:o,topCountry:l}}),(0,D.M)(()=>this.isLoading=!1),(0,R.u)()),this.nodesPagination$=(0,U.z)([this.nodes$,this.startingIndexSubject]).pipe((0,L.T)(([t,i])=>t.nodes.slice(i,i+this.pageSize)))}trackByPublicKey(t,i){return i.public_key}pageChange(t){this.startingIndexSubject.next((t-1)*this.pageSize),this.page=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(ce.G),e.rXU(E.B),e.rXU(T.nX))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-nodes-per-isp"]],decls:27,vars:11,consts:()=>{let t,i,o,a,l,c,g,d,C,N,u,P,S,b;return t="ISP \u092A\u0930 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938: " + "\ufffd0\ufffd" + "",i="\u0909\u092A\u0928\u093E\u092E",o="\u092A\u094D\u0930\u0925\u092E \u0926\u0947\u0916\u093E",a="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",l="\u0915\u094D\u0937\u092E\u0924\u093E",c="\u091A\u0948\u0928\u0932",g="\u091C\u0917\u0939",d="\u090F\u090F\u0938\u090F\u0928",C="\u0938\u0915\u094D\u0930\u093F\u092F \u0928\u094B\u0921\u094D\u0938",N="\u0932\u093F\u0915\u094D\u0935\u093F\u0921\u093F\u091F\u0940",u="\u091A\u0948\u0928\u0932",P="\u0936\u0940\u0930\u094D\u0937 \u0926\u0947\u0936",S="\u0938\u0948\u091F\u094D\u0938",b="\u0938\u0948\u091F\u094D\u0938",[["skeleton",""],["smallnode",""],["smallchannel",""],t,i,o,a,l,c,g,d,C,N,u,P,S,b,[1,"container-xl","full-height",2,"min-height","335px"],[1,"box"],["class","row",4,"ngIf"],[2,"min-height","295px"],[1,"table","table-borderless"],[1,"alias","text-left"],[1,"timestamp-first","text-left"],[1,"timestamp-update","text-left"],[1,"capacity","text-right"],[1,"channels","text-right"],[1,"city","text-right"],[4,"ngIf","ngIfElse"],["class","pagination-container float-right mt-2",3,"class","collectionSize","rotate","maxSize","pageSize","page","boundaryLinks","ellipses","pageChange",4,"ngIf"],[1,"row"],[1,"col-12","col-md-6"],[1,"table","table-borderless","table-striped"],[3,"satoshis","digitsInfo","noFiat",4,"ngIf","ngIfElse"],[1,"d-none","d-md-inline-block"],[1,"d-block","d-md-none"],["digitsInfo","1.0-0",3,"value"],[1,"text-truncate"],[1,"d-block","text-wrap",3,"routerLink"],[1,""],[1,"col-12","col-md-6","p-3","p-md-0","pr-md-3"],[2,"background-color","var(--stat-box-bg)"],["type","isp",3,"widget","nodes"],[3,"satoshis","digitsInfo","noFiat"],[1,"sats"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"alias","text-left","text-truncate"],[3,"routerLink"],[3,"customFormat","unixTime"],[1,"city","text-right","text-truncate"],[3,"data","type"],[4,"ngFor","ngForOf"],[1,"skeleton-loader"],[1,"pagination-container","float-right","mt-2",3,"pageChange","collectionSize","rotate","maxSize","pageSize","page","boundaryLinks","ellipses"]]},template:function(i,o){if(1&i&&(e.j41(0,"div",17)(1,"h1"),e.pXf(2,3),e.k0s(),e.j41(3,"div",18),e.DNE(4,Ro,41,16,"div",19),e.nI1(5,"async"),e.k0s(),e.j41(6,"div",20)(7,"table",21)(8,"thead")(9,"th",22),e.pXf(10,4),e.k0s(),e.j41(11,"th",23),e.pXf(12,5),e.k0s(),e.j41(13,"th",24),e.pXf(14,6),e.k0s(),e.j41(15,"th",25),e.pXf(16,7),e.k0s(),e.j41(17,"th",26),e.pXf(18,8),e.k0s(),e.j41(19,"th",27),e.pXf(20,9),e.k0s()(),e.DNE(21,Ao,2,2,"tbody",28),e.nI1(22,"async"),e.DNE(23,vo,2,1,"ng-template",null,0,e.C5r),e.k0s(),e.DNE(25,xo,1,9,"ngb-pagination",29),e.nI1(26,"async"),e.k0s()()),2&i){const a=e.sdS(24);e.R7$(2),e.uP7(null==o.isp?null:o.isp.name),e.nnv(2),e.R7$(2),e.Y8G("ngIf",e.bMT(5,5,o.nodes$)),e.R7$(17),e.Y8G("ngIf",e.bMT(22,7,o.nodesPagination$))("ngIfElse",a),e.R7$(4),e.Y8G("ngIf",e.bMT(26,9,o.nodes$))}},dependencies:[_.Sq,_.bT,T.Wk,f.s5,$.k,I.Y,Y.m,z,fe.E,_.Jj,x.U,v.x],styles:[".container-xl[_ngcontent-%COMP%]{max-width:1400px;padding-bottom:100px}.sats[_ngcontent-%COMP%]{color:var(--transparent-fg);font-size:12px;top:0}.alias[_ngcontent-%COMP%]{width:30%;max-width:400px;padding-right:70px}@media (max-width: 576px){.alias[_ngcontent-%COMP%]{width:50%;max-width:150px;padding-right:0}}.timestamp-first[_ngcontent-%COMP%]{width:20%}@media (max-width: 1060px){.timestamp-first[_ngcontent-%COMP%]{display:none}}.timestamp-update[_ngcontent-%COMP%]{width:16%}@media (max-width: 1060px){.timestamp-update[_ngcontent-%COMP%]{display:none}}.capacity[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.capacity[_ngcontent-%COMP%]{width:25%}}.channels[_ngcontent-%COMP%]{width:10%}@media (max-width: 576px){.channels[_ngcontent-%COMP%]{width:25%}}.city[_ngcontent-%COMP%]{max-width:150px}@media (max-width: 675px){.city[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return n})();const Ho=(n,s)=>[n,s];function Xo(n,s){1&n&&(e.j41(0,"h1",18)(1,"span"),e.pXf(2,3),e.k0s()())}function Do(n,s){1&n&&(e.j41(0,"th",19),e.pXf(1,4),e.k0s())}function jo(n,s){1&n&&(e.j41(0,"th",20),e.pXf(1,5),e.k0s())}function wo(n,s){1&n&&(e.j41(0,"th",21),e.pXf(1,6),e.k0s())}function Fo(n,s){1&n&&(e.j41(0,"th",22),e.pXf(1,7),e.k0s())}function Yo(n,s){if(1&n&&(e.j41(0,"td",19),e.nrm(1,"app-amount",27),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function zo(n,s){if(1&n&&(e.j41(0,"td",20),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.SpI(" ",e.bMT(2,1,t.channels)," ")}}function Bo(n,s){if(1&n&&(e.j41(0,"td",21),e.nrm(1,"app-timestamp",28),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("customFormat","yyyy-MM-dd")("unixTime",t.updatedAt)}}function Uo(n,s){if(1&n&&(e.j41(0,"td",29),e.nrm(1,"app-geolocation",30),e.k0s()),2&n){const t=e.XpG().$implicit;e.R7$(),e.Y8G("data",t.geolocation)("type","list-isp")}}function Jo(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",24),e.EFF(2),e.k0s(),e.j41(3,"td",11)(4,"a",25),e.nI1(5,"relativeUrl"),e.EFF(6),e.k0s()(),e.j41(7,"td",12),e.EFF(8),e.nI1(9,"date"),e.k0s(),e.DNE(10,Yo,2,3,"td",13)(11,zo,3,3,"td",14)(12,Bo,2,2,"td",15)(13,Uo,2,2,"td",26),e.k0s()),2&n){const t=s.$implicit,i=s.index,o=e.XpG(2);e.R7$(2),e.SpI(" ",i+1," "),e.R7$(2),e.Y8G("routerLink",e.l_i(13,Ho,e.bMT(5,8,"/lightning/node"),t.publicKey)),e.R7$(2),e.JRh(t.alias),e.R7$(2),e.SpI(" \u200e",e.i5U(9,10,1e3*t.firstSeen,"yyyy-MM-dd")," "),e.R7$(2),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget)}}function Vo(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Jo,14,16,"tr",23),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngForOf",t)}}function qo(n,s){1&n&&(e.j41(0,"td",20),e.nrm(1,"span",31),e.k0s())}function Ko(n,s){1&n&&(e.j41(0,"td",33),e.nrm(1,"span",31),e.k0s())}function Wo(n,s){1&n&&(e.j41(0,"td",21),e.nrm(1,"span",31),e.k0s())}function Qo(n,s){1&n&&(e.j41(0,"td",29),e.nrm(1,"span",31),e.k0s())}function Zo(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",24),e.nrm(2,"span",31),e.k0s(),e.j41(3,"td",11),e.nrm(4,"span",31),e.k0s(),e.j41(5,"td",19),e.nrm(6,"span",31),e.k0s(),e.DNE(7,qo,2,0,"td",14)(8,Ko,2,0,"td",32)(9,Wo,2,0,"td",15)(10,Qo,2,0,"td",26),e.k0s()),2&n){const t=e.XpG(2);e.R7$(7),e.Y8G("ngIf",!t.widget),e.R7$(),e.Y8G("ngIf",!t.widget),e.R7$(),e.Y8G("ngIf",!t.widget),e.R7$(),e.Y8G("ngIf",!t.widget)}}function es(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Zo,11,4,"tr",23),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.skeletonRows)}}let ve=(()=>{class n{constructor(t,i){this.apiService=t,this.seoService=i,this.widget=!1,this.skeletonRows=[]}ngOnInit(){this.widget||(this.seoService.setTitle("\u0938\u092C\u0938\u0947 \u092A\u0941\u0930\u093E\u0928\u0947 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938"),this.seoService.setDescription("\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u092A\u0930 \u0938\u092C\u0938\u0947 \u092A\u0941\u0930\u093E\u0928\u0947 \u0928\u094B\u0921\u094D\u0938 \u0915\u094B \u0909\u0928\u0915\u0940 \u0915\u094D\u0937\u092E\u0924\u093E, \u091A\u0948\u0928\u0932\u094B\u0902 \u0915\u0940 \u0938\u0902\u0916\u094D\u092F\u093E, \u0938\u094D\u0925\u093E\u0928 \u0906\u0926\u093F \u0915\u0947 \u0938\u093E\u0925 \u0926\u0947\u0916\u0947\u0902\u0964"));for(let t=1;t<=(this.widget?10:100);++t)this.skeletonRows.push(t);this.oldestNodes$=!1===this.widget?this.apiService.getOldestNodes$().pipe((0,L.T)(t=>{for(const i in t)t[i].geolocation={country:t[i].country?.en,city:t[i].city?.en,subdivision:t[i].subdivision?.en,iso:t[i].iso_code};return t})):this.apiService.getOldestNodes$().pipe((0,L.T)(t=>t.slice(0,7)))}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(E.B))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-oldest-nodes"]],inputs:{widget:"widget"},decls:18,vars:13,consts:()=>{let t,i,o,a,l,c,g;return t="\u0909\u092A\u0928\u093E\u092E",i="\u092A\u094D\u0930\u0925\u092E \u0926\u0947\u0916\u093E",o="\u0936\u0940\u0930\u094D\u0937 100 \u0938\u092C\u0938\u0947 \u092A\u0941\u0930\u093E\u0928\u0947 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938",a="\u0932\u093F\u0915\u094D\u0935\u093F\u0921\u093F\u091F\u0940",l="\u091A\u0948\u0928\u0932",c="\u0906\u0916\u093F\u0930\u0940 \u0905\u092A\u0921\u0947\u091F",g="\u091C\u0917\u0939",[["skeleton",""],t,i,o,a,l,c,g,["class","float-left",4,"ngIf"],[1,"table","table-borderless"],[1,"rank"],[1,"alias","text-left"],[1,"timestamp-first","text-right"],["class","capacity text-right",4,"ngIf"],["class","channels text-right",4,"ngIf"],["class","timestamp-update text-left",4,"ngIf"],["class","location text-right",4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"float-left"],[1,"capacity","text-right"],[1,"channels","text-right"],[1,"timestamp-update","text-left"],[1,"location","text-right"],[4,"ngFor","ngForOf"],[1,"rank","text-left"],[3,"routerLink"],["class","location text-right text-truncate",4,"ngIf"],[3,"satoshis","digitsInfo","noFiat"],[3,"customFormat","unixTime"],[1,"location","text-right","text-truncate"],[3,"data","type"],[1,"skeleton-loader"],["class","timestamp-first text-left",4,"ngIf"],[1,"timestamp-first","text-left"]]},template:function(i,o){if(1&i&&(e.j41(0,"div"),e.DNE(1,Xo,3,0,"h1",8),e.j41(2,"div")(3,"table",9)(4,"thead"),e.nrm(5,"th",10),e.j41(6,"th",11),e.pXf(7,1),e.k0s(),e.j41(8,"th",12),e.pXf(9,2),e.k0s(),e.DNE(10,Do,2,0,"th",13)(11,jo,2,0,"th",14)(12,wo,2,0,"th",15)(13,Fo,2,0,"th",16),e.k0s(),e.DNE(14,Vo,2,1,"tbody",17),e.nI1(15,"async"),e.DNE(16,es,2,1,"ng-template",null,0,e.C5r),e.k0s()()()),2&i){const a=e.sdS(17);e.HbH(o.widget?"":"container-xl full-height"),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.HbH(o.widget?"widget":"full"),e.R7$(8),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",!o.widget),e.R7$(),e.Y8G("ngIf",e.bMT(15,11,o.oldestNodes$))("ngIfElse",a)}},dependencies:[_.Sq,_.bT,T.Wk,I.Y,Y.m,z,_.Jj,_.QX,_.vh,x.U],styles:[".container-xl[_ngcontent-%COMP%]{max-width:1400px;padding-bottom:100px}@media (min-width: 767.98px){.container-xl[_ngcontent-%COMP%]{padding-left:50px;padding-right:50px}}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:.5rem}.full[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:5%}@media (min-width: 767.98px){.widget[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{width:13%}}@media (max-width: 767.98px){.widget[_ngcontent-%COMP%]   .rank[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.full[_ngcontent-%COMP%]   .alias[_ngcontent-%COMP%]{width:10%;overflow:hidden;text-overflow:ellipsis;max-width:350px}@media (max-width: 767.98px){.full[_ngcontent-%COMP%]   .alias[_ngcontent-%COMP%]{max-width:175px}}.widget[_ngcontent-%COMP%]   .alias[_ngcontent-%COMP%]{width:50%;overflow:hidden;text-overflow:ellipsis;max-width:300px}@media (max-width: 767.98px){.widget[_ngcontent-%COMP%]   .alias[_ngcontent-%COMP%]{max-width:170px}}.full[_ngcontent-%COMP%]   .capacity[_ngcontent-%COMP%]{width:10%}@media (max-width: 767.98px){.full[_ngcontent-%COMP%]   .capacity[_ngcontent-%COMP%]{display:none}}.widget[_ngcontent-%COMP%]   .capacity[_ngcontent-%COMP%]{width:10%}@media (max-width: 767.98px){.widget[_ngcontent-%COMP%]   .capacity[_ngcontent-%COMP%]{padding-left:0;padding-right:0}}.full[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]{width:15%;padding-right:50px}@media (max-width: 767.98px){.full[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]{display:none}}.full[_ngcontent-%COMP%]   .timestamp-first[_ngcontent-%COMP%]{width:10%}.full[_ngcontent-%COMP%]   .timestamp-update[_ngcontent-%COMP%]{width:20%}@media (max-width: 767.98px){.full[_ngcontent-%COMP%]   .timestamp-update[_ngcontent-%COMP%]{display:none}}.full[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{width:10%}@media (max-width: 767.98px){.full[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{display:none}}"],changeDetection:0})}return n})();function ts(n,s){if(1&n&&e.nrm(0,"app-top-nodes-per-capacity",2),2&n){const t=e.XpG();e.Y8G("nodes$",null)("statistics$",t.statistics$)("widget",!1)}}function ns(n,s){if(1&n&&e.nrm(0,"app-top-nodes-per-channels",2),2&n){const t=e.XpG();e.Y8G("nodes$",null)("statistics$",t.statistics$)("widget",!1)}}function is(n,s){1&n&&e.nrm(0,"app-oldest-nodes",3),2&n&&e.Y8G("widget",!1)}let Ce=(()=>{class n{constructor(t,i){this.route=t,this.lightningApiService=i}ngOnInit(){this.statistics$=this.lightningApiService.getLatestStatistics$().pipe((0,R.u)()),this.route.data.subscribe(t=>{this.type=t.type})}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(T.nX),e.rXU(m.C))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-nodes-ranking"]],decls:3,vars:3,consts:[[3,"nodes$","statistics$","widget",4,"ngIf"],[3,"widget",4,"ngIf"],[3,"nodes$","statistics$","widget"],[3,"widget"]],template:function(i,o){1&i&&e.DNE(0,ts,1,3,"app-top-nodes-per-capacity",0)(1,ns,1,3,"app-top-nodes-per-channels",0)(2,is,1,1,"app-oldest-nodes",1),2&i&&(e.Y8G("ngIf","capacity"===o.type),e.R7$(),e.Y8G("ngIf","channels"===o.type),e.R7$(),e.Y8G("ngIf","oldest"===o.type))},dependencies:[_.bT,ae,_e,ve],changeDetection:0})}return n})();const Te=n=>[n],ue=()=>["fas","external-link-alt"];let os=(()=>{class n{constructor(t,i){this.lightningApiService=t,this.seoService=i}ngOnInit(){this.seoService.setTitle("\u0936\u0940\u0930\u094D\u0937 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921\u094D\u0938"),this.seoService.setDescription("\u0932\u093F\u0915\u094D\u0935\u093F\u0921\u093F\u091F\u0940, \u0915\u0928\u0947\u0915\u094D\u091F\u093F\u0935\u093F\u091F\u0940 \u0914\u0930 \u0906\u092F\u0941 \u0915\u0947 \u0906\u0927\u093E\u0930 \u092A\u0930 \u0936\u0940\u0930\u094D\u0937 \u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u0947\u091F\u0935\u0930\u094D\u0915 \u0928\u094B\u0921\u094D\u0938 \u0915\u094B \u0926\u0947\u0916\u0947\u0902\u0964"),this.nodesRanking$=this.lightningApiService.getNodesRanking$().pipe((0,R.u)())}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(E.B))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-nodes-rankings-dashboard"]],decls:35,vars:29,consts:()=>{let t,i,o;return t="\u0924\u0930\u0932\u0924\u093E \u0930\u0948\u0902\u0915\u093F\u0902\u0917",i="\u0915\u0928\u0947\u0915\u094D\u091F\u093F\u0935\u093F\u091F\u0940 \u0930\u0948\u0902\u0915\u093F\u0902\u0917",o="\u0938\u092C\u0938\u0947 \u092A\u0941\u0930\u093E\u0928\u0947 \u0928\u094B\u0921\u094D\u0938",[t,i,o,[1,"container","main"],[1,"row","row-cols-1","row-cols-md-3"],[1,"col"],[1,"card"],[1,"card-body"],["href","",1,"title-link",3,"routerLink"],[1,"card-title","d-inline"],[2,"vertical-align","text-top","font-size","13px","color","var(--title-fg)",3,"icon","fixedWidth"],[3,"nodes$","widget"],[3,"widget"]]},template:function(i,o){1&i&&(e.j41(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6)(4,"div",7)(5,"a",8),e.nI1(6,"relativeUrl"),e.j41(7,"h5",9),e.pXf(8,0),e.k0s(),e.j41(9,"span"),e.EFF(10,"\xa0"),e.k0s(),e.nrm(11,"fa-icon",10),e.k0s(),e.nrm(12,"app-top-nodes-per-capacity",11),e.k0s()()(),e.j41(13,"div",5)(14,"div",6)(15,"div",7)(16,"a",8),e.nI1(17,"relativeUrl"),e.j41(18,"h5",9),e.pXf(19,1),e.k0s(),e.j41(20,"span"),e.EFF(21,"\xa0"),e.k0s(),e.nrm(22,"fa-icon",10),e.k0s(),e.nrm(23,"app-top-nodes-per-channels",11),e.k0s()()(),e.j41(24,"div",5)(25,"div",6)(26,"div",7)(27,"a",8),e.nI1(28,"relativeUrl"),e.j41(29,"h5",9),e.pXf(30,2),e.k0s(),e.j41(31,"span"),e.EFF(32,"\xa0"),e.k0s(),e.nrm(33,"fa-icon",10),e.k0s(),e.nrm(34,"app-oldest-nodes",12),e.k0s()()()()()),2&i&&(e.R7$(5),e.Y8G("routerLink",e.eq3(20,Te,e.bMT(6,14,"/lightning/nodes/rankings/liquidity"))),e.R7$(6),e.Y8G("icon",e.lJ4(22,ue))("fixedWidth",!0),e.R7$(),e.Y8G("nodes$",o.nodesRanking$)("widget",!0),e.R7$(4),e.Y8G("routerLink",e.eq3(23,Te,e.bMT(17,16,"/lightning/nodes/rankings/connectivity"))),e.R7$(6),e.Y8G("icon",e.lJ4(25,ue))("fixedWidth",!0),e.R7$(),e.Y8G("nodes$",o.nodesRanking$)("widget",!0),e.R7$(4),e.Y8G("routerLink",e.eq3(26,Te,e.bMT(28,18,"/lightning/nodes/oldest"))),e.R7$(6),e.Y8G("icon",e.lJ4(28,ue))("fixedWidth",!0),e.R7$(),e.Y8G("widget",!0))},dependencies:[T.Wk,y.aY,ae,_e,ve,x.U],styles:[".main[_ngcontent-%COMP%]{max-width:90%}.col[_ngcontent-%COMP%]{padding-bottom:20px;padding-left:10px;padding-right:10px}.card[_ngcontent-%COMP%]{background-color:var(--bg)}.card-title[_ngcontent-%COMP%]{font-size:1rem;color:var(--title-fg)}.card-title[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{color:var(--title-fg)}.card-text[_ngcontent-%COMP%]{font-size:22px}.title-link[_ngcontent-%COMP%], .title-link[_ngcontent-%COMP%]:hover, .title-link[_ngcontent-%COMP%]:focus, .title-link[_ngcontent-%COMP%]:active{text-align:center;display:block;margin-bottom:10px;text-decoration:none;color:inherit}"],changeDetection:0})}return n})();var ss=r(7913);const as=(n,s)=>[n,s],_s=()=>["fas","qrcode"];function ls(n,s){if(1&n&&e.nrm(0,"app-amount",42),2&n){const t=e.XpG().ngIf;e.Y8G("satoshis",t.sumLiquidity)("digitsInfo","1.2-2")("noFiat",!1)}}function cs(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",43),e.pXf(3,11),e.k0s()),2&n){const t=e.XpG().ngIf;e.SpI(" ",e.i5U(1,1,t.sumLiquidity,1)," ")}}function ds(n,s){if(1&n&&(e.j41(0,"div",31)(1,"div",32)(2,"table",33)(3,"tbody")(4,"tr")(5,"td"),e.pXf(6,7),e.k0s(),e.j41(7,"td")(8,"div",34),e.EFF(9,"These are the Lightning nodes operated by The Mempool Open Source Project that provide data for the mempool.space website. Connect to us! "),e.k0s()()(),e.j41(10,"tr")(11,"td"),e.pXf(12,8),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s()(),e.j41(15,"tr")(16,"td"),e.pXf(17,9),e.k0s(),e.j41(18,"td"),e.DNE(19,ls,1,3,"app-amount",35)(20,cs,4,4,"ng-template",null,1,e.C5r),e.j41(22,"span",36),e.EFF(23,"\xa0"),e.k0s(),e.nrm(24,"span",37)(25,"app-fiat",38),e.k0s()(),e.j41(26,"tr")(27,"td"),e.pXf(28,10),e.k0s(),e.j41(29,"td"),e.EFF(30),e.k0s()()()()(),e.j41(31,"div",39)(32,"div",40),e.nrm(33,"app-nodes-map",41),e.k0s()()()),2&n){const t=s.ngIf,i=e.sdS(21);e.R7$(14),e.JRh(t.nodes.length),e.R7$(5),e.Y8G("ngIf",t.sumLiquidity>1e8)("ngIfElse",i),e.R7$(6),e.Y8G("value",t.sumLiquidity),e.R7$(5),e.JRh(t.sumChannels),e.R7$(3),e.Y8G("widget",!0)("nodes",t.nodes)}}function rs(n,s){if(1&n&&e.nrm(0,"app-amount",42),2&n){const t=e.XpG().$implicit;e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function gs(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",43),e.pXf(3,12),e.k0s()),2&n){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.capacity,1)," ")}}function ps(n,s){if(1&n&&(e.j41(0,"span",59),e.EFF(1),e.k0s()),2&n){const t=e.XpG(2).$implicit,i=e.XpG(2);e.R7$(),e.JRh(t.socketsObject[i.selectedSocketIndex].label)}}function Ns(n,s){if(1&n){const t=e.RV6();e.j41(0,"div",52),e.DNE(1,ps,2,1,"ng-template",null,2,e.C5r),e.nrm(3,"input",53),e.j41(4,"button",54),e.bIt("mouseover",function(){e.eBV(t);const o=e.XpG().index,a=e.XpG(2);return e.Njj(a.qrCodeVisible[o]=1)})("mouseout",function(){e.eBV(t);const o=e.XpG().index,a=e.XpG(2);return e.Njj(a.qrCodeVisible[o]=0)}),e.nrm(5,"fa-icon",55),e.j41(6,"div",56),e.nrm(7,"app-qrcode",57),e.k0s()(),e.nrm(8,"app-clipboard",58),e.k0s()}if(2&n){const t=e.XpG(),i=t.$implicit,o=t.index,a=e.XpG(2);e.R7$(3),e.Y8G("value",i.socketsObject[a.selectedSocketIndex].socket),e.R7$(2),e.Y8G("icon",e.lJ4(9,_s))("fixedWidth",!0),e.R7$(),e.Y8G("hidden",!a.qrCodeVisible[o]),e.R7$(),e.Y8G("size",200)("data",i.socketsObject[a.selectedSocketIndex].socket),e.R7$(),e.Y8G("button",!0)("text",i.socketsObject[a.selectedSocketIndex].socket)("leftPadding",!1)}}function fs(n,s){if(1&n&&(e.j41(0,"tr")(1,"td",27)(2,"div",45)(3,"a",46),e.nI1(4,"relativeUrl"),e.EFF(5),e.k0s(),e.j41(6,"div",47),e.EFF(7),e.DNE(8,rs,1,3,"app-amount",35)(9,gs,4,4,"ng-template",null,1,e.C5r),e.k0s()()(),e.j41(11,"td",48),e.DNE(12,Ns,9,10,"div",49),e.k0s(),e.j41(13,"td",50),e.nrm(14,"app-geolocation",51),e.k0s()()),2&n){const t=s.$implicit,i=e.sdS(10);e.R7$(3),e.Y8G("routerLink",e.l_i(10,as,e.bMT(4,8,"/lightning/node/"),t.public_key)),e.R7$(2),e.JRh(t.alias),e.R7$(2),e.SpI("",t.opened_channel_count," channel(s), "),e.R7$(),e.Y8G("ngIf",t.capacity>1e8)("ngIfElse",i),e.R7$(4),e.Y8G("ngIf",t.socketsObject.length),e.R7$(2),e.Y8G("data",t.geolocation)("type","list-isp")}}function Cs(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,fs,15,13,"tr",44),e.k0s()),2&n){const t=s.ngIf,i=e.XpG();e.R7$(),e.Y8G("ngForOf",t.nodes)("ngForTrackBy",i.trackByPublicKey)}}function Ts(n,s){1&n&&(e.j41(0,"tr")(1,"td",61),e.nrm(2,"span",62),e.k0s(),e.j41(3,"td"),e.nrm(4,"span",62),e.k0s(),e.j41(5,"td",63),e.nrm(6,"span",62),e.k0s()())}function us(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Ts,7,0,"tr",60),e.k0s()),2&n){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.skeletonLines)}}let Ss=(()=>{class n{constructor(t,i,o){this.lightningApiService=t,this.seoService=i,this.formBuilder=o,this.skeletonLines=[],this.selectedSocketIndex=0,this.qrCodeVisible=[0,0,0,0,0,0,0,0,0,0,0,0];for(let a=0;a<20;++a)this.skeletonLines.push(a)}ngOnInit(){this.socketToggleForm=this.formBuilder.group({socket:[this.selectedSocketIndex]}),this.socketToggleForm.get("socket").valueChanges.subscribe(t=>{this.selectedSocketIndex=t}),this.seoService.setTitle("Mempool.space Lightning Nodes"),this.seoService.setDescription("See all Lightning nodes run by mempool.space -- these are the nodes that provide the data on the mempool.space Lightning dashboard."),this.nodes$=this.lightningApiService.getNodeGroup$("mempool.space").pipe((0,L.T)(t=>{for(const a of t){const l=[];for(const c of a.sockets.split(",")){if(""===c)continue;let g="";c.match(/(?:[0-9]{1,3}\.){3}[0-9]{1,3}/)?g="IPv4":c.indexOf("[")>-1?g="IPv6":c.indexOf("onion")>-1&&(g="Tor"),l.push({label:g,socket:a.public_key+"@"+c})}a.socketsObject=l,a.geolocation=a?.country||a?.city||a?.subdivision?{country:a.country?.en,city:a.city?.en,subdivision:a.subdivision?.en,iso:a.iso_code}:null}t.map(a=>(a.channels=a.opened_channel_count,a));const i=t.reduce((a,l)=>a+parseInt(l.capacity,10),0),o=t.reduce((a,l)=>a+l.opened_channel_count,0);return{nodes:t,sumLiquidity:i,sumChannels:o}}),(0,R.u)())}trackByPublicKey(t,i){return i.public_key}changeSocket(t){this.selectedSocketIndex=t}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(E.B),e.rXU(A.ze))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-group"]],decls:34,vars:14,consts:()=>{let t,i,o,a,l,c,g,d,C,N;return t="\u0932\u093E\u0907\u091F\u0928\u093F\u0902\u0917 \u0928\u094B\u0921 \u0938\u092E\u0942\u0939",i="\u0909\u092A\u0928\u093E\u092E",o="\u091C\u094B\u0921\u093C\u0928\u093E",a="\u091C\u0917\u0939",l="\u0935\u093F\u0935\u0930\u0923",c="\u0928\u094B\u0921\u094D\u0938",g="\u0932\u093F\u0915\u094D\u0935\u093F\u0921\u093F\u091F\u0940",d="\u091A\u0948\u0928\u0932",C="\u0938\u0948\u091F\u094D\u0938",N="\u0938\u0948\u091F\u094D\u0938",[["skeleton",""],["smallnode",""],["noDropdown",""],t,i,o,a,l,c,g,d,C,N,[1,"container-xl","full-height",2,"min-height","335px"],[1,"mb-1",2,"color","var(--transparent-fg)"],[1,"header"],[1,"logo-container"],["name","officialMempoolSpace","viewBox","0 0 125 126"],[1,"box"],["class","row",4,"ngIf"],[1,"toggle-holder"],[1,"formRadioGroup",3,"formGroup"],["name","radioBasic",1,"btn-group","btn-group-toggle"],[1,"btn","btn-primary","btn-sm"],["type","radio","formControlName","socket",3,"value"],[2,"min-height","295px"],[1,"table","table-borderless"],[1,"alias","text-left"],[1,"text-left"],[1,"city","text-right","d-none","d-md-table-cell"],[4,"ngIf","ngIfElse"],[1,"row"],[1,"col-12","col-md-6"],[1,"table","table-borderless","table-striped"],[1,"description-text"],[3,"satoshis","digitsInfo","noFiat",4,"ngIf","ngIfElse"],[1,"d-none","d-md-inline-block"],[1,"d-block","d-md-none"],["digitsInfo","1.0-0",3,"value"],[1,"col-12","col-md-6","p-3","p-md-0","pr-md-3"],[2,"background-color","var(--stat-box-bg)"],["type","isp",3,"widget","nodes"],[3,"satoshis","digitsInfo","noFiat"],[1,"sats"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"text-truncate"],[3,"routerLink"],[1,"second-line"],[1,"timestamp-first","text-left"],["class","input-group",4,"ngIf"],[1,"city","text-right","text-truncate","d-none","d-md-table-cell"],[3,"data","type"],[1,"input-group"],["type","text","aria-label","Text input with dropdown button",1,"form-control",3,"value"],["type","button","id","inputGroupFileAddon04",1,"btn","btn-secondary",3,"mouseover","mouseout"],[3,"icon","fixedWidth"],[1,"qr-wrapper",3,"hidden"],[3,"size","data"],[3,"button","text","leftPadding"],["id","basic-addon3",1,"input-group-text"],[4,"ngFor","ngForOf"],[1,"alias"],[1,"skeleton-loader"],[1,"timestamp-update","d-none","d-md-table-cell"]]},template:function(i,o){if(1&i&&(e.j41(0,"div",13)(1,"h5",14),e.pXf(2,3),e.k0s(),e.j41(3,"div",15)(4,"div",16),e.nrm(5,"app-svg-images",17),e.k0s(),e.j41(6,"h1"),e.EFF(7,"The Mempool Open Source Project"),e.k0s()(),e.j41(8,"div",18),e.DNE(9,ds,34,7,"div",19),e.nI1(10,"async"),e.k0s(),e.nrm(11,"br"),e.j41(12,"div",20)(13,"form",21)(14,"div",22)(15,"label",23),e.nrm(16,"input",24),e.EFF(17,"IPv4 "),e.k0s(),e.j41(18,"label",23),e.nrm(19,"input",24),e.EFF(20,"IPv6 "),e.k0s()()()(),e.j41(21,"div",25)(22,"table",26)(23,"thead")(24,"th",27),e.pXf(25,4),e.k0s(),e.j41(26,"th",28),e.pXf(27,5),e.k0s(),e.j41(28,"th",29),e.pXf(29,6),e.k0s()(),e.DNE(30,Cs,2,2,"tbody",30),e.nI1(31,"async"),e.DNE(32,us,2,1,"ng-template",null,0,e.C5r),e.k0s()()()),2&i){const a=e.sdS(33);e.R7$(9),e.Y8G("ngIf",e.bMT(10,10,o.nodes$)),e.R7$(4),e.Y8G("formGroup",o.socketToggleForm),e.R7$(2),e.AVh("active",0===o.socketToggleForm.get("socket").value),e.R7$(),e.Y8G("value",0),e.R7$(2),e.AVh("active",1===o.socketToggleForm.get("socket").value),e.R7$(),e.Y8G("value",1),e.R7$(11),e.Y8G("ngIf",e.bMT(31,12,o.nodes$))("ngIfElse",a)}},dependencies:[_.Sq,_.bT,T.Wk,A.qT,A.me,A.Fm,A.BC,A.cb,A.j4,A.JD,y.aY,J.w,Ee.q,$.k,I.Y,ss.m,z,fe.E,_.Jj,x.U,v.x],styles:[".logo-container[_ngcontent-%COMP%]{width:50px}.header[_ngcontent-%COMP%]{text-align:center;display:flex}h1[_ngcontent-%COMP%]{margin-inline-start:15px}.qr-wrapper[_ngcontent-%COMP%]{background-color:var(--fg);padding:10px 10px 5px;display:inline-block;position:absolute;bottom:50px;left:-175px;z-index:100}.dropdownLabel[_ngcontent-%COMP%]{min-width:50px;display:inline-block}#inputGroupFileAddon04[_ngcontent-%COMP%]{position:relative}.toggle-holder[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:flex-end}@media (max-width: 767.98px){.text-truncate[_ngcontent-%COMP%]{width:120px}.btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;line-height:1.5;border-radius:.2rem}}.second-line[_ngcontent-%COMP%]{font-size:12px}.description-text[_ngcontent-%COMP%]{white-space:break-spaces}.timestamp-first[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-inline-end:.25rem}.rtl-layout[_nghost-%COMP%]   .timestamp-first[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .rtl-layout   [_nghost-%COMP%]   .timestamp-first[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-inline-end:.25rem}"]})}return n})();var hs=r(1413);const ms=(n,s)=>[n,s],xe=n=>[n];function Es(n,s){if(1&n&&e.nrm(0,"app-amount",32),2&n){const t=e.XpG().$implicit;e.Y8G("satoshis",t.capacity)("digitsInfo","1.2-2")("noFiat",!0)}}function Is(n,s){if(1&n&&(e.EFF(0),e.nI1(1,"amountShortener"),e.j41(2,"span",33),e.pXf(3,11),e.k0s()),2&n){const t=e.XpG().$implicit;e.SpI(" ",e.i5U(1,1,t.capacity,1)," ")}}function Os(n,s){1&n&&e.eu8(0)}function Ps(n,s){if(1&n&&(e.j41(0,"tr"),e.DNE(1,Os,1,0,"ng-container",34),e.k0s()),2&n){e.XpG(3);const t=e.sdS(22);e.R7$(),e.Y8G("ngTemplateOutlet",t)}}function Gs(n,s){if(1&n){const t=e.RV6();e.qex(0),e.j41(1,"tr")(2,"td",19),e.EFF(3),e.nI1(4,"date"),e.k0s(),e.j41(5,"td",25),e.DNE(6,Es,1,3,"app-amount",26)(7,Is,4,4,"ng-template",null,2,e.C5r),e.k0s(),e.j41(9,"td",27),e.nrm(10,"app-truncate",28),e.k0s(),e.j41(11,"td",27),e.nrm(12,"app-truncate",28),e.k0s(),e.j41(13,"td",22)(14,"a",29),e.nI1(15,"relativeUrl"),e.EFF(16),e.k0s()(),e.j41(17,"td",30)(18,"button",31),e.bIt("click",function(){const o=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.toggleDetails(o))}),e.pXf(19,10),e.k0s()()(),e.DNE(20,Ps,2,1,"tr",23),e.bVm()}if(2&n){const t=s.$implicit,i=e.sdS(8),o=e.XpG(2);e.R7$(3),e.SpI(" \u200e",e.i5U(4,14,t.closing_date,"yyyy-MM-dd HH:mm")," "),e.R7$(3),e.Y8G("ngIf",t.capacity>1e8)("ngIfElse",i),e.R7$(4),e.Y8G("text",t.alias_left||"?")("maxWidth",200)("lastChars",6)("inline",!0),e.R7$(2),e.Y8G("text",t.alias_right||"?")("maxWidth",200)("lastChars",6)("inline",!0),e.R7$(2),e.Y8G("routerLink",e.l_i(19,ms,e.bMT(15,17,"/lightning/channel"),t.id)),e.R7$(2),e.JRh(t.short_id),e.R7$(4),e.Y8G("ngIf",t.short_id===o.expanded)}}function Ms(n,s){if(1&n&&(e.j41(0,"tbody"),e.DNE(1,Gs,21,22,"ng-container",24),e.k0s()),2&n){const t=s.ngIf;e.R7$(),e.Y8G("ngForOf",t)}}function Rs(n,s){if(1&n&&(e.j41(0,"div",38)(1,"h5"),e.pXf(2,12),e.k0s()(),e.nrm(3,"app-transactions-list",39,3)),2&n){const t=e.XpG(3);e.R7$(3),e.Y8G("transactions",e.eq3(3,xe,t.transactions[0]))("showConfirmations",!0)("rowLimit",5)}}function bs(n,s){if(1&n&&(e.j41(0,"div",40)(1,"h5",41),e.pXf(2,13),e.k0s(),e.EFF(3,"\xa0\xa0"),e.nrm(4,"app-closing-type",42),e.k0s(),e.nrm(5,"app-transactions-list",39,4)),2&n){const t=e.XpG(3);e.R7$(4),e.Y8G("type",3),e.R7$(),e.Y8G("transactions",e.eq3(4,xe,t.transactions[1]))("showConfirmations",!0)("rowLimit",5)}}function $s(n,s){if(1&n&&(e.j41(0,"td",36),e.DNE(1,Rs,5,5,"ng-template",37)(2,bs,7,6,"ng-template",37),e.k0s()),2&n){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",t.transactions[0]),e.R7$(),e.Y8G("ngIf",t.transactions[1])}}function Ls(n,s){if(1&n&&e.DNE(0,$s,3,2,"td",35),2&n){const t=e.XpG(),i=e.sdS(24);e.Y8G("ngIf",t.transactions&&!t.loadingTransactions)("ngIfElse",i)}}function As(n,s){1&n&&(e.j41(0,"td",36)(1,"div",43),e.nrm(2,"div",44),e.k0s()())}const ys=[{path:"",component:Yt,children:[{path:"",component:wt},{path:"node/:public_key",data:{networkSpecific:!0},component:Ii},{path:"channel/:short_id",data:{networkSpecific:!0},component:No},{path:"nodes/country/:country",component:Po},{path:"nodes/isp/:isp",component:ko},{path:"group/the-mempool-open-source-project",component:Ss},{path:"nodes/rankings",component:os},{path:"nodes/rankings/liquidity",component:Ce,data:{type:"capacity"}},{path:"nodes/rankings/connectivity",component:Ce,data:{type:"channels"}},{path:"nodes/oldest",component:Ce,data:{type:"oldest"}},{path:"penalties",component:(()=>{class n{constructor(t,i,o){this.apiService=t,this.electrsApiService=i,this.cd=o,this.fetchTransactions$=new hs.B,this.expanded=null,this.loadingTransactions=!0}ngOnInit(){this.justiceChannels$=this.apiService.getPenaltyClosedChannels$(),this.transactionsSubscription=this.fetchTransactions$.pipe((0,D.M)(()=>{this.loadingTransactions=!0}),(0,j.n)(t=>(0,Ge.y)([t.transaction_id?this.electrsApiService.getTransaction$(t.transaction_id):(0,ne.of)(null),t.closing_transaction_id?this.electrsApiService.getTransaction$(t.closing_transaction_id):(0,ne.of)(null)]))).subscribe(t=>{this.transactions=t,this.loadingTransactions=!1,this.cd.markForCheck()})}toggleDetails(t){this.expanded===t.short_id?this.expanded=null:(this.expanded=t.short_id,this.fetchTransactions$.next(t))}ngOnDestroy(){this.transactionsSubscription.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)(e.rXU(m.C),e.rXU(Me.o),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:n,selectors:[["app-justice-list"]],decls:25,vars:3,consts:()=>{let t,i,o,a,l,c,g,d,C;return t="\u0926\u0902\u0921",i="\u092C\u0902\u0926 \u0915\u093F\u092F\u093E \u0939\u0941\u0906",o="\u0915\u094D\u0937\u092E\u0924\u093E",a="\u0928\u094B\u0921\u094D\u0938",l="\u091A\u0948\u0928\u0932 \u0906\u0908\u0921\u0940",c="\u0935\u093F\u0935\u0930\u0923",g="\u0938\u0948\u091F\u094D\u0938",d="\u092A\u094D\u0930\u093E\u0930\u0902\u092D\u093F\u0915 \u0932\u0947\u0928\u0926\u0947\u0928",C="\u0932\u0947\u0928\u0926\u0947\u0928 \u0938\u092E\u093E\u092A\u0928",[["channelTransactions",""],["loadingTemplate",""],["smallnode",""],["txList1",""],["txList2",""],t,i,o,a,l,c,g,d,C,[1,"container-xl","full-height",2,"min-height","335px"],[1,"float-left"],[1,"clearfix"],[2,"min-height","295px"],[1,"table","table-borderless"],[1,"timestamp"],[1,"channels","text-right"],[1,"node","text-right"],[1,"channelid","text-right"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"capacity","text-right"],[3,"satoshis","digitsInfo","noFiat",4,"ngIf","ngIfElse"],[1,"alias","text-right"],["textAlign","end",3,"text","maxWidth","lastChars","inline"],[3,"routerLink"],[1,"text-right"],["type","button",1,"btn","btn-outline-info","details-button","btn-sm",3,"click"],[3,"satoshis","digitsInfo","noFiat"],[1,"sats"],[4,"ngTemplateOutlet"],["colspan","6",4,"ngIf","ngIfElse"],["colspan","6"],[3,"ngIf"],[1,"d-flex"],[3,"transactions","showConfirmations","rowLimit"],[1,"closing-header","d-flex"],[2,"margin","0"],[3,"type"],[1,"text-center"],[1,"spinner-border","text-light"]]},template:function(i,o){1&i&&(e.j41(0,"div",14)(1,"h1",15),e.pXf(2,5),e.k0s(),e.nrm(3,"div",16),e.j41(4,"div",17)(5,"table",18)(6,"thead")(7,"th",19),e.pXf(8,6),e.k0s(),e.j41(9,"th",20),e.pXf(10,7),e.k0s(),e.nrm(11,"th",21),e.j41(12,"th",21),e.pXf(13,8),e.k0s(),e.j41(14,"th",22),e.pXf(15,9),e.k0s(),e.nrm(16,"th"),e.k0s(),e.DNE(17,Ms,2,1,"tbody",23),e.nI1(18,"async"),e.k0s(),e.nrm(19,"div",16)(20,"br"),e.k0s()(),e.DNE(21,Ls,1,2,"ng-template",null,0,e.C5r)(23,As,3,0,"ng-template",null,1,e.C5r)),2&i&&(e.R7$(17),e.Y8G("ngIf",e.bMT(18,1,o.justiceChannels$)))},dependencies:[_.Sq,_.bT,_.T3,T.Wk,I.Y,Re.d,te.o,pe.r,_.Jj,_.vh,x.U,v.x],styles:[".container-xl[_ngcontent-%COMP%]{max-width:1400px}.container-xl.widget[_ngcontent-%COMP%]{padding-right:0;padding-left:0;padding-bottom:0}tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:0px;padding-top:.65rem!important;padding-bottom:.7rem!important}.clear-link[_ngcontent-%COMP%]{color:#fff}.pool[_ngcontent-%COMP%]{width:15%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:160px}@media (max-width: 575px){.pool[_ngcontent-%COMP%]{width:75%}}.pool-name[_ngcontent-%COMP%]{display:inline-block;vertical-align:text-top;text-overflow:ellipsis;overflow:hidden}.liquidity[_ngcontent-%COMP%]{width:10%}@media (max-width: 575px){.liquidity[_ngcontent-%COMP%]{width:25%}}.fiat[_ngcontent-%COMP%]{width:15%}@media (min-width: 768px) and (max-width: 991px){.fiat[_ngcontent-%COMP%]{display:none!important}}@media (max-width: 575px){.fiat[_ngcontent-%COMP%]{display:none!important}}"],changeDetection:0})}return n})()},{path:"**",redirectTo:""}]},{path:"**",redirectTo:""}];let vs=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({imports:[T.iI.forChild(ys),T.iI]})}return n})();var xs=r(682);let ks=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.$C({type:n});static#n=this.\u0275inj=e.G2t({providers:[m.C],imports:[_.MD,F.G,T.iI,vs,xs.GraphsModule]})}return n})()},3089:(oe,w,r)=>{r.d(w,{z:()=>y});var _=r(4438),F=r(2083),m=r(177);function T(f,$){if(1&f&&(_.j41(0,"span"),_.EFF(1),_.k0s()),2&f){const I=_.XpG();_.R7$(),_.JRh(I.valueOverride)}}function k(f,$){if(1&f&&(_.j41(0,"span"),_.EFF(1),_.nI1(2,"number"),_.k0s()),2&f){const I=_.XpG();_.R7$(),_.Lme("\u200e",I.addPlus&&I.satoshis>=0?"+":"","",_.i5U(2,2,I.satoshis,I.digitsInfo)," ")}}function R(f,$){1&f&&_.EFF(0,"L-")}function e(f,$){1&f&&_.EFF(0,"tL-")}function E(f,$){1&f&&_.EFF(0,"t-")}function B(f,$){1&f&&_.EFF(0,"t-")}function M(f,$){1&f&&_.EFF(0,"s-")}let y=(()=>{class f{constructor(I){this.stateService=I,this.digitsInfo="1.0-0",this.addPlus=!1,this.valueOverride=void 0,this.network=""}ngOnInit(){this.stateSubscription=this.stateService.networkChanged$.subscribe(I=>this.network=I)}ngOnDestroy(){this.stateSubscription&&this.stateSubscription.unsubscribe()}static#e=this.\u0275fac=function(v){return new(v||f)(_.rXU(F.d))};static#t=this.\u0275cmp=_.VBU({type:f,selectors:[["app-sats"]],inputs:{satoshis:"satoshis",digitsInfo:"digitsInfo",addPlus:"addPlus",valueOverride:"valueOverride"},decls:9,vars:7,consts:[[4,"ngIf"],[1,"symbol"],[3,"ngIf"]],template:function(v,H){1&v&&(_.DNE(0,T,2,1,"span",0)(1,k,3,5,"span",0),_.j41(2,"span",1),_.DNE(3,R,1,0,"ng-template",2)(4,e,1,0,"ng-template",2)(5,E,1,0,"ng-template",2)(6,B,1,0,"ng-template",2)(7,M,1,0,"ng-template",2),_.EFF(8,"sats\n"),_.k0s()),2&v&&(_.Y8G("ngIf",void 0!==H.valueOverride),_.R7$(),_.Y8G("ngIf",void 0===H.valueOverride),_.R7$(2),_.Y8G("ngIf","liquid"===H.network),_.R7$(),_.Y8G("ngIf","liquidtestnet"===H.network),_.R7$(),_.Y8G("ngIf","testnet"===H.network),_.R7$(),_.Y8G("ngIf","testnet4"===H.network),_.R7$(),_.Y8G("ngIf","signet"===H.network))},dependencies:[m.bT,m.QX]})}return f})()},3417:(oe,w,r)=>{r.d(w,{m:()=>e});var _=r(4438),F=r(177),m=r(413);function T(E,B){1&E&&(_.j41(0,"span"),_.EFF(1,"-"),_.k0s())}function k(E,B){if(1&E&&(_.j41(0,"div",2)(1,"i",3),_.EFF(2,"("),_.nrm(3,"app-time",4),_.EFF(4,")"),_.k0s()()),2&E){const M=_.XpG(2);_.R7$(3),_.Y8G("time",M.seconds)("fastRender",!0)("precision",M.precision)("minUnit",M.minUnit)}}function R(E,B){if(1&E&&(_.j41(0,"span"),_.EFF(1),_.nI1(2,"date"),_.DNE(3,k,5,4,"div",1),_.k0s()),2&E){let M;const y=_.XpG();_.R7$(),_.SpI(" \u200e",_.i5U(2,2,1e3*y.seconds,null!==(M=y.customFormat)&&void 0!==M?M:"yyyy-MM-dd HH:mm")," "),_.R7$(2),_.Y8G("ngIf",!y.hideTimeSince)}}let e=(()=>{class E{constructor(){this.hideTimeSince=!1,this.precision=0,this.minUnit="second",this.seconds=void 0}ngOnChanges(){this.unixTime?this.seconds=this.unixTime:this.dateString&&(this.seconds=new Date(this.dateString).getTime()/1e3)}static#e=this.\u0275fac=function(y){return new(y||E)};static#t=this.\u0275cmp=_.VBU({type:E,selectors:[["app-timestamp"]],inputs:{unixTime:"unixTime",dateString:"dateString",customFormat:"customFormat",hideTimeSince:"hideTimeSince",precision:"precision",minUnit:"minUnit"},features:[_.OA$],decls:2,vars:2,consts:[[4,"ngIf"],["class","lg-inline",4,"ngIf"],[1,"lg-inline"],[1,"symbol"],["kind","since",3,"time","fastRender","precision","minUnit"]],template:function(y,f){1&y&&_.DNE(0,T,2,0,"span",0)(1,R,4,5,"span",0),2&y&&(_.Y8G("ngIf",void 0===f.seconds),_.R7$(),_.Y8G("ngIf",void 0!==f.seconds))},dependencies:[F.bT,m.$,F.vh],changeDetection:0})}return E})()}}]);